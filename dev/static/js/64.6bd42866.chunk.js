(this["webpackJsonpigj-frontend"]=this["webpackJsonpigj-frontend"]||[]).push([[64],{817:function(e,a,t){"use strict";var s=t(2),r=t(3),c=t(6),l=t.n(c),n=t(0),i=t.n(n),o=t(9),d=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],j=i.a.forwardRef(function(e,a){var t=e.bsPrefix,c=e.className,n=e.striped,j=e.bordered,b=e.borderless,m=e.hover,u=e.size,O=e.variant,p=e.responsive,h=Object(r.a)(e,d),x=Object(o.a)(t,"table"),f=l()(c,x,O&&x+"-"+O,u&&x+"-"+u,n&&x+"-striped",j&&x+"-bordered",b&&x+"-borderless",m&&x+"-hover"),g=i.a.createElement("table",Object(s.a)({},h,{className:f,ref:a}));if(p){var N=x+"-responsive";return"string"===typeof p&&(N=N+"-"+p),i.a.createElement("div",{className:N},g)}return g});a.a=j},818:function(e,a,t){"use strict";var s=t(2),r=t(3),c=t(6),l=t.n(c),n=t(0),i=t.n(n),o=t(9),d=t(131),j=["active","disabled","className","style","activeLabel","children"],b=["children"],m=i.a.forwardRef(function(e,a){var t=e.active,c=e.disabled,n=e.className,o=e.style,b=e.activeLabel,m=e.children,u=Object(r.a)(e,j),O=t||c?"span":d.a;return i.a.createElement("li",{ref:a,style:o,className:l()(n,"page-item",{active:t,disabled:c})},i.a.createElement(O,Object(s.a)({className:"page-link",disabled:c},u),m,t&&b&&i.a.createElement("span",{className:"sr-only"},b)))});m.defaultProps={active:!1,disabled:!1,activeLabel:"(current)"},m.displayName="PageItem";var u=m;function O(e,a,t){function s(e){var s=e.children,c=Object(r.a)(e,b);return i.a.createElement(m,c,i.a.createElement("span",{"aria-hidden":"true"},s||a),i.a.createElement("span",{className:"sr-only"},t))}return void 0===t&&(t=e),s.displayName=e,s}var p=O("First","\xab"),h=O("Prev","\u2039","Previous"),x=O("Ellipsis","\u2026","More"),f=O("Next","\u203a"),g=O("Last","\xbb"),N=["bsPrefix","className","children","size"],v=i.a.forwardRef(function(e,a){var t=e.bsPrefix,c=e.className,n=e.children,d=e.size,j=Object(r.a)(e,N),b=Object(o.a)(t,"pagination");return i.a.createElement("ul",Object(s.a)({ref:a},j,{className:l()(c,b,d&&b+"-"+d)}),n)});v.First=p,v.Prev=h,v.Ellipsis=x,v.Item=u,v.Next=f,v.Last=g;a.a=v},982:function(e,a,t){"use strict";t.r(a),t.d(a,"Entidades",function(){return v});var s=t(8),r=t(0),c=t.n(r),l=t(812),n=t(404),i=t(403),o=t(818),d=t(864),j=t(814),b=t(817),m=t(821),u=t(7),O=t(816),p=t(26),h=t(30),x=t(22),f=t(76),g=t(1);const N="/configuracao/taxacasino",v=[{value:"1edec189f637517791edc5f7859d5622dfcf",label:"Casino Maio"},{value:"9a182b620443cbef3036ff397d3010f34923",label:"Casino Santiago"},{value:"243954801f3a0dc2306c5d0c0ef45bbd228a",label:"Casino Royal"},{value:"469da868b3ce93bbc7c8465a47f0acfa5aa0",label:"Casino Boa Vista"},{value:"008553d58fb786ad43a600eed327ccf62789",label:"Casino Mindelo"}];function y(e){let{columns:a,data:t,modalOpen:r}=e;const{permissoes:c}=Object(p.a)(),{getTableProps:d,getTableBodyProps:j,headerGroups:m,prepareRow:u,globalFilter:h,setGlobalFilter:x,page:v,canPreviousPage:y,canNextPage:E,pageOptions:C,pageCount:P,gotoPage:S,nextPage:_,previousPage:I,setPageSize:D,state:{pageIndex:w,pageSize:F}}=Object(O.useTable)({columns:a,data:t,initialState:{pageIndex:0,pageSize:10}},O.useGlobalFilter,O.useSortBy,O.usePagination);return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(l.a,{className:"mb-3",children:[Object(g.jsxs)(n.a,{className:"d-flex align-items-center",children:["Mostrar",Object(g.jsx)("select",{className:"form-control w-auto mx-2",value:F,onChange:e=>{D(Number(e.target.value))},children:[5,10,20,30,40,50].map(e=>Object(g.jsx)("option",{value:e,children:e},e))}),"entradas"]}),Object(g.jsx)(n.a,{className:"d-flex justify-content-end",children:0==Object(f.s)(N,c,"Criar")?null:Object(g.jsxs)(i.a,{variant:"primary",className:"btn-sm btn-round has-ripple ml-2",onClick:r,children:[Object(g.jsx)("i",{className:"feather icon-plus"})," Adicionar"]})})]}),Object(g.jsxs)(b.a,Object(s.a)(Object(s.a)({striped:!0,bordered:!0,hover:!0,responsive:!0},d()),{},{children:[Object(g.jsx)("thead",{children:m.map(e=>Object(g.jsx)("tr",Object(s.a)(Object(s.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map(e=>Object(g.jsxs)("th",Object(s.a)(Object(s.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),Object(g.jsx)("span",{children:e.isSorted?e.isSortedDesc?Object(g.jsx)("span",{className:"feather icon-arrow-down text-muted float-right"}):Object(g.jsx)("span",{className:"feather icon-arrow-up text-muted float-right"}):""})]})))})))}),Object(g.jsx)("tbody",Object(s.a)(Object(s.a)({},j()),{},{children:v.map((e,a)=>(u(e),Object(g.jsx)("tr",Object(s.a)(Object(s.a)({},e.getRowProps()),{},{children:e.cells.map(e=>{const a=e.column.centered;return Object(g.jsx)("td",Object(s.a)(Object(s.a)({},e.getCellProps()),{},{className:a?"text-center":"text-right",children:e.render("Cell")}))})}))))}))]})),Object(g.jsxs)(l.a,{className:"justify-content-between",children:[Object(g.jsx)(n.a,{children:Object(g.jsxs)("span",{className:"d-flex align-items-center",children:["P\xe1gina"," "," ",Object(g.jsxs)("strong",{children:[" ",w+1," de ",C.length," "]})," ","| Ir para a p\xe1gina:"," ",Object(g.jsx)("input",{type:"number",className:"form-control ml-2",defaultValue:w+1,onChange:e=>{const a=e.target.value?Number(e.target.value)-1:0;S(a)},style:{width:"100px"}})]})}),Object(g.jsx)(n.a,{children:Object(g.jsxs)(o.a,{className:"justify-content-end",children:[Object(g.jsx)(o.a.First,{onClick:()=>S(0),disabled:!y}),Object(g.jsx)(o.a.Prev,{onClick:()=>I(),disabled:!y}),Object(g.jsx)(o.a.Next,{onClick:()=>_(),disabled:!E}),Object(g.jsx)(o.a.Last,{onClick:()=>S(P-1),disabled:!E})]})})]})]})}a.default=()=>{const{permissoes:e}=Object(p.a)(),a=Object(x.g)(),{popUp_removerItem:t,popUp_alertaOK:s}=Object(p.a)(),o=c.a.useMemo(()=>[{Header:"Contrapartida 1",accessor:"Art_48_percent",centered:!1},{Header:"Contrapartida 2",accessor:"Art_49_percent",centered:!1},{Header:"Data",accessor:"DT_REGISTO",centered:!0},{Header:"A\xe7\xf5es",accessor:"action",centered:!0}],[]),[b,O]=Object(r.useState)(""),[E,C]=Object(r.useState)(""),[P,S]=Object(r.useState)(0),[_,I]=Object(r.useState)(""),[D,w]=Object(r.useState)([]),[F,A]=Object(r.useState)(""),[T,k]=Object(r.useState)(""),[H,z]=Object(r.useState)({}),[B]=Object(r.useState)(2e3),[G]=Object(r.useState)(2023),R=[];for(let r=B;r<=G;r++)R.push(r);const[M,q]=Object(r.useState)([]);async function L(){try{const t=await h.a.get("/contrapartida-entidade");if("200"==t.status){for(var a=0;a<t.data.length;a++){const s=t.data[a].ID;t.data[a].id=t.data[a].ID,t.data[a].DT_REGISTO=Object(f.d)(t.data[a].DT_REGISTO);const r=t.data[a];t.data[a].action=Object(g.jsxs)(c.a.Fragment,{children:[0==Object(f.s)(N,e,"Editar")?null:Object(g.jsx)(u.b,{to:"#",title:Object(f.u)(N,e,"Editar"),onClick:()=>V(r),className:"text-primary mx-1",children:Object(g.jsx)("i",{className:"text-primary "+Object(f.t)(N,e,"Editar")})}),0==Object(f.s)(N,e,"Eliminar")?null:Object(g.jsx)(u.b,{to:"#",title:Object(f.u)(N,e,"Eliminar"),onClick:()=>U(s),className:"text-danger",children:Object(g.jsx)("i",{className:""+Object(f.t)(N,e,"Eliminar")})})]})}q(t.data)}}catch(t){console.error(t.response)}}const V=e=>{A(e.ENTIDADE_ID),X(!0),Q(!1),Z(!1),z(e),k(e.ID),S(e.Art_48_percent),I(e.Art_49_percent);Math.max(e.entidade.length,v.length);const a=[];for(let t=0;t<v.length;t++){e.entidade.find(e=>e.ENTIDADE_ID==v[t].value)&&a.push({value:v[t].value,label:v[t].label})}w(a)};const J=async e=>{let a=!0;try{await h.a.delete("/contrapartida-entidade/"+e)}catch(t){a=!1,console.error(t.response),s("Falha. Tente mais tarde")}return L(),a},U=async e=>{t({delete:J,id:e})};Object(r.useEffect)(()=>{0==Object(f.l)(N,e)?a.push("/"):L()},[]);const[K,Q]=Object(r.useState)(!1),[W,X]=Object(r.useState)(!1),[Y,Z]=Object(r.useState)(!1),[$,ee]=Object(r.useState)(!1);return Object(g.jsx)(c.a.Fragment,{children:Object(g.jsx)(l.a,{children:Object(g.jsxs)(n.a,{sm:12,children:[Object(g.jsx)(d.a,{children:Object(g.jsx)(d.a.Body,{children:Object(g.jsx)(y,{columns:o,data:M,modalOpen:()=>{Q(!0),X(!1),Z(!1),k(""),O("")}})})}),Object(g.jsxs)(j.a,{size:"x",show:K,onHide:()=>Q(!1),children:[Object(g.jsx)(j.a.Header,{closeButton:!0,children:Object(g.jsx)(j.a.Title,{as:"h5",children:"Criar"})}),Object(g.jsx)(j.a.Body,{className:"newuserbox",children:Object(g.jsx)("form",{id:"criarItem",onSubmit:async function(e){e.preventDefault();const a={Art_48_percent:parseInt(P),Art_49_percent:parseInt(_),ENTIDADE_ID:D.map(e=>e.value)};console.log(a);try{"200"==(await h.a.post("/contrapartida-entidade",a)).status&&(L(),Q(!1))}catch(t){console.error(t.response)}},children:Object(g.jsxs)(l.a,{children:[Object(g.jsx)(n.a,{sm:6,children:Object(g.jsxs)("div",{className:"form-group fill",children:[Object(g.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Contrapartida 1 ",Object(g.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(g.jsx)("input",{onChange:e=>{S(e.target.value)},type:"number",className:"form-control",required:!0})]})}),Object(g.jsx)(n.a,{sm:6,children:Object(g.jsxs)("div",{className:"form-group fill",children:[Object(g.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Contrapartida 2 ",Object(g.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(g.jsx)("input",{onChange:e=>{I(e.target.value)},type:"number",className:"form-control",required:!0})]})}),Object(g.jsx)(n.a,{sm:12,children:Object(g.jsxs)("div",{className:"form-group fill",children:[Object(g.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Entidade ",Object(g.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(g.jsx)(m.a,{className:"basic-single",classNamePrefix:"select",onChange:e=>w(e),name:"pessoa",options:v,defaultValue:D.map(e=>e.value==F?e:null),required:!0,menuPlacement:"auto",menuPosition:"fixed",placeholder:"Entidade...",isMulti:!0})]})})]})})}),Object(g.jsxs)(j.a.Footer,{children:[Object(g.jsx)(i.a,{variant:"danger",onClick:()=>Q(!1),children:"Fechar"}),Object(g.jsx)(i.a,{type:"submit",form:"criarItem",variant:"primary",children:"Guardar"})]})]}),Object(g.jsxs)(j.a,{size:"x",show:W,onHide:()=>X(!1),children:[Object(g.jsx)(j.a.Header,{closeButton:!0,children:Object(g.jsx)(j.a.Title,{as:"h5",children:"Editar"})}),Object(g.jsx)(j.a.Body,{className:"newuserbox",children:Object(g.jsx)("form",{id:"editarItem",onSubmit:async function(e){e.preventDefault();const a={ANO:E,Art_48_percent:P,Art_49_percent:_,ENTIDADE_ID:D.map(e=>e.value)};console.log(a);try{"200"==(await h.a.put("/contrapartida-entidade/"+H.ID,a)).status&&(L(),X(!1))}catch(t){console.error(t.response)}},children:Object(g.jsxs)(l.a,{children:[Object(g.jsx)(n.a,{sm:6,children:Object(g.jsxs)("div",{className:"form-group fill",children:[Object(g.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Contrapartida 1",Object(g.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(g.jsx)("input",{defaultValue:H.Art_48_percent,onChange:e=>{S(e.target.value)},type:"number",className:"form-control",required:!0})]})}),Object(g.jsx)(n.a,{sm:6,children:Object(g.jsxs)("div",{className:"form-group fill",children:[Object(g.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Contrapartida 2 ",Object(g.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(g.jsx)("input",{defaultValue:H.Art_49_percent,onChange:e=>{I(e.target.value)},type:"number",className:"form-control",required:!0})]})}),Object(g.jsx)(n.a,{sm:9,children:Object(g.jsxs)("div",{className:"form-group fill",children:[Object(g.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Entidade ",Object(g.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(g.jsx)(m.a,{className:"basic-single",classNamePrefix:"select",onChange:e=>w(e),name:"pessoa",options:v,defaultValue:D,required:!0,menuPlacement:"auto",menuPosition:"fixed",placeholder:"Entidade...",isMulti:!0})]})})]})})}),Object(g.jsxs)(j.a.Footer,{children:[Object(g.jsx)(i.a,{variant:"danger",onClick:()=>X(!1),children:"Fechar"}),Object(g.jsx)(i.a,{type:"submit",form:"editarItem",variant:"primary",children:"Guardar"})]})]})]})})})}}}]);
//# sourceMappingURL=64.6bd42866.chunk.js.map