(this["webpackJsonpigj-frontend"]=this["webpackJsonpigj-frontend"]||[]).push([[73],{817:function(e,t,a){"use strict";var s=a(2),l=a(3),c=a(6),r=a.n(c),n=a(0),o=a.n(n),i=a(9),d=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],j=o.a.forwardRef(function(e,t){var a=e.bsPrefix,c=e.className,n=e.striped,j=e.bordered,b=e.borderless,m=e.hover,O=e.size,u=e.variant,h=e.responsive,x=Object(l.a)(e,d),p=Object(i.a)(a,"table"),g=r()(c,p,u&&p+"-"+u,O&&p+"-"+O,n&&p+"-striped",j&&p+"-bordered",b&&p+"-borderless",m&&p+"-hover"),f=o.a.createElement("table",Object(s.a)({},x,{className:g,ref:t}));if(h){var v=p+"-responsive";return"string"===typeof h&&(v=v+"-"+h),o.a.createElement("div",{className:v},f)}return f});t.a=j},818:function(e,t,a){"use strict";var s=a(2),l=a(3),c=a(6),r=a.n(c),n=a(0),o=a.n(n),i=a(9),d=a(131),j=["active","disabled","className","style","activeLabel","children"],b=["children"],m=o.a.forwardRef(function(e,t){var a=e.active,c=e.disabled,n=e.className,i=e.style,b=e.activeLabel,m=e.children,O=Object(l.a)(e,j),u=a||c?"span":d.a;return o.a.createElement("li",{ref:t,style:i,className:r()(n,"page-item",{active:a,disabled:c})},o.a.createElement(u,Object(s.a)({className:"page-link",disabled:c},O),m,a&&b&&o.a.createElement("span",{className:"sr-only"},b)))});m.defaultProps={active:!1,disabled:!1,activeLabel:"(current)"},m.displayName="PageItem";var O=m;function u(e,t,a){function s(e){var s=e.children,c=Object(l.a)(e,b);return o.a.createElement(m,c,o.a.createElement("span",{"aria-hidden":"true"},s||t),o.a.createElement("span",{className:"sr-only"},a))}return void 0===a&&(a=e),s.displayName=e,s}var h=u("First","\xab"),x=u("Prev","\u2039","Previous"),p=u("Ellipsis","\u2026","More"),g=u("Next","\u203a"),f=u("Last","\xbb"),v=["bsPrefix","className","children","size"],N=o.a.forwardRef(function(e,t){var a=e.bsPrefix,c=e.className,n=e.children,d=e.size,j=Object(l.a)(e,v),b=Object(i.a)(a,"pagination");return o.a.createElement("ul",Object(s.a)({ref:t},j,{className:r()(c,b,d&&b+"-"+d)}),n)});N.First=h,N.Prev=x,N.Ellipsis=p,N.Item=O,N.Next=g,N.Last=f;t.a=N},886:function(e,t,a){"use strict";a.r(t);var s=a(8),l=a(0),c=a.n(l),r=a(812),n=a(404),o=a(403),i=a(818),d=a(839),j=a(814),b=a(817),m=a(240),O=a.n(m),u=a(833),h=(a(834),a(835)),x=a.n(h),p=a(819),g=a(7),f=a(816),v=a(1);const N=e=>{let{filter:t,setFilter:a,setNewFilter:s}=e;const[c,r]=Object(l.useState)(t),n=Object(f.useAsyncDebounce)(e=>{a(e||void 0),s(e||void 0)},1e3);return Object(l.useEffect)(()=>{r(t)},[t]),Object(v.jsxs)("span",{className:"d-flex align-items-center justify-content-end",children:["Procurar:"," ",Object(v.jsx)("input",{className:"form-control ml-2 w-auto",placeholder:"pesquisar por nome, entidades",value:c||"",onChange:e=>{r(e.target.value),n(e.target.value)}})]})};var y=a(32),D=a(26),A=a(821),S=a(22),E=a(76),w=a(822),I=a(825);const C="/processos/handpay",P=[{header:"CODIGO",key:"CODIGO"},{header:"PESSAO",key:"PESSOA2"},{header:"ENTIDADE",key:"ENTIDADE"},{header:"VALOR",key:"VALOR2"},{header:"DATA",key:"DATA2"}];function k(e){let{uploadList:t,columns:a,data:c,modalOpen:d,exportPDF:j,saveExcel:m}=e;const[O,u]=Object(l.useState)(""),[h,x]=Object(l.useState)(""),p=Object(l.useRef)(null),{permissoes:g}=Object(D.a)(),[A,w]=Object(l.useState)(),I=Object(S.i)(),[P,k]=Object(l.useState)(""),[T,F]=Object(l.useState)("");var R;if(c.length>0){const e=c.map(e=>Object(E.o)(e.VALOR2));R=Object(E.r)(e)}const{getTableProps:L,getTableBodyProps:_,headerGroups:V,prepareRow:H,globalFilter:B,setGlobalFilter:G,page:z,canPreviousPage:q,canNextPage:U,pageOptions:M,pageCount:W,gotoPage:Y,nextPage:J,previousPage:K,setPageSize:X,state:{pageIndex:Q,pageSize:Z}}=Object(f.useTable)({columns:a,data:c,initialState:{pageIndex:0,pageSize:10}},f.useGlobalFilter,f.useSortBy,f.usePagination),$=()=>{w("")};function ee(e){"1"===e?(!async function(){const e=""===P?void 0:P,t=""===T?void 0:T;try{const a=await y.a.get("/sgigjhandpay/exportPdf?ENTIDADE_ID=".concat(I.id)+Object(E.q)([["ANO",e],["NOME",t]]),{responseType:"blob"});if("200"==a.status){const e=new Blob([a.data],{type:"application/pdf"}),t=URL.createObjectURL(e);window.open().location.href=t}console.log(a)}catch(a){console.error(a.response)}}(),$()):"2"===e&&(m(),$())}const[te,ae]=Object(l.useState)(null);return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(r.a,{className:"mb-3",children:[Object(v.jsxs)(n.a,{md:3,className:"d-flex align-items-center",children:["Mostrar",Object(v.jsx)("select",{className:"form-control w-auto mx-2",value:Z,onChange:e=>{X(Number(e.target.value))},children:[5,10,20,30,40,50].map(e=>Object(v.jsx)("option",{value:e,children:e},e))}),"entradas"]}),Object(v.jsx)(n.a,{md:3,className:"d-flex align-items-center",children:Object(v.jsx)("input",{type:"number",className:"form-control ",placeholder:"Pesquise por ano",onChange:e=>{!function(e){k(e),te&&clearTimeout(te);const a=setTimeout(()=>{t(e)},1500);ae(a)}(e.target.value)}})}),Object(v.jsxs)(n.a,{className:"d-flex justify-content-end",children:[Object(v.jsx)(N,{filter:B,setFilter:G,setNewFilter:e=>{F(e)}}),0==Object(E.s)(C,g,"Criar")?null:Object(v.jsxs)(o.a,{variant:"primary",className:"btn-sm btn-round has-ripple ml-2",onClick:d,children:[Object(v.jsx)("i",{className:"feather icon-plus"})," Adicionar"]}),Object(v.jsxs)("select",{style:{marginLeft:"10px"},value:A,onChange:e=>{ee(e.target.value)},children:[Object(v.jsx)("option",{value:"",children:" Download "}),Object(v.jsx)("option",{value:"1",children:" PDF "}),Object(v.jsx)("option",{value:"2",children:" EXCEL "})]})]})]}),Object(v.jsxs)(b.a,Object(s.a)(Object(s.a)({ref:p,striped:!0,bordered:!0,hover:!0,responsive:!0},L()),{},{children:[Object(v.jsx)("thead",{children:V.map(e=>Object(v.jsx)("tr",Object(s.a)(Object(s.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map(e=>Object(v.jsxs)("th",Object(s.a)(Object(s.a)({className:"VALOR2"===e.id?"text-right":""},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),Object(v.jsx)("span",{children:e.isSorted?e.isSortedDesc?Object(v.jsx)("span",{className:"feather icon-arrow-down text-muted float-right"}):Object(v.jsx)("span",{className:"feather icon-arrow-up text-muted float-right"}):""})]})))})))}),Object(v.jsxs)("tbody",Object(s.a)(Object(s.a)({},_()),{},{children:[z.map((e,t)=>(H(e),Object(v.jsx)("tr",Object(s.a)(Object(s.a)({},e.getRowProps()),{},{children:e.cells.map(e=>{const t=e.column.centered;return Object(v.jsx)("td",Object(s.a)(Object(s.a)({},e.getCellProps()),{},{className:t?"text-center":"text-right",children:e.render("Cell")}))})})))),Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{className:"merged-cell font-weight-bold",colspan:"2",children:"Total"}),Object(v.jsx)("td",{className:"font-weight-bold text-right"}),Object(v.jsx)("td",{className:"font-weight-bold text-right"}),Object(v.jsx)("td",{className:"font-weight-bold text-right",children:Object(E.g)(R)}),Object(v.jsx)("td",{className:"font-weight-bold text-right"}),Object(v.jsx)("td",{})]})]}))]})),Object(v.jsxs)(r.a,{className:"justify-content-between",children:[Object(v.jsx)(n.a,{children:Object(v.jsxs)("span",{className:"d-flex align-items-center",children:["P\xe1gina"," ",Object(v.jsxs)("strong",{children:[" ",Q+1," de ",M.length," "]})," ","| Ir para a p\xe1gina:"," ",Object(v.jsx)("input",{type:"number",className:"form-control ml-2",defaultValue:Q+1,onChange:e=>{const t=e.target.value?Number(e.target.value)-1:0;Y(t)},style:{width:"100px"}})]})}),Object(v.jsx)(n.a,{children:Object(v.jsxs)(i.a,{className:"justify-content-end",children:[Object(v.jsx)(i.a.First,{onClick:()=>Y(0),disabled:!q}),Object(v.jsx)(i.a.Prev,{onClick:()=>K(),disabled:!q}),Object(v.jsx)(i.a.Next,{onClick:()=>J(),disabled:!U}),Object(v.jsx)(i.a.Last,{onClick:()=>Y(W-1),disabled:!U})]})})]})]})}t.default=()=>{var e,t,a,s;const i=Object(S.i)(),b=new x.a.Workbook,{permissoes:m}=Object(D.a)(),{popUp_removerItem:h,popUp_alertaOK:f}=(Object(S.g)(),Object(D.a)()),N=c.a.useMemo(()=>[{Header:"C\xf3digo",accessor:"CODIGO",centered:!1},{Header:"Pessoa",accessor:"PESSOA2",centered:!0},{Header:"Entidade",accessor:"sgigjentidade.DESIG",centered:!0},{Header:"Nacionalidade",accessor:"nacionalidade",centered:!0},{Header:"Valor",accessor:"VALOR2",centered:!1},{Header:"Data",accessor:"DATA2",centered:!0},{Header:"A\xe7\xf5es",accessor:"action",centered:!0}],[]),[T,F]=Object(l.useState)("");var R=(new Date).toJSON().slice(0,10);const[L,_]=Object(l.useState)(""),[V,H]=Object(l.useState)(""),[B,G]=Object(l.useState)(""),[z,q]=Object(l.useState)(""),[U,M]=Object(l.useState)(""),[W,Y]=Object(l.useState)(""),[J,K]=Object(l.useState)(""),[X,Q]=Object(l.useState)(""),[Z,$]=Object(l.useState)([]),[ee,te]=Object(l.useState)(!1),[ae,se]=Object(l.useState)({}),[le,ce]=Object(l.useState)(null),[re,ne]=Object(l.useState)([]),[oe,ie]=Object(l.useState)(!1),[de,je]=Object(l.useState)({ID:"",ENTIDADE:"HANDPAY_ID"});var be=[];null===Z||void 0===Z||Z.forEach((e,t)=>{be.push({CODIGO:e.CODIGO,PESSOA2:e.PESSOA2,ENTIDADE:e.sgigjentidade.DESIG,VALOR2:e.VALOR2,DATA2:e.DATA2})});const me=be;const Oe="Worksheet-1";async function ue(e){let t;e=""===e?void 0:e,console.log(i);try{if(t=await y.a.get("/sgigjhandpay?ENTIDADE_ID="+i.id+Object(E.q)([["ANO",e]])),"200"==t.status){for(var a=0;a<t.data.length;a++){const e=t.data[a].ID;t.data[a].id=t.data[a].ID,t.data[a].PESSOA2=t.data[a].sgigjpessoa.NOME,t.data[a].nacionalidade=t.data[a].sgigjpessoa.nacionalidade.NACIONALIDADE,t.data[a].DATA2=Object(E.i)(t.data[a].DATA),t.data[a].VALOR2=Object(E.g)(t.data[a].VALOR);const s=t.data[a];t.data[a].action=Object(v.jsxs)(c.a.Fragment,{children:[0==Object(E.s)(C,m,"Ler")?null:Object(v.jsx)(g.b,{to:"#",title:Object(E.u)(C,m,"Ler"),onClick:()=>qe(s),className:"text-primary mx-1",children:Object(v.jsx)("i",{className:"text-primary "+Object(E.t)(C,m,"Ler")})}),0==Object(E.s)(C,m,"Editar")?null:Object(v.jsx)(g.b,{to:"#",title:Object(E.u)(C,m,"Editar"),onClick:()=>Me(s),className:"text-primary mx-1",children:Object(v.jsx)("i",{className:"text-primary "+Object(E.t)(C,m,"Editar")})}),0==Object(E.s)(C,m,"Eliminar")?null:Object(v.jsx)(g.b,{to:"#",title:Object(E.u)(C,m,"Eliminar"),onClick:()=>Ye(e),className:"text-danger",children:Object(v.jsx)("i",{className:""+Object(E.t)(C,m,"Eliminar")})})]})}q(i.id),$(t.data)}}catch(s){console.error(s.response)}}const[he,xe]=Object(l.useState)("dados"),pe="nav-link text-reset",ge="nav-link text-reset active",[fe,ve]=Object(l.useState)([]),[Ne,ye]=Object(l.useState)([]);async function De(){try{const t=await y.a.get("/sgigjpessoa");if("200"==t.status){for(var e=0;e<t.data.length;e++)t.data[e].value=t.data[e].ID,t.data[e].label=t.data[e].NOME;ve(t.data)}}catch(t){console.error(t.response)}}const[Ae,Se]=Object(l.useState)([]);const[Ee,we]=Object(l.useState)([]);const[Ie,Ce]=Object(l.useState)([]);const[Pe,ke]=Object(l.useState)([]);const[Te,Fe]=Object(l.useState)([]),[Re,Le]=Object(l.useState)(null),[_e,Ve]=Object(l.useState)(!1),[He,Be]=Object(l.useState)(!1);const[Ge,ze]=Object(l.useState)(),qe=async e=>{let t=e;ze(""),xe("dados");try{const a=await y.a.get("/sgigjhandpay/"+e.id);if(console.log(a),"200"==a.status){if(a.data.length>0){let e=[];for(let t=0;t<a.data[0].sgigjreldocumento.length;t++)e.push({id:a.data[0].sgigjreldocumento[t].ID,nome:a.data[0].sgigjreldocumento[t].sgigjprdocumentotp.DESIG,url:a.data[0].sgigjreldocumento[t].DOC_URL});tt(!0),$e(!1),Qe(!1),t.doclist=e,se(t)}console.log(t)}}catch(a){console.error(a.response)}};function Ue(e){void 0!=e&&(ze(null===e||void 0===e?void 0:e.url),ce(e))}const Me=async e=>{xe("dados"),$e(!0),Qe(!1),tt(!1),se(e),G(e.PESSOA_ID),q(e.ENTIDADE_ID),M(e.VALOR),Y(function(e){return null==e?"":new Date(e).toISOString().slice(0,10)}(e.DATA)),K(e.DESCR),Q(e.OBS_INTERNA);try{const t=await y.a.get("/sgigjreldocumento?HANDPAY_ID="+e.ID);"200"==t.status&&ne(t.data)}catch(t){console.error(t.response3)}};const We=async e=>{let t=!0;try{await y.a.delete("/sgigjhandpay/"+e)}catch(a){t=!1,console.error(a.response),f("Falha. Tente mais tarde")}return ue(),t},Ye=async e=>{h({delete:We,id:e})},Je=async e=>{let t=!0;try{await y.a.delete("/sgigjreldocumento/"+e);tt(!1),ue()}catch(a){t=!1,console.error(a.response),f("Falha. Tente mais tarde")}return localStorage.setItem("showAlert",!1),t};async function Ke(e){var t={status:!1,file:null};try{const a=new FormData;a.append("file",e);const s={headers:{"content-type":"multipart/form-data"}};t={status:!0,file:await y.a.post("/upload",a,s)}}catch(a){console.error(a.response),t={status:!1,file:null}}return t}Object(l.useEffect)(()=>{var e;"undefined"!=typeof ae.doclist&&(ze(null===ae||void 0===ae||null===(e=ae.doclist[0])||void 0===e?void 0:e.url),Ue(null===ae||void 0===ae?void 0:ae.doclist[0]));ue(),De(),async function(){try{const e=await y.a.get("/sgigjprgenero");"200"==e.status&&Se(e.data)}catch(e){console.error(e.response)}}(),async function(){try{const e=await y.a.get("/sgigjprestadocivil");"200"==e.status&&we(e.data)}catch(e){console.error(e.response)}}(),async function(){try{const e=await y.a.get("/glbgeografia");"200"==e.status&&Ce(e.data)}catch(e){console.error(e.response)}}(),async function(){try{const e=await y.a.get("/sgigjprcontactotp");"200"==e.status&&Fe(e.data)}catch(e){console.error(e.response)}}(),async function(){try{const e=await y.a.get("/sgigjprdocumentotp");"200"==e.status&&ke(e.data)}catch(e){console.error(e.response)}}()},[ae]);const[Xe,Qe]=Object(l.useState)(!1),[Ze,$e]=Object(l.useState)(!1),[et,tt]=Object(l.useState)(!1),[at,st]=Object(l.useState)(!1),[lt,ct]=Object(l.useState)(null),rt=c.a.useMemo(()=>lt?URL.createObjectURL(lt):null,[lt]),[nt,ot]=Object(l.useState)({code:0,value:!1}),it=()=>{ot({code:nt.code+1,value:!0})};return Object(v.jsx)(c.a.Fragment,{children:Object(v.jsx)(r.a,{children:Object(v.jsxs)(n.a,{sm:12,children:[Object(v.jsx)(d.a,{children:Object(v.jsx)(d.a.Body,{children:Object(v.jsx)(k,{uploadList:ue,columns:N,saveExcel:async()=>{try{const e="handpay",t=b.addWorksheet(Oe);t.columns=P,t.getRow(1).font={bold:!0},t.columns.forEach(e=>{e.width=e.header.length+5,e.alignment={horizontal:"center"}}),me.forEach(e=>{t.addRow(e)}),t.eachRow({includeEmpty:!1},e=>{e._cells.forEach(e=>{const a=e._address;t.getCell(a).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}})});const a=await b.xlsx.writeBuffer();Object(p.saveAs)(new Blob([a]),"".concat(e,".xlsx"))}catch(e){console.error("<<<ERRROR>>>",e),console.error("Something Went Wrong",e.message)}finally{b.removeWorksheet(Oe)}},exportPDF:function(){const e=new u.a("portrait","pt","A4");e.setFontSize(15);let t={startY:50,head:[["CODIGO","PESSOA","ENTIDADE","VALOR","DATA"]],body:null===be||void 0===be?void 0:be.map(e=>[e.CODIGO,e.PESSOA2,e.ENTIDADE,e.VALOR2,e.DATA2])};e.text("Lista de Handpay",40,40),e.autoTable(t),e.save("hanpay.pdf")},data:Z,modalOpen:()=>{Qe(!0),$e(!1),tt(!1),ct(""),G(""),q(""),M(""),Y(""),K(""),Q(""),ne([]),F("")}})})}),Object(v.jsxs)(j.a,{size:"lg",show:Xe,onHide:()=>Qe(!1),children:[Object(v.jsx)(j.a.Header,{style:{border:"0"},closeButton:!0,children:Object(v.jsx)(j.a.Title,{as:"h5",children:"Criar"})}),Object(v.jsxs)("ul",{className:"nav nav-tabs profile-tabs nav-fill",id:"myTab",role:"tablist",children:[Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsxs)(g.b,{to:"#",className:"dados"===he?ge:pe,onClick:()=>{xe("dados")},id:"profile-tab",children:[Object(v.jsx)("i",{className:"feather icon-server mr-2"}),"Frequentador"]})}),Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsxs)(g.b,{to:"#",className:"documentos"===he?ge:pe,onClick:()=>{xe("documentos")},id:"contact-tab",children:[Object(v.jsx)("i",{className:"feather icon-file-text mr-2"}),"Documentos"]})})]}),Object(v.jsx)(j.a.Body,{style:"documentos"===he?{}:{display:"none"},children:Object(v.jsx)(I.a,{documentolist:Pe,list:re,save:oe,item:{ID:T,ENTIDADE:"HANDPAY_ID"}})}),Object(v.jsx)(j.a.Body,{style:"dados"===he?{}:{display:"none"},children:Object(v.jsx)("form",{id:"criarItem",onSubmit:async function(e){if(e.preventDefault(),null!=B&&""!=B||f("Escolha uma Pessoa"),null==lt)return f("Escolha uma imagem");{te(!0);var t;t=(await Ke(lt)).file.data,console.log(i);const e={VALOR:U,DATA:W,DESCR:J,OBS_INTERNA:X,PESSOA_ID:B,FOTO:t,ENTIDADE_ID:i.id};console.log(e);try{const t=await y.a.post("/sgigjhandpay",e);"200"==t.status&&(ue(),F(t.data.ID),ie(!oe),O.a.success("Todos os dados foram gravados com sucesso!",{duration:4e3}),te(!1),Qe(!1))}catch(a){te(!1),console.error(a.response)}}},children:Object(v.jsxs)(r.a,{children:[Object(v.jsx)(n.a,{sm:3,children:Object(v.jsxs)("div",{className:"form-group fill",children:[Object(v.jsx)("label",{className:"floating-label",htmlFor:"Name"}),Object(v.jsx)("input",{required:!0,accept:"image/x-png,image/jpeg",onChange:e=>ct(e.target.files[0]),style:lt?{width:"100%",backgroundImage:"url("+rt+")",backgroundSize:"cover",backgroundPosition:"center"}:{width:"100%"},type:"file",id:"input-file-now",className:"file-upload perfil_img_lingua-nonehandpay"})]})}),Object(v.jsx)(n.a,{sm:9,children:Object(v.jsxs)(r.a,{children:[Object(v.jsx)(n.a,{sm:4,children:Object(v.jsxs)("div",{className:"form-group fill",children:[Object(v.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["C\xf3digo ",Object(v.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(v.jsx)("input",{disabled:!0,type:"text",className:"form-control",id:"Name",value:"*",required:!0})]})}),Object(v.jsxs)(n.a,{sm:8,children:[Object(v.jsxs)("label",{className:"floating-label",htmlFor:"text",children:["Pessoa ",Object(v.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(v.jsxs)("div",{style:{display:"flex"},children:[Object(v.jsx)("div",{className:"form-group fill",style:{width:"100%"},children:Object(v.jsx)(A.a,{className:"basic-single",classNamePrefix:"select",onChange:e=>G(e.value),name:"pessoa",options:fe,defaultValue:fe.map(e=>e.ID==B?e:null),required:!0,menuPlacement:"auto",menuPosition:"fixed",placeholder:"Pessoa..."})}),Object(v.jsx)(o.a,{onClick:()=>it(),style:{marginLeft:"8px",height:"38px"},variant:"primary",children:Object(v.jsx)("i",{className:"feather icon-plus"})})]})]}),Object(v.jsx)(n.a,{sm:6,children:Object(v.jsxs)("div",{className:"form-group fill",children:[Object(v.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Valor ",Object(v.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(v.jsx)("input",{type:"number",min:"1000",step:"0.01",onChange:e=>{M(e.target.value)},defaultValue:"",className:"form-control",placeholder:"Valor...",required:!0})]})}),Object(v.jsx)(n.a,{sm:6,children:Object(v.jsxs)("div",{className:"form-group fill",children:[Object(v.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Data ",Object(v.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(v.jsx)("input",{type:"date",max:R,onChange:e=>{Y(e.target.value)},defaultValue:"",className:"form-control",placeholder:"Data...",required:!0})]})})]})}),Object(v.jsx)("div",{className:"col-sm-12",children:Object(v.jsxs)("div",{className:"form-group fill",children:[Object(v.jsxs)("label",{className:"floating-label",htmlFor:"Address",children:["Descri\xe7\xe3o ",Object(v.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(v.jsx)("textarea",{className:"form-control",maxLength:"64000",onChange:e=>{K(e.target.value)},defaultValue:"",rows:"3",placeholder:"Descri\xe7\xe3o...",required:!0})]})}),Object(v.jsx)("div",{className:"col-sm-12",children:Object(v.jsxs)("div",{className:"form-group fill",children:[Object(v.jsx)("label",{className:"floating-label",htmlFor:"Address",children:"Observa\xe7\xe3o"}),Object(v.jsx)("textarea",{className:"form-control",maxLength:"64000",onChange:e=>{Q(e.target.value)},defaultValue:"",rows:"3",placeholder:"Observa\xe7\xe3o..."})]})})]})})}),Object(v.jsxs)(j.a.Footer,{children:[Object(v.jsx)(o.a,{variant:"danger",onClick:()=>Qe(!1),children:"Fechar"}),ee?Object(v.jsx)(o.a,{variant:"primary",children:"Guardando"}):Object(v.jsx)(o.a,{type:"submit",form:"criarItem",variant:"primary",children:"Guardar"})]})]}),Object(v.jsxs)(j.a,{size:"lg",show:Ze,onHide:()=>$e(!1),children:[Object(v.jsx)(j.a.Header,{style:{border:"0"},closeButton:!0,children:Object(v.jsx)(j.a.Title,{as:"h5",children:"Editar"})}),Object(v.jsxs)("ul",{className:"nav nav-tabs profile-tabs nav-fill",id:"myTab",role:"tablist",children:[Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsxs)(g.b,{to:"#",className:"dados"===he?ge:pe,onClick:()=>{xe("dados")},id:"profile-tab",children:[Object(v.jsx)("i",{className:"feather icon-server mr-2"}),"Frequentador"]})}),Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsxs)(g.b,{to:"#",className:"documentos"===he?ge:pe,onClick:()=>{xe("documentos")},id:"contact-tab",children:[Object(v.jsx)("i",{className:"feather icon-file-text mr-2"}),"Documentos"]})})]}),Object(v.jsx)(j.a.Body,{style:"documentos"===he?{}:{display:"none"},children:Object(v.jsx)(I.a,{documentolist:Pe,list:re,save:oe,item:{ID:ae.ID,ENTIDADE:"HANDPAY_ID"}})}),Object(v.jsx)(j.a.Body,{style:"dados"===he?{}:{display:"none"},children:Object(v.jsx)("form",{id:"editarItem",onSubmit:async function(e){if(e.preventDefault(),null==B||""==B)f("Escolha uma Pessoa");else{var t;te(!0);var a;const e=lt?await Ke(lt):null;a=null===e||void 0===e||null===(t=e.file)||void 0===t?void 0:t.data;const l={VALOR:U,DATA:W,DESCR:J,OBS_INTERNA:X,PESSOA_ID:B,FOTO:a||ae.FOTO,ENTIDADE_ID:i.id};try{"200"==(await y.a.put("/sgigjhandpay/"+ae.ID,l)).status&&(ie(!oe),ue(),te(!1),$e(!1),O.a.success("Todos os dados foram atualizadas com sucesso!",{duration:4e3}))}catch(s){te(!1),console.error(s.response)}}},children:Object(v.jsxs)(r.a,{children:[Object(v.jsx)(n.a,{sm:3,children:Object(v.jsxs)("div",{className:"form-group fill",children:[Object(v.jsx)("label",{className:"floating-label",htmlFor:"Name"}),Object(v.jsx)("input",{required:!0,accept:"image/x-png,image/jpeg",onChange:e=>ct(e.target.files[0]),style:lt?{width:"100%",backgroundImage:"url("+rt+")",backgroundSize:"cover",backgroundPosition:"center"}:{width:"100%",backgroundImage:"url("+ae.FOTO+"?alt=media&token=0)",backgroundSize:"cover",backgroundPosition:"center"},type:"file",id:"input-file-now",className:"file-upload perfil_img_lingua-nonehandpay"})]})}),Object(v.jsx)(n.a,{sm:9,children:Object(v.jsxs)(r.a,{children:[Object(v.jsx)(n.a,{sm:4,children:Object(v.jsxs)("div",{className:"form-group fill",children:[Object(v.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["C\xf3digo ",Object(v.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(v.jsx)("input",{disabled:!0,type:"text",className:"form-control",id:"Name",value:ae.CODIGO,required:!0})]})}),Object(v.jsxs)(n.a,{sm:8,children:[Object(v.jsxs)("label",{className:"floating-label",htmlFor:"text",children:["Pessoa ",Object(v.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(v.jsxs)("div",{style:{display:"flex"},children:[Object(v.jsx)("div",{className:"form-group fill",style:{width:"100%"},children:Object(v.jsx)(A.a,{className:"basic-single",classNamePrefix:"select",onChange:e=>G(e.value),name:"pessoa",options:fe,defaultValue:fe.map(e=>e.ID==B?e:null),required:!0,menuPlacement:"auto",menuPosition:"fixed",placeholder:"Pessoa..."})}),Object(v.jsx)(o.a,{onClick:()=>it(),style:{marginLeft:"8px",height:"38px"},variant:"primary",children:Object(v.jsx)("i",{className:"feather icon-plus"})})]})]}),Object(v.jsx)(n.a,{sm:6,children:Object(v.jsxs)("div",{className:"form-group fill",children:[Object(v.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Valor ",Object(v.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(v.jsx)("input",{type:"number",min:"1000",step:"0.01",max:"999999999",onChange:e=>{M(e.target.value)},defaultValue:ae.VALOR,className:"form-control",placeholder:"Valor...",required:!0})]})}),Object(v.jsx)(n.a,{sm:6,children:Object(v.jsxs)("div",{className:"form-group fill",children:[Object(v.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Data ",Object(v.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(v.jsx)("input",{type:"date",max:R,onChange:e=>{Y(e.target.value)},defaultValue:W,className:"form-control",placeholder:"Data...",required:!0})]})})]})}),Object(v.jsx)("div",{className:"col-sm-12",children:Object(v.jsxs)("div",{className:"form-group fill",children:[Object(v.jsxs)("label",{className:"floating-label",htmlFor:"Address",children:["Descri\xe7\xe3o ",Object(v.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(v.jsx)("textarea",{className:"form-control",maxLength:"64000",onChange:e=>{K(e.target.value)},defaultValue:ae.DESCR,rows:"3",placeholder:"Descri\xe7\xe3o...",required:!0})]})}),Object(v.jsx)("div",{className:"col-sm-12",children:Object(v.jsxs)("div",{className:"form-group fill",children:[Object(v.jsx)("label",{className:"floating-label",htmlFor:"Address",children:"Observa\xe7\xe3o"}),Object(v.jsx)("textarea",{className:"form-control",maxLength:"64000",onChange:e=>{Q(e.target.value)},defaultValue:ae.OBS_INTERNA,rows:"3",placeholder:"Observa\xe7\xe3o..."})]})})]})})}),Object(v.jsxs)(j.a.Footer,{children:[Object(v.jsx)(o.a,{variant:"danger",onClick:()=>$e(!1),children:"Fechar"}),ee?Object(v.jsx)(o.a,{variant:"primary",children:"Guardando"}):Object(v.jsx)(o.a,{type:"submit",form:"editarItem",variant:"primary",children:"Guardar"})]})]}),Object(v.jsxs)(j.a,{size:"lg",show:et,onHide:()=>tt(!1),children:[Object(v.jsx)(j.a.Header,{style:{border:"0"},closeButton:!0,children:Object(v.jsx)(j.a.Title,{as:"h5",children:"Hand Pay"})}),Object(v.jsxs)("ul",{className:"nav nav-tabs profile-tabs nav-fill",id:"myTab",role:"tablist",children:[Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsxs)(g.b,{to:"#",className:"dados"===he?ge:pe,onClick:()=>{xe("dados")},id:"profile-tab",children:[Object(v.jsx)("i",{className:"feather icon-server mr-2"}),"Frequentador"]})}),Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsxs)(g.b,{to:"#",className:"documentos"===he?ge:pe,onClick:()=>{xe("documentos")},id:"contact-tab",children:[Object(v.jsx)("i",{className:"feather icon-file-text mr-2"}),"Documentos"]})})]}),Object(v.jsxs)(j.a.Body,{style:"dados"===he?{}:{display:"none"},children:[Object(v.jsxs)(r.a,{style:{width:"100%",overflow:"auto"},children:[Object(v.jsx)(n.a,{sm:3,children:Object(v.jsx)("div",{className:"form-group fill",children:Object(v.jsx)("img",{src:"".concat(ae.FOTO+"?alt=media&token=0"),style:{width:"100%",backgroundImage:"url("+ae.FOTO+"?alt=media&token=0)",backgroundSize:"cover",backgroundPosition:"center"},className:"file-upload perfil_img_lingua-nonehandpay"})})}),Object(v.jsx)(n.a,{sm:9,children:Object(v.jsxs)(r.a,{children:[Object(v.jsx)(n.a,{sm:4,children:Object(v.jsxs)("div",{className:"form-group fill",children:[Object(v.jsx)("label",{className:"floating-label",htmlFor:"Name",children:" C\xf3digo "}),Object(v.jsx)("span",{style:{overflow:"auto",height:"auto",minHeight:"33px"},className:"form-control",children:ae.CODIGO})]})}),Object(v.jsx)(n.a,{sm:8,children:Object(v.jsxs)("div",{className:"form-group fill",children:[Object(v.jsx)("label",{className:"floating-label",htmlFor:"Name",children:"Pessoa"}),Object(v.jsx)("span",{style:{overflow:"auto",height:"auto",minHeight:"33px"},className:"form-control",children:fe.map(e=>e.ID==ae.PESSOA_ID?e.NOME:null)})]})}),Object(v.jsx)(n.a,{sm:4,children:Object(v.jsxs)("div",{className:"form-group fill",children:[Object(v.jsx)("label",{className:"floating-label",htmlFor:"Name",children:"Valor"}),Object(v.jsx)("span",{style:{overflow:"auto",height:"auto",minHeight:"33px"},className:"form-control",children:Object(E.c)(ae.VALOR)})]})}),Object(v.jsx)(n.a,{sm:8,children:Object(v.jsxs)("div",{className:"form-group fill",children:[Object(v.jsx)("label",{className:"floating-label",htmlFor:"Name",children:"Data"}),Object(v.jsx)("span",{style:{overflow:"auto",height:"auto",minHeight:"33px"},className:"form-control",children:ae.DATA2})]})})]})}),Object(v.jsx)("div",{className:"col-sm-12",children:Object(v.jsxs)("div",{className:"form-group fill",children:[Object(v.jsx)("label",{className:"floating-label",htmlFor:"Address",children:"Descri\xe7\xe3o"}),Object(v.jsx)("label",{style:{overflow:"auto",height:"auto",minHeight:"33px"},className:"form-control",children:ae.DESCR})]})}),Object(v.jsx)("div",{className:"col-sm-12",children:Object(v.jsxs)("div",{className:"form-group fill",children:[Object(v.jsx)("label",{className:"floating-label",htmlFor:"Address",children:"Observa\xe7\xe3o"}),Object(v.jsx)("label",{style:{overflow:"auto",height:"auto",minHeight:"33px"},className:"form-control",children:ae.OBS_INTERNA})]})})]}),Object(v.jsxs)("div",{style:{display:"flex",gap:10,justifyContent:"end",marginRight:"26px"},children:[Object(v.jsx)("div",{children:null!==ae.URL_DOC?Object(v.jsx)("a",{href:"".concat(ae.URL_DOC,"?alt=media&token=0'"),target:"_blank",children:Object(v.jsx)(o.a,{variant:"primary",children:"Abrir documento"})}):Object(v.jsx)(v.Fragment,{children:He?Object(v.jsx)(o.a,{style:{cursor:"not-allowed"},type:"submit",form:"criarItem",variant:"primary",children:"Aguarde ..."}):Object(v.jsx)(o.a,{onClick:()=>async function(){try{Be(!0);const t=await y.a.post("/gerarhandpay",ae);if("200"==t.status){const a={PESSOA_ID:ae.PESSOA_ID,URL_DOC:t.data,VALOR:ae.VALOR,DATA:ae.DATA,DESCR:ae.DESCR,OBS_INTERNA:ae.OBS_INTERNA,ENTIDADE_ID:i.id};try{"200"==(await y.a.put("/sgigjhandpay/"+ae.ID,a)).status&&(ie(!oe),ae.URL_DOC=t.data+"?alt=media&token=0",Be(!1),O.a.success("Documento gerado com sucesso!",{duration:4e3}),window.open(t.data+"?alt=media&token=0","_blank"))}catch(e){Be(!1),console.error(e.response)}}}catch(e){console.error(e.response)}}(),form:"criarItem",variant:"primary",children:"Imprimir"})})}),Object(v.jsx)("div",{children:Object(v.jsx)(o.a,{variant:"danger",onClick:()=>tt(!1),children:"Fechar"})})]})]}),Object(v.jsxs)(j.a.Body,{style:"documentos"===he?{}:{display:"none"},children:[Object(v.jsx)("div",{style:{flexWrap:"wrap",width:"100%",display:"flex",marginBottom:"15px",flexDirection:"row",borderBottom:"1px solid #d2b32a",borderTop:"1px solid #d2b32a",paddingTop:"20px",paddingBottom:"20px",marginTop:"5px",overflow:"auto",height:"70px"},children:"undefined"!=typeof ae.doclist?ae.doclist.map(e=>Object(v.jsx)(g.b,{onClick:()=>Ue(e),style:{margin:"2px"},to:"#",className:"mb-1 text-muted d-flex align-items-end text-h-primary",children:"::"+e.nome},e.id)):null}),(null===ae||void 0===ae||null===(e=ae.doclist)||void 0===e?void 0:e.length)>0?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"center",marginBottom:"10px"},children:[Object(v.jsxs)("span",{children:[Object(v.jsx)("i",{className:"feather icon-eye m-r-5"}),"Pr\xe9-vizualiza\xe7\xe3o"]}),Object(v.jsxs)("span",{style:{cursor:"pointer"},className:"text-danger",onClick:()=>(async e=>{h({delete:Je,id:e})})(null===le||void 0===le?void 0:le.id),children:[Object(v.jsx)("i",{className:"feather icon-trash ml-5 text-danger"}),"Eliminar                "]})]}),"PDF"!==(null===Ge||void 0===Ge?void 0:Ge.substring((null===Ge||void 0===Ge?void 0:Ge.lastIndexOf("."))+1))&&"pdf"!==(null===Ge||void 0===Ge?void 0:Ge.substring((null===Ge||void 0===Ge?void 0:Ge.lastIndexOf("."))+1))?Object(v.jsx)("a",{href:Ge+"?alt=media&token=0",target:"_blank",rel:"noopener noreferrer",children:Object(v.jsx)("div",{className:""==Ge?"previewdoc":"previewdoc-img",style:{backgroundImage:'url("'+Ge+'?alt=media&token=0")',height:"450px"}})}):Object(v.jsx)("object",{data:"".concat(Ge+"?alt=media&token=0"),type:"application/pdf",width:"100%",height:"450px",children:Object(v.jsxs)("p",{children:["Alternative text - include a link ",Object(v.jsx)("a",{href:"myfile.pdf",children:"to the PDF!"})]})})]}):Object(v.jsx)("p",{className:"text-center",children:"Sem Anexos"})]}),Object(v.jsx)(j.a.Footer,{className:"d-flex justify-content-start",children:Object(v.jsxs)("span",{children:["Registado por: ",null===ae||void 0===ae||null===(t=ae.criadoPor)||void 0===t||null===(a=t.sgigjrelpessoaentidade)||void 0===a||null===(s=a.sgigjpessoa)||void 0===s?void 0:s.NOME]})})]}),Object(v.jsx)(w.a,{generolist:Ae,estadocivillist:Ee,glbgeografialist:Ie,documentolist:Pe,contactolist:Te,pessoaopenDO:nt,uploadpessoa:De}),Object(v.jsx)(j.a,{size:"lg",show:at,onHide:()=>st(!1),children:Object(v.jsxs)(j.a.Footer,{children:[Object(v.jsx)(o.a,{variant:"danger",onClick:()=>st(!1),children:"Fechar"}),Object(v.jsx)(o.a,{variant:"primary",children:"Guardar"})]})})]})})})}}}]);
//# sourceMappingURL=73.eddced84.chunk.js.map