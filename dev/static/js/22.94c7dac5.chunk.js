(this["webpackJsonpigj-frontend"]=this["webpackJsonpigj-frontend"]||[]).push([[22],{822:function(e,t,a){"use strict";var s=a(0),o=a(814),l=a(404),i=a(403),c=a(812),n=a(7),r=a(32),d=a(26),j=a(1);t.a=e=>{let{generolist:t,estadocivillist:a,glbgeografialist:p,documentolist:u,contactolist:h,uploadpessoa:b,pessoaopenDO:x}=e;const{popUp_alertaOK:m}=Object(d.a)(),[O,g]=Object(s.useState)(!1),[f,v]=Object(s.useState)(""),[y,D]=Object(s.useState)(""),[N,C]=Object(s.useState)(""),[S,I]=Object(s.useState)(""),[E,A]=Object(s.useState)(""),[T,w]=Object(s.useState)(""),[_,R]=Object(s.useState)(""),[P,B]=Object(s.useState)(""),[L,F]=Object(s.useState)(""),[k,U]=Object(s.useState)(""),[G,M]=Object(s.useState)(""),[H,q]=Object(s.useState)(""),[V,z]=Object(s.useState)(""),[W,J]=Object(s.useState)(""),[X,K]=Object(s.useState)(""),[Z,Y]=Object(s.useState)(!1),[Q,$]=Object(s.useState)(!1),[ee,te]=Object(s.useState)(""),[ae,se]=Object(s.useState)(""),[oe,le]=Object(s.useState)("");Object(s.useEffect)(()=>{D(""),C(""),I(""),A(""),w(""),R(""),B(""),F(""),U(""),M(""),q(""),z(""),J(""),K(""),te(""),se(""),le(""),g(!0),ce("geral"),je([{id:""+Math.random(),tipocontacto:"",contacto:""}]),be([{id:""+Math.random(),tipodocumento:"",numero:"",dataemissao:"",datavalidade:"",anexo:{type:0,file:null}}]),g(x.value)},[x]);const[ie,ce]=Object(s.useState)("geral"),ne="nav-link text-reset",re="nav-link text-reset active";var[de,je]=Object(s.useState)([{id:""+Math.random(),tipocontacto:"",contacto:""}]);const[pe,ue]=Object(s.useState)(!1);var[he,be]=Object(s.useState)([{id:""+Math.random(),tipodocumento:"",numero:"",dataemissao:"",datavalidade:"",anexo:{type:0,file:null}}]);const[xe,me]=Object(s.useState)(!1);async function Oe(e){var t={status:!1,file:null};try{const a=new FormData;a.append("file",e);const s={headers:{"content-type":"multipart/form-data"}},o=await r.a.post("/upload",a,s);t={status:!0,file:o},console.log(o)}catch(a){console.error(a.response),t={status:!1,file:null}}return t}return Object(j.jsxs)(o.a,{size:"lg",show:O,onHide:()=>g(!1),children:[Object(j.jsx)(o.a.Header,{style:{border:"0"},closeButton:!0,children:Object(j.jsx)(o.a.Title,{as:"h5",children:"Criar Pessoal"})}),Object(j.jsxs)("ul",{className:"nav nav-tabs profile-tabs nav-fill",id:"myTab",role:"tablist",children:[Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)(n.b,{to:"#",className:"geral"===ie?re:ne,onClick:()=>{ce("geral")},id:"profile-tab",children:[Object(j.jsx)("i",{className:"feather icon-user mr-2"}),"Perfil"]})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)(n.b,{to:"#",className:"contactos"===ie?re:ne,onClick:()=>{ce("contactos")},id:"contact-tab",children:[Object(j.jsx)("i",{className:"feather icon-phone mr-2"}),"Contactos"]})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)(n.b,{to:"#",className:"documentos"===ie?re:ne,onClick:()=>{ce("documentos")},id:"contact-tab",children:[Object(j.jsx)("i",{className:"feather icon-file-text mr-2"}),"Documentos"]})})]}),Object(j.jsxs)(o.a.Body,{style:"documentos"===ie?{}:{display:"none"},children:[Object(j.jsx)(l.a,{style:{display:"flex",justifyContent:"flex-end"},sm:12,children:Object(j.jsx)(i.a,{onClick:()=>{be(he.concat([{id:""+Math.random(),tipodocumento:"",numero:"",dataemissao:"",datavalidade:"",anexo:{type:0,file:null}}]))},variant:"primary",children:"+"})}),he.map(e=>{var t;return Object(j.jsxs)(c.a,{style:{marginBottom:"12px"},children:[Object(j.jsx)(l.a,{sm:10,children:Object(j.jsxs)(c.a,{children:[Object(j.jsx)(l.a,{sm:6,children:Object(j.jsxs)("div",{className:"form-group fill",children:[Object(j.jsxs)("label",{className:"floating-label",htmlFor:"Phone",children:["Tipo de Documentos ",Object(j.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(j.jsxs)("select",{onChange:t=>{!function(e,t){"cni"===u.find(t=>t.ID===e).DESIG.toLowerCase()?$(!0):$(!1);const a=he.findIndex(e=>e.id===t);he[a]={id:t,tipodocumento:e,numero:he[a].numero,dataemissao:he[a].dataemissao,datavalidade:he[a].datavalidade,anexo:he[a].anexo},me(!0),be(he.concat([]))}(t.target.value,e.id)},className:"form-control",id:"perfil",required:!0,"aria-required":"true",children:[Object(j.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),u.map(e=>Object(j.jsx)("option",{value:e.ID,children:e.DESIG},e.ID))]})]})}),Object(j.jsx)(l.a,{sm:3,children:Object(j.jsxs)("div",{className:"form-group fill",children:[Object(j.jsxs)("label",{className:"floating-label",htmlFor:"text",children:["N\xfamero ",Object(j.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(j.jsx)("input",{onChange:t=>{!function(e,t){const a=he.findIndex(e=>e.id===t);he[a]={id:t,numero:e,tipodocumento:he[a].tipodocumento,dataemissao:he[a].dataemissao,datavalidade:he[a].datavalidade,anexo:he[a].anexo},me(!0),be(he.concat([]))}(t.target.value,e.id)},type:"text",className:"form-control"})]})}),Object(j.jsxs)("div",{className:"sm-2 paddinhtop28OnlyPC",children:[Object(j.jsxs)("label",{htmlFor:"anexarcriar"+e.id,className:"btn",style:{backgroundColor:"#d2b32a",color:"#fff"},children:[null==(null===e||void 0===e||null===(t=e.anexo)||void 0===t?void 0:t.file)?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("i",{className:"feather icon-download"}),Object(j.jsx)(j.Fragment,{children:" Anexar"})]}):"Anexado"," "]}),Object(j.jsx)("input",{id:"anexarcriar"+e.id,onChange:t=>function(e,t){const a=he.findIndex(e=>e.id===t);console.log(he[a]),console.log(t),""!=he[a].tipodocumento&&""!=he[a].numero||m("Preencha o campos obrigat\xf3rios"),he[a]={id:t,tipodocumento:he[a].tipodocumento,dataemissao:he[a].dataemissao,datavalidade:he[a].datavalidade,numero:he[a].numero,anexo:{type:2,file:e}},me(!0),be(he.concat([]))}(t.target.files[0],e.id),accept:"image/x-png,image/jpeg",style:{display:"none"},type:"file"})]}),Q?null:Object(j.jsx)(l.a,{sm:6,children:Object(j.jsxs)("div",{className:"form-group fill",children:[Object(j.jsx)("label",{className:"floating-label",htmlFor:"date",children:"Data de Emiss\xe3o"}),Object(j.jsx)("input",{onChange:t=>{!function(e,t){const a=he.findIndex(e=>e.id===t);he[a]={id:t,dataemissao:e,numero:he[a].numero,tipodocumento:he[a].tipodocumento,datavalidade:he[a].datavalidade,anexo:he[a].anexo},me(!0),be(he.concat([]))}(t.target.value,e.id)},type:"date",className:"form-control"})]})}),Object(j.jsx)(l.a,{sm:6,children:Object(j.jsxs)("div",{className:"form-group fill",children:[Object(j.jsx)("label",{className:"floating-label",htmlFor:"text",children:"Data de Validade"}),Object(j.jsx)("input",{onChange:t=>{!function(e,t){const a=he.findIndex(e=>e.id===t);he[a]={id:t,datavalidade:e,numero:he[a].numero,tipodocumento:he[a].tipodocumento,dataemissao:he[a].dataemissao,anexo:he[a].anexo},me(!0),be(he.concat([]))}(t.target.value,e.id)},type:"date",className:"form-control"})]})})]})}),he.length>1?Object(j.jsx)("div",{className:"paddinhtop66OnlyPC sm-2",children:Object(j.jsx)(i.a,{onClick:()=>function(e){if(he.length>1){const a=he.findIndex(t=>t.id===e);if(a>-1){var t=he;t.splice(a,1),be(t.concat([])),me(!0)}}}(e.id),variant:"danger",children:Object(j.jsx)("i",{className:"feather icon-trash-2"})})}):null]},e.id)})]}),Object(j.jsxs)(o.a.Body,{style:"contactos"===ie?{}:{display:"none"},children:[Object(j.jsx)(l.a,{style:{display:"flex",justifyContent:"flex-end"},sm:12,children:Object(j.jsx)(i.a,{onClick:()=>{je(de.concat([{id:""+Math.random(),tipocontacto:"",contacto:""}]))},variant:"primary",children:"+"})}),de.map(e=>Object(j.jsxs)(c.a,{style:{marginBottom:"12px"},children:[Object(j.jsx)(l.a,{sm:5,children:Object(j.jsxs)("div",{className:"form-group fill",children:[Object(j.jsxs)("label",{className:"floating-label",htmlFor:"Phone",children:["Tipo de Contacto ",Object(j.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(j.jsxs)("select",{onChange:t=>{!function(e,t){const a=de.findIndex(e=>e.id===t);de[a]={id:t,tipocontacto:e,contacto:de[a].contacto},ue(!0),je(de.concat([]))}(t.target.value,e.id)},className:"form-control",id:"perfil",required:!0,"aria-required":"true",children:[Object(j.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),h.map(e=>Object(j.jsx)("option",{value:e.ID,children:e.DESIG},e.ID))]})]})}),Object(j.jsx)(l.a,{sm:5,children:Object(j.jsxs)("div",{className:"form-group fill",children:[Object(j.jsxs)("label",{className:"floating-label",htmlFor:"text",children:["Contacto ",Object(j.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(j.jsx)("input",{maxLength:"128",onChange:t=>{!function(e,t){const a=de.findIndex(e=>e.id===t);de[a]={id:t,contacto:e,tipocontacto:de[a].tipocontacto},ue(!0),je(de.concat([]))}(t.target.value,e.id)},type:"text",className:"form-control"})]})}),de.length>1?Object(j.jsx)("div",{className:"sm-2 paddinhtop28OnlyPC",children:Object(j.jsx)(i.a,{onClick:()=>function(e){if(de.length>1){const a=de.findIndex(t=>t.id===e);if(a>-1){var t=de;t.splice(a,1),je(t.concat([])),ue(!0)}}}(e.id),variant:"danger",children:Object(j.jsx)("i",{className:"feather icon-trash-2"})})}):null]},e.id))]}),Object(j.jsx)(o.a.Body,{style:"geral"===ie?{}:{display:"none"},children:Object(j.jsx)("form",{id:"criarpessoa",onSubmit:async function(e){e.preventDefault(),console.log(N);const t={NACIONALIDADE_ID:N,LOCALIDADE_ID:S,PR_ESTADO_CIVIL_ID:E,PR_GENERO_ID:T,NOME:_,DT_NASC:P,ALCUNHA:L,NOME_PAI:k,NOME_MAE:G,OBS:H,ENDERECO:V,ENDERECO_COORD:W,NIF:Z?"":X};console.log(t);try{const e=await r.a.post("/sgigjpessoa",t);if("200"==e.status){for(let t=0;t<de.length;t++)if(""!=de[t].tipocontacto&&""!=de[t].contacto){console.log(de);const a={PESSOA_ID:e.data.ID,PR_CONTACTO_TP_ID:de[t].tipocontacto,CONTACTO:de[t].contacto};try{await r.a.post("/sgigjrelcontacto",a)}catch(s){console.error(s.response)}}for(let t=0;t<he.length;t++)if(""!=he[t].tipodocumento&&""!=he[t].numero){console.log(he);var a="";if("2"==he[t].anexo.type){a=(await Oe(he[t].anexo.file)).file.data}console.log(a);const o={PESSOA_ID:e.data.ID,PR_DOCUMENTO_TP_ID:he[t].tipodocumento,NUMERO:he[t].numero,DOC_URL:a,DT_EMISSAO:he[t].dataemissao,DT_VALIDADE:he[t].datavalidade};try{await r.a.post("/sgigjreldocumento",o)}catch(s){console.error(s.response)}}b(),g(!1)}}catch(s){try{console.error(s),console.error(s.response),"3058"==s.response.data.code&&m("Esse NIF j\xe1 existe")}catch(o){console.error(o)}}},children:Object(j.jsxs)(c.a,{children:[Object(j.jsx)(l.a,{sm:3,children:Object(j.jsxs)("div",{className:"form-group fill",children:[Object(j.jsxs)("label",{className:"floating-label",htmlFor:"text",children:["C\xf3digo ",Object(j.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(j.jsx)("input",{disabled:!0,value:"0003",type:"text",className:"form-control",id:"Name"})]})}),Object(j.jsx)(l.a,{sm:6,children:Object(j.jsxs)("div",{className:"form-group fill",children:[Object(j.jsxs)("label",{className:"floating-label",htmlFor:"Email",children:["Nome ",Object(j.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(j.jsx)("input",{maxLength:"256",type:"text",onChange:e=>{R(e.target.value)},className:"form-control",id:"Nome ",placeholder:"Nome",required:!0})]})}),Object(j.jsx)(l.a,{sm:3,children:Object(j.jsxs)("div",{className:"form-group fill",children:[Object(j.jsx)("label",{className:"floating-label",htmlFor:"text",children:"Alcunha"}),Object(j.jsx)("input",{type:"text",maxLength:"75",onChange:e=>{F(e.target.value)},className:"form-control",id:"alcunga",placeholder:"Alcunha..."})]})}),Object(j.jsx)(l.a,{sm:4,children:Object(j.jsxs)("div",{className:"form-group fill",children:[Object(j.jsxs)("label",{className:"floating-label",htmlFor:"Phone",children:["G\xeanero ",Object(j.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(j.jsxs)("select",{className:"form-control",onChange:e=>{w(e.target.value)},id:"perfil",required:!0,"aria-required":"true",children:[Object(j.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),t.map(e=>Object(j.jsx)("option",{value:e.ID,children:e.DESIG},e.ID))]})]})}),Object(j.jsx)(l.a,{sm:4,children:Object(j.jsxs)("div",{className:"form-group fill",children:[Object(j.jsxs)("label",{className:"floating-label",htmlFor:"Phone",children:["Estado civil ",Object(j.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(j.jsxs)("select",{className:"form-control",onChange:e=>{A(e.target.value)},id:"perfil",required:!0,"aria-required":"true",children:[Object(j.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),a.map(e=>Object(j.jsx)("option",{value:e.ID,children:e.DESIG},e.ID))]})]})}),Object(j.jsx)(l.a,{sm:4,children:Object(j.jsxs)("div",{className:"form-group fill",children:[Object(j.jsxs)("label",{className:"floating-label",htmlFor:"date",children:["Data Nascimento ",Object(j.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(j.jsx)("input",{type:"date",onChange:e=>{B(e.target.value)},className:"form-control",id:"data",required:!0})]})}),Object(j.jsx)(l.a,{sm:6,children:Object(j.jsxs)("div",{className:"form-group fill",children:[Object(j.jsx)("label",{className:"floating-label",htmlFor:"text",children:"Nome Pai"}),Object(j.jsx)("input",{type:"text",maxLength:"128",onChange:e=>{U(e.target.value)},className:"form-control",id:"pai",placeholder:"Nome Pai..."})]})}),Object(j.jsx)(l.a,{sm:6,children:Object(j.jsxs)("div",{className:"form-group fill",children:[Object(j.jsx)("label",{className:"floating-label",htmlFor:"text",children:"Nome M\xe3e"}),Object(j.jsx)("input",{type:"text",maxLength:"128",onChange:e=>{M(e.target.value)},className:"form-control",id:"mae",placeholder:"Nome Mae..."})]})}),Object(j.jsx)(l.a,{sm:6,children:Object(j.jsxs)("div",{className:"form-group fill",children:[Object(j.jsxs)("label",{className:"floating-label",htmlFor:"text",children:["Nacionalidade ",Object(j.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(j.jsxs)("select",{onChange:e=>{C(e.target.value)},className:"form-control",id:"perfil",required:!0,"aria-required":"true",children:[Object(j.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),p.map(e=>"-1"==e.NIVEL_DETALHE?Object(j.jsx)("option",{value:e.ID,children:e.NACIONALIDADE},e.ID):null)]})]})}),Object(j.jsx)(l.a,{sm:6,children:Object(j.jsxs)("div",{className:"form-group fill",children:[Object(j.jsx)("label",{className:"floating-label",htmlFor:"text",children:"Coordenadas"}),Object(j.jsx)("input",{type:"text",maxLength:"50",onChange:e=>{J(e.target.value)},className:"form-control",id:"coordenada",placeholder:"Endereco Coord..."})]})}),Object(j.jsx)("div",{className:"col-sm-6",children:Object(j.jsxs)("div",{className:"form-group fill",children:[Object(j.jsx)("label",{className:"floating-label",htmlFor:"Address",children:"Endere\xe7o"}),Object(j.jsx)("textarea",{className:"form-control",maxLength:"64000",onChange:e=>{z(e.target.value)},id:"endereco",rows:"3",placeholder:"Endere\xe7o..."})]})}),Object(j.jsx)(l.a,{sm:6,children:Object(j.jsxs)("div",{className:"form-group fill",children:[Object(j.jsxs)("label",{className:"floating-label",htmlFor:"text",children:["NIF ",Object(j.jsx)("span",{style:{color:"red"},children:"*"})]}),Z?Object(j.jsx)("input",{readOnly:"readOnly",type:"text",maxLength:"9",onChange:e=>{K(e.target.value)},className:"form-control",id:"nif",placeholder:"NIF..."}):Object(j.jsx)("input",{type:"text",maxLength:"9",required:!0,onChange:e=>{K(e.target.value)},className:"form-control",id:"nif",placeholder:"NIF..."}),Object(j.jsxs)("div",{className:" fill mt-2 input-box",children:[Object(j.jsx)("input",{type:"checkbox",name:"",id:"",onChange:e=>Y(e.target.checked)}),Object(j.jsx)("label",{className:"floating-label ml-3",htmlFor:"Name",children:"Sem NIF "})]})]})}),Object(j.jsx)(l.a,{sm:3,children:Object(j.jsxs)("div",{className:"form-group fill",children:[Object(j.jsxs)("label",{className:"floating-label",htmlFor:"text",children:["Ilha ",Object(j.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(j.jsxs)("select",{className:"form-control",id:"perfil",onChange:e=>{var t;t=e.target.value,te(t),se(""),le(""),I("")},required:!0,"aria-required":"true",children:[Object(j.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),p.map(e=>"2"==e.NIVEL_DETALHE?Object(j.jsx)("option",{value:e.ID,children:e.ILHA},e.ID):null)]})]})}),Object(j.jsx)(l.a,{sm:3,children:Object(j.jsxs)("div",{className:"form-group fill",children:[Object(j.jsxs)("label",{className:"floating-label",htmlFor:"text",children:["Concelho ",Object(j.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(j.jsxs)("select",{className:"form-control",id:"perfil",onChange:e=>{var t;t=e.target.value,se(t),le(""),I("")},required:!0,"aria-required":"true",children:[Object(j.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),p.map(e=>"3"==e.NIVEL_DETALHE&&e.GLB_GEOG_ID==ee?Object(j.jsx)("option",{value:e.ID,children:e.CONCELHO},e.ID):null)]})]})}),Object(j.jsx)(l.a,{sm:3,children:Object(j.jsxs)("div",{className:"form-group fill",children:[Object(j.jsxs)("label",{className:"floating-label",htmlFor:"text",children:["Fregu\xeasia ",Object(j.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(j.jsxs)("select",{className:"form-control",id:"perfil",onChange:e=>{var t;t=e.target.value,le(t),I("")},required:!0,"aria-required":"true",children:[Object(j.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),p.map(e=>"4"==e.NIVEL_DETALHE&&e.GLB_GEOG_ID==ae?Object(j.jsx)("option",{value:e.ID,children:e.FREGUESIA},e.ID):null)]})]})}),Object(j.jsx)(l.a,{sm:3,children:Object(j.jsxs)("div",{className:"form-group fill",children:[Object(j.jsxs)("label",{className:"floating-label",htmlFor:"text",children:["Localidade",Object(j.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(j.jsxs)("select",{onChange:e=>{I(e.target.value)},className:"form-control",id:"perfil",required:!0,"aria-required":"true",children:[Object(j.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),p.map(e=>"5"==e.NIVEL_DETALHE&&e.GLB_GEOG_ID==oe?Object(j.jsx)("option",{value:e.ID,children:e.NOME},e.ID):null)]})]})}),Object(j.jsx)("div",{className:"col-sm-12",children:Object(j.jsxs)("div",{className:"form-group fill",children:[Object(j.jsx)("label",{className:"floating-label",htmlFor:"Address",children:"Obs"}),Object(j.jsx)("textarea",{className:"form-control",maxLength:"64000",onChange:e=>{q(e.target.value)},id:"Address",rows:"3",placeholder:"Obs..."})]})})]})})}),Object(j.jsxs)(o.a.Footer,{children:[Object(j.jsx)(i.a,{variant:"danger",onClick:()=>g(!1),children:"Fechar"}),Object(j.jsx)(i.a,{type:"submit",form:"criarpessoa",variant:"primary",children:"Guardar"})]})]})}},823:function(e,t,a){"use strict";var s=a(0),o=a(404),l=a(403),i=a(812),c=a(818),n=a(32),r=a(26),d=a(1);t.a=e=>{let{documentolist:t,list:a,save:j,item:p,onSendData:u,hidden:h,required:b}=e;const{popUp_alertaOK:x}=Object(r.a)(),[m,O]=Object(s.useState)(!1);var[g,f]=Object(s.useState)([{id:""+Math.random(),tipodocumento:"",numero:"",dataemissao:"",datavalidade:"",anexo:{type:0,file:null}}]);async function v(e){var t={status:!1,file:null};try{const a=new FormData;a.append("file",e);const s={headers:{"content-type":"multipart/form-data"}},o=await n.a.post("/upload",a,s);t={status:!0,file:o},console.log(o)}catch(a){console.error(a),t={status:!1,file:null}}return t}Object(s.useEffect)(()=>{if(0==a.length)O(!0),f([{id:""+Math.random(),tipodocumento:"",numero:"",dataemissao:"",datavalidade:"",anexo:{type:0,file:null}}]);else{O(!1);let e=[];for(let t=0;t<a.length;t++){const s=null!=a[t].DT_EMISSAO?a[t].DT_EMISSAO.substring(0,10):"",o=null!=a[t].DT_VALIDADE?a[t].DT_VALIDADE.substring(0,10):"";e.push({id:""+a[t].ID,tipodocumento:a[t].PR_DOCUMENTO_TP_ID,numero:a[t].NUMERO,dataemissao:s,datavalidade:o,anexo:{type:1,file:a[t].DOC_URL}})}f(e.concat([])),u&&u(g)}console.log(a)},[a]),Object(s.useEffect)(()=>{console.log("ssssssssssssss"+j),""!=p.ID&&null!=p.ID&&async function(){if(1==m){const a=await n.a.delete("/sgigjreldocumento/0?"+(null===p||void 0===p?void 0:p.ENTIDADE)+"="+(null===p||void 0===p?void 0:p.ID));if(console.log(a.status),"200"==a.status||"204"==a.status){console.log(a);for(let a=0;a<g.length;a++)if(""!=g[a].tipodocumento&&(!h&&""!=g[a].numero||h)){console.log(g);var e="";"1"==g[a].anexo.type&&(e=g[a].anexo.file),"2"==g[a].anexo.type&&(e=(await v(g[a].anexo.file)).file.data),console.log(e);const s={[null===p||void 0===p?void 0:p.ENTIDADE]:null===p||void 0===p?void 0:p.ID,PR_DOCUMENTO_TP_ID:g[a].tipodocumento,NUMERO:h?1:g[a].numero,DOC_URL:e,DT_EMISSAO:g[a].dataemissao,DT_VALIDADE:g[a].datavalidade};try{await n.a.post("/sgigjreldocumento",s)}catch(t){console.error(t.response)}}}}}()},[j]);const[y,D]=Object(s.useState)(0);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(o.a,{style:{display:"flex",justifyContent:"flex-end"},sm:12,children:Object(d.jsx)(l.a,{onClick:()=>(f(g.concat([{id:""+Math.random(),tipodocumento:"",numero:"",dataemissao:"",datavalidade:"",anexo:{type:0,file:null}}])),void(u&&u(g))),variant:"primary",children:"+"})}),g.map((e,a)=>{var s;if(a==y)return Object(d.jsxs)(i.a,{style:{marginBottom:"12px"},children:[Object(d.jsx)(o.a,{sm:10,children:Object(d.jsxs)(i.a,{children:[Object(d.jsx)(o.a,{sm:6,children:Object(d.jsxs)("div",{className:"form-group fill",children:[Object(d.jsxs)("label",{className:"floating-label",htmlFor:"Phone",children:["Tipo de Documentos"," ",b&&Object(d.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(d.jsxs)("select",{defaultValue:e.tipodocumento,onChange:t=>{!function(e,t){const a=g.findIndex(e=>e.id===t);g[a]={id:t,tipodocumento:e,numero:g[a].numero,dataemissao:g[a].dataemissao,datavalidade:g[a].datavalidade,anexo:g[a].anexo},O(!0),f(g.concat([])),u&&u(g)}(t.target.value,e.id)},className:"form-control",id:"perfil",required:b,"aria-required":"true",children:[Object(d.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),t.map(e=>Object(d.jsx)("option",{value:e.ID,children:e.DESIG},e.ID))]})]})}),!h&&Object(d.jsx)(o.a,{sm:3,children:Object(d.jsxs)("div",{className:"form-group fill",children:[Object(d.jsx)("label",{className:"floating-label",htmlFor:"text",children:"N\xfamero   "}),Object(d.jsx)("input",{defaultValue:e.numero,onChange:t=>{!function(e,t){const a=g.findIndex(e=>e.id===t);g[a]={id:t,numero:e,tipodocumento:g[a].tipodocumento,dataemissao:g[a].dataemissao,datavalidade:g[a].datavalidade,anexo:g[a].anexo},O(!0),f(g.concat([])),u&&u(g)}(t.target.value,e.id)},type:"text",className:"form-control"})]})}),Object(d.jsxs)("div",{className:"sm-2 paddinhtop28OnlyPC",children:[Object(d.jsxs)("label",{htmlFor:"anexareditar"+e.id,className:"btn",style:{backgroundColor:"#d2b32a",color:"#fff"},children:[null==(null===e||void 0===e||null===(s=e.anexo)||void 0===s?void 0:s.file)?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("i",{className:"feather icon-download"}),Object(d.jsx)(d.Fragment,{children:" Anexar"})]}):"Anexado"," "]}),Object(d.jsx)("input",{id:"anexareditar"+e.id,style:{display:"none"},onChange:t=>function(e,t,a){const s=g.findIndex(e=>e.id===t);if(console.log(g[s]),console.log(t),""==g[s].tipodocumento)return x("Preencha o campos obrigat\xf3rios"),void(a.target.value="");g[s]={id:t,tipodocumento:g[s].tipodocumento,dataemissao:g[s].dataemissao,datavalidade:g[s].datavalidade,numero:g[s].numero,anexo:{type:2,file:e}},O(!0),f(g.concat([])),u&&u(g)}(t.target.files[0],e.id,t),accept:h?void 0:"image/x-png,image/jpeg,.mp4",type:"file"})]}),!h&&Object(d.jsx)(o.a,{sm:6,children:Object(d.jsxs)("div",{className:"form-group fill",children:[Object(d.jsx)("label",{className:"floating-label",htmlFor:"date",children:"Data de Emiss\xe3o"}),Object(d.jsx)("input",{defaultValue:e.dataemissao,onChange:t=>{!function(e,t){const a=g.findIndex(e=>e.id===t);g[a]={id:t,dataemissao:e,numero:g[a].numero,tipodocumento:g[a].tipodocumento,datavalidade:g[a].datavalidade,anexo:g[a].anexo},O(!0),f(g.concat([])),u&&u(g)}(t.target.value,e.id)},type:"date",className:"form-control"})]})}),!h&&Object(d.jsx)(o.a,{sm:6,children:Object(d.jsxs)("div",{className:"form-group fill",children:[Object(d.jsx)("label",{className:"floating-label",htmlFor:"text",children:"Data de Validade"}),Object(d.jsx)("input",{defaultValue:e.datavalidade,onChange:t=>{!function(e,t){const a=g.findIndex(e=>e.id===t);g[a]={id:t,datavalidade:e,numero:g[a].numero,tipodocumento:g[a].tipodocumento,dataemissao:g[a].dataemissao,anexo:g[a].anexo},O(!0),f(g.concat([])),u&&u(g)}(t.target.value,e.id)},type:"date",className:"form-control"})]})})]})}),g.length>1?Object(d.jsx)("div",{className:"paddinhtop66OnlyPC sm-2",children:Object(d.jsx)(l.a,{onClick:()=>function(e){if(g.length>1){const a=g.findIndex(t=>t.id===e);if(a>-1){var t=g;t.splice(a,1),f(t.concat([])),u&&u(g),O(!0)}}}(e.id),variant:"danger",children:Object(d.jsx)("i",{className:"feather icon-trash-2"})})}):null]},e.id)}),Object(d.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(d.jsxs)(c.a,{className:"justify-content-end",children:[Object(d.jsx)(c.a.First,{onClick:()=>D(0)}),Object(d.jsx)(c.a.Prev,{onClick:()=>D(y>0?y-1:0)}),Object(d.jsx)("span",{style:{display:"flex",padding:"8px 20px",alignItems:"center",justifyContent:"center"},children:y+1}),Object(d.jsx)(c.a.Next,{onClick:()=>D(y>=g.length-1?g.length-1:y+1)}),Object(d.jsx)(c.a.Last,{onClick:()=>D(g.length-1)})]})})]})}},824:function(e,t,a){"use strict";var s=a(0),o=a(814),l=a(812),i=a(404),c=a(403),n=a(7),r=a(1);t.a=e=>{let{Open:t,setOpen:a,list:d}=e;const[j,p]=Object(s.useState)(""),[u,h]=Object(s.useState)("");return Object(s.useEffect)(()=>{console.log("ROberto",d),p("")},[d]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(o.a,{size:"lg",show:t,onHide:()=>a(!1),children:[Object(r.jsx)(o.a.Body,{children:Object(r.jsx)(l.a,{children:Object(r.jsxs)(i.a,{xl:12,className:"task-detail-right",children:[Object(r.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"spaceAround"},children:Object(r.jsxs)("span",{style:{paddingBottom:"4px",cursor:"pointer",borderBottom:"2px solid #d2b32a",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(r.jsx)("i",{className:"feather icon-file-text m-r-5"}),"Anexos"]})}),Object(r.jsxs)("div",{style:{width:"100%",height:"500px"},children:[Object(r.jsx)("div",{style:{width:"100%",borderBottom:"1px solid #d2b32a",paddingTop:"20px",paddingBottom:"20px",marginBottom:"20px",overflow:"auto",height:"70px"},children:"undefined"!=typeof d?d.map(e=>{var t;return Object(r.jsx)(n.b,{onClick:()=>{var t,a,s,o;"PDF"==(null===(t=e.DOC_URL)||void 0===t?void 0:t.substring((null===(a=e.DOC_URL)||void 0===a?void 0:a.lastIndexOf("."))+1))||"pdf"==(null===(s=e.DOC_URL)||void 0===s?void 0:s.substring((null===(o=e.DOC_URL)||void 0===o?void 0:o.lastIndexOf("."))+1))?h(e.DOC_URL):p(e.DOC_URL)},style:{margin:"2px"},to:"#",className:"mb-1 text-muted d-flex align-items-end text-h-primary",children:"::"+(null===e||void 0===e||null===(t=e.sgigjprdocumentotp)||void 0===t?void 0:t.DESIG)},e.ID)}):null}),Object(r.jsx)("div",{style:{width:"100%",display:j?"flex":"none",justifyContent:"center",marginBottom:"10px"},children:Object(r.jsxs)("span",{children:[Object(r.jsx)("i",{className:"feather icon-eye m-r-5"}),"Pr\xe9-vizualiza\xe7\xe3o"]})}),Object(r.jsx)("a",{style:{display:j?"block":"none"},href:j+"?alt=media&token=0",target:"_blank",rel:"noopener noreferrer",children:Object(r.jsx)("div",{className:""==j?"previewdoc":"previewdoc-img",style:{backgroundImage:'url("'+j+'?alt=media&token=0")',height:"350px"}})})]})]})})}),Object(r.jsx)(o.a.Footer,{children:Object(r.jsx)(c.a,{variant:"danger",onClick:()=>a(!1),children:"Fechar"})})]}),Object(r.jsx)(o.a,{size:"xl",show:u,onHide:()=>{h(null),setTimeout(()=>a(!0),150)},children:Object(r.jsx)("iframe",{height:1e3,src:u+"?alt=media&token=0",title:"pdf-viewer",width:"100%s"})})]})}},893:function(e,t,a){"use strict";a.r(t);var s=a(8),o=a(0),l=a.n(o),i=a(812),c=a(404),n=a(840),r=a(814),d=a(403),j=a(807),p=a(240),u=a.n(p),h=a(823),b=a(821),x=a(7),m=a(32),O=a(26),g=a(816),f=a(1);const v=e=>{let{filter:t,setFilter:a}=e;const[s,l]=Object(o.useState)(t),i=Object(g.useAsyncDebounce)(e=>{a(e||void 0)},1e3);return Object(f.jsxs)("span",{className:"d-flex align-items-center justify-content-end",children:["Procurar:"," ",Object(f.jsx)("input",{className:"form-control ml-2 w-auto",value:s||"",onChange:e=>{l(e.target.value),i(e.target.value)}})]})};var y=a(820),D=a.n(y),N=a(818),C=a(817),S=a(22),I=a(76),E=a(822),A=a(824);let T="/processos/exclusaointerdicao";function w(e){let{uploadList:t,columns:a,listAno:l,data:n,modalOpen:r}=e;const[d,j]=Object(o.useState)(""),[p,u]=Object(o.useState)(""),h=Object(o.useRef)(null),{permissoes:b}=Object(O.a)(),[x,m]=Object(o.useState)(),{getTableProps:y,getTableBodyProps:D,headerGroups:S,prepareRow:I,globalFilter:E,setGlobalFilter:A,page:T,canPreviousPage:w,canNextPage:_,pageOptions:R,pageCount:P,gotoPage:B,nextPage:L,previousPage:F,setPageSize:k,state:{pageIndex:U,pageSize:G}}=Object(g.useTable)({columns:a,data:n,initialState:{pageIndex:0,pageSize:10}},g.useGlobalFilter,g.useSortBy,g.usePagination);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(i.a,{className:"mb-3",children:[Object(f.jsxs)(c.a,{md:3,className:"d-flex align-items-center",children:["Mostrar",Object(f.jsx)("select",{className:"form-control w-auto mx-2",value:G,onChange:e=>{k(Number(e.target.value))},children:[5,10,20,30,40,50].map(e=>Object(f.jsx)("option",{value:e,children:e},e))}),"entradas"]}),Object(f.jsxs)(c.a,{md:9,className:"d-flex justify-content-end",children:[Object(f.jsxs)("div",{className:"d-flex align-items-center mr-2",children:[Object(f.jsx)("div",{className:"d-flex",children:Object(f.jsxs)("div",{className:"d-flex align-items-center mr-1",children:[Object(f.jsxs)("span",{className:"floating-label",htmlFor:"Name",children:["Ano:",Object(f.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(f.jsxs)("select",{onChange:e=>{var a;a=e.target.value,t(a)},className:"form-control",id:"perfil",required:!0,"aria-required":"true",children:[Object(f.jsx)("option",{value:"",children:" Selecione um Ano "}),l.map(e=>Object(f.jsx)("option",{value:e,children:e},e))]})]})}),""!==d||""!==p?Object(f.jsx)("div",{style:{cursor:"pointer"},onClick:()=>{j(""),u(""),t()},className:"ml-2",children:Object(f.jsx)("i",{className:"feather icon-x-circle"})}):""]}),Object(f.jsx)(v,{filter:E,setFilter:A})]})]}),Object(f.jsxs)(C.a,Object(s.a)(Object(s.a)({ref:h,striped:!0,bordered:!0,hover:!0,responsive:!0},y()),{},{children:[Object(f.jsx)("thead",{children:S.map(e=>Object(f.jsx)("tr",Object(s.a)(Object(s.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map(e=>Object(f.jsxs)("th",Object(s.a)(Object(s.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),Object(f.jsx)("span",{children:e.isSorted?e.isSortedDesc?Object(f.jsx)("span",{className:"feather icon-arrow-down text-muted float-right"}):Object(f.jsx)("span",{className:"feather icon-arrow-up text-muted float-right"}):""})]})))})))}),Object(f.jsx)("tbody",Object(s.a)(Object(s.a)({},D()),{},{children:T.map((e,t)=>(I(e),Object(f.jsx)("tr",Object(s.a)(Object(s.a)({},e.getRowProps()),{},{children:e.cells.map(e=>{const t=e.column.centered;return Object(f.jsx)("td",Object(s.a)(Object(s.a)({},e.getCellProps()),{},{className:t?"text-center":"text-right",children:e.render("Cell")}))})}))))}))]})),Object(f.jsxs)(i.a,{className:"justify-content-between",children:[Object(f.jsx)(c.a,{children:Object(f.jsxs)("span",{className:"d-flex align-items-center",children:["P\xe1gina"," ",Object(f.jsxs)("strong",{children:[" ",U+1," de ",R.length," "]})," ","| Ir para a p\xe1gina:"," ",Object(f.jsx)("input",{type:"number",className:"form-control ml-2",defaultValue:U+1,onChange:e=>{const t=e.target.value?Number(e.target.value)-1:0;B(t)},style:{width:"100px"}})]})}),Object(f.jsx)(c.a,{children:Object(f.jsxs)(N.a,{className:"justify-content-end",children:[Object(f.jsx)(N.a.First,{onClick:()=>B(0),disabled:!w}),Object(f.jsx)(N.a.Prev,{onClick:()=>F(),disabled:!w}),Object(f.jsx)(N.a.Next,{onClick:()=>L(),disabled:!_}),Object(f.jsx)(N.a.Last,{onClick:()=>B(P-1),disabled:!_})]})})]})]})}t.default=()=>{var e,t,a,s,p,g,v,y,N,C,_,R,P,B,L,F,k,U,G,M,H,q,V,z,W,J;const{permissoes:X,user:K,popUp_simcancelar:Z}=Object(O.a)(),Y=(Object(S.g)(),Object(S.i)()),[Q,$]=Object(o.useState)(null),{popUp_removerItem:ee,popUp_alertaOK:te}=Object(O.a)();Object(o.useRef)(null);const ae=l.a.useMemo(()=>[{Header:"EST",accessor:"COLOR_STATUS",centered:!1},{Header:"Refer\xeancia",accessor:"REF",centered:!1},{Header:"Despacho",accessor:"TIPO_DESPACHO",centered:!0},{Header:"Entidade Decisora",accessor:"ENTIDADEREGISTO",centered:!0},{Header:"Pessoa",accessor:"PESSOAREGISTO",centered:!0},{Header:"Visado",accessor:"PESSOA",centered:!0},{Header:"Data",accessor:"DATA2",centered:!0},{Header:"A\xe7\xf5es",accessor:"action",centered:!0}],[]),[se,oe]=Object(o.useState)([]),[le,ie]=Object(o.useState)(""),[ce,ne]=Object(o.useState)(""),[re,de]=Object(o.useState)(""),[je,pe]=Object(o.useState)("dados"),[ue,he]=Object(o.useState)(null),[be,xe]=Object(o.useState)(null),[me,Oe]=Object(o.useState)([]),[ge,fe]=Object(o.useState)(!1),[ve,ye]=Object(o.useState)({}),[De,Ne]=Object(o.useState)(!1);var Ce=(new Date).toJSON().slice(0,10);const[Se,Ie]=Object(o.useState)([]);async function Ee(e){var t={status:!1,file:null};try{const a=new FormData;a.append("file",e);const s={headers:{"content-type":"multipart/form-data"}};t={status:!0,file:await m.a.post("/upload",a,s)}}catch(a){console.error(a.response),t={status:!1,file:null}}return t}const Ae=e=>{we(!0),ye(e)},[Te,we]=Object(o.useState)(!1),[_e,Re]=Object(o.useState)(!1),[Pe,Be]=Object(o.useState)(null);async function Le(){try{const t=await m.a.get("/sgigjpessoa");if("200"==t.status){for(var e=0;e<t.data.length;e++)t.data[e].value=t.data[e].ID,t.data[e].label=t.data[e].NOME;Ie(t.data)}}catch(t){console.error(t.response)}}const[Fe,ke]=Object(o.useState)([]);const[Ue,Ge]=Object(o.useState)([]);const[Me,He]=Object(o.useState)([]);const[qe,Ve]=Object(o.useState)([]);const[ze,We]=Object(o.useState)([]);const[Je,Xe]=Object(o.useState)([]);const[Ke,Ze]=Object(o.useState)([]);async function Ye(e){let t,a=[];try{if(t=e?await m.a.get("/sgigjprocessoexclusao?ENTIDADE_ID=".concat(Y.id,"&ano=").concat(e)):await m.a.get("/sgigjprocessoexclusao?ENTIDADE_ID=".concat(Y.id)),"200"==t.status){console.log(t.data);for(var s=0;s<t.data.length;s++){var o,i,c,n,r,d,j,p,u,h,b;t.data[s].ID;t.data[s].id=t.data[s].ID,t.data[s].DATA2=Object(I.f)(t.data[s].DATA);let e=new Date(t.data[s].DATA);e&&!a.includes(e.getFullYear())&&a.push(e.getFullYear()),t.data[s].PESSOA=t.data[s].sgigjrelinterveniente.map(e=>e.sgigjpessoa.NOME).join(", "),t.data[s].ORIGEM=null===(o=t.data[s].sgigjprorigemtp)||void 0===o?void 0:o.DESIG,t.data[s].PESSOAREGISTO=null===(i=t.data[s].sgigjrelpessoaentidade)||void 0===i||null===(c=i.sgigjpessoa)||void 0===c?void 0:c.NOME,t.data[s].ENTIDADEREGISTO=null===(n=t.data[s])||void 0===n||null===(r=n.sgigjentidade)||void 0===r?void 0:r.DESIG;const m=t.data[s];let K="",Y="grey";var O,g;if((null===(d=t.data[s])||void 0===d?void 0:d.sgigjdespachofinal.length)>0)null!=(null===(O=t.data[s])||void 0===O||null===(g=O.sgigjdespachofinal[0])||void 0===g?void 0:g.URL_DOC_GERADO)&&(Y="blue"),K="Despacho Decis\xe3o";else if((null===(j=t.data[s])||void 0===j?void 0:j.sgigjprocessodespacho.length)>0){var v,y,D,N,C,S,E,A,w,_,R,P,B,L,F,k,U,G,M,H,q,V,z,W,J;if("I"==(null===(v=t.data[s])||void 0===v||null===(y=v.sgigjprocessodespacho[0])||void 0===y?void 0:y.TIPO_PROCESSO_EXCLUSAO)&&(K="Inqu\xe9rito"),"C"==(null===(D=t.data[s])||void 0===D||null===(N=D.sgigjprocessodespacho[0])||void 0===N?void 0:N.TIPO_PROCESSO_EXCLUSAO)&&(K="Contraordena\xe7\xe3o"),"A"==(null===(C=t.data[s])||void 0===C||null===(S=C.sgigjprocessodespacho[0])||void 0===S?void 0:S.TIPO_PROCESSO_EXCLUSAO)&&(K="Averigua\xe7\xe3o Sum\xe1ria"),null!=(null===(E=t.data[s])||void 0===E||null===(A=E.sgigjprocessodespacho[0])||void 0===A?void 0:A.URL_DOC_GERADO)&&(Y="green"),(null===(w=t.data[s])||void 0===w||null===(_=w.sgigjprocessodespacho[0])||void 0===_?void 0:_.sgigjrelprocessoinstrutor.length)>0)if((null===(R=t.data[s])||void 0===R||null===(P=R.sgigjprocessodespacho[0])||void 0===P||null===(B=P.sgigjrelprocessoinstrutor[0])||void 0===B?void 0:B.sgigjrelprocessoinstrucao.length)>0)if(null!=(null===(L=t.data[s])||void 0===L||null===(F=L.sgigjprocessodespacho[0])||void 0===F||null===(k=F.sgigjrelprocessoinstrutor[0])||void 0===k||null===(U=k.sgigjrelprocessoinstrucao[0])||void 0===U?void 0:U.RELATORIO_FINAL)&&(Y="orange"),(null===(G=t.data[s])||void 0===G||null===(M=G.sgigjprocessodespacho[0])||void 0===M||null===(H=M.sgigjrelprocessoinstrutor[0])||void 0===H||null===(q=H.sgigjrelprocessoinstrucao[0])||void 0===q?void 0:q.sgigjdespachointerrompido.length)>0)"P"==(null===(V=t.data[s])||void 0===V||null===(z=V.sgigjprocessodespacho[0])||void 0===z||null===(W=z.sgigjrelprocessoinstrutor[0])||void 0===W||null===(J=W.sgigjrelprocessoinstrucao[0])||void 0===J?void 0:J.sgigjdespachointerrompido[0].TIPO)&&(Y="blue")}t.data[s].TIPO_DESPACHO=K,t.data[s].action=Object(f.jsxs)(l.a.Fragment,{children:[0==Object(I.s)(T,X,"Editar")?null:Object(f.jsx)(x.b,{to:"#",title:"Decis\xe3o Tribunal",onClick:()=>{Re(!0),ye(m)},className:"text-primary mx-1",children:Object(f.jsx)("i",{className:"text-primary  feather icon-file"})}),0==Object(I.s)(T,X,"Editar")?null:Object(f.jsx)(x.b,{to:"#",title:"Notifica\xe7\xe3o",onClick:()=>Ae(m),className:"text-primary mx-1",children:Object(f.jsx)("i",{className:"text-primary  feather icon-mail"})}),0==Object(I.s)(T,X,"Ler")?null:Object(f.jsx)(x.b,{to:"#",title:Object(I.u)(T,X,"Ler"),onClick:()=>nt(m),className:"text-primary mx-1",children:Object(f.jsx)("i",{className:"text-primary "+Object(I.t)(T,X,"Ler")})}),0==Object(I.s)(T,X,"Editar")&&null==(null===(p=t.data[s])||void 0===p||null===(u=p.sgigjprocessodespacho[0])||void 0===u||null===(h=u.sgigjrelprocessoinstrutor[0])||void 0===h||null===(b=h.sgigjrelprocessoinstrucao[0])||void 0===b?void 0:b.RELATORIO_FINAL)?null:Object(f.jsx)(x.b,{to:"#",title:"Instru\xe7\xe3o Despacho",onClick:()=>Z("Deseja resgatar o processo?",{doit:$t,id:m.id}),className:"text-primary mx-1",children:Object(f.jsx)("i",{className:"text-primary feather icon-power"})})]}),t.data[s].colorx=Y,t.data[s].COLOR_STATUS=Object(f.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(f.jsx)("div",{style:{backgroundColor:"red",width:"20px",height:"20px",borderRadius:"50%"}}),Object(f.jsx)("div",{style:{backgroundColor:"orange",width:"20px",height:"20px",borderRadius:"50%"}}),Object(f.jsx)("div",{style:{backgroundColor:"green",width:"20px",height:"20px",borderRadius:"50%"}}),Object(f.jsx)("div",{style:{backgroundColor:"#fff",width:"20px",height:"20px",borderRadius:"50%",border:"2px solid blue"}})]})}var K=t.data.filter(e=>"blue"==e.colorx);Ze(K)}0==bt.length&&xt(a)}catch(Q){console.error(Q.response)}}const[Qe,$e]=Object(o.useState)(null),[et,tt]=Object(o.useState)({}),[at,st]=Object(o.useState)("Despacho"),[ot,lt]=Object(o.useState)(""),[it,ct]=Object(o.useState)(!1),nt=async e=>{try{const r=await m.a.get("/sgigjprocessoexclusao/"+e.id);if("200"==r.status&&r.data.length>0){var t,a,s,o,l,i;r.data[0].id=r.data[0].ID,r.data[0].id=r.data[0].ID,r.data[0].DATA2=Object(I.f)(r.data[0].DATA),r.data[0].PESSOA=null===(t=r.data[0].sgigjpessoa)||void 0===t?void 0:t.NOME,r.data[0].ORIGEM=null===(a=r.data[0].sgigjprorigemtp)||void 0===a?void 0:a.DESIG,r.data[0].PESSOAREGISTO=null===(s=r.data[0].sgigjrelpessoaentidade)||void 0===s||null===(o=s.sgigjpessoa)||void 0===o?void 0:o.NOME,r.data[0].ENTIDADEREGISTO=null===(l=r.data[0])||void 0===l||null===(i=l.sgigjentidade)||void 0===i?void 0:i.DESIG;let e=null,d=null,j=null;var c,n;if(r.data[0].sgigjprocessodespacho.length>0)if(null!=r.data[0].sgigjprocessodespacho[0].URL_DOC_GERADO&&(e={DATA:Object(I.f)(r.data[0].sgigjprocessodespacho[0].DATA),REFERENCIA:r.data[0].sgigjprocessodespacho[0].REFERENCIA,PRAZO:r.data[0].sgigjprocessodespacho[0].PRAZO,OBS:r.data[0].sgigjprocessodespacho[0].OBS,DOC:r.data[0].sgigjprocessodespacho[0].URL_DOC_GERADO,INSTRUTOR:""}),r.data[0].sgigjprocessodespacho[0].sgigjrelprocessoinstrutor.length>0)e.INSTRUTOR=null===(c=r.data[0].sgigjprocessodespacho[0].sgigjrelprocessoinstrutor[0].sgigjrelpessoaentidade)||void 0===c||null===(n=c.sgigjpessoa)||void 0===n?void 0:n.NOME,r.data[0].sgigjprocessodespacho[0].sgigjrelprocessoinstrutor[0].sgigjrelprocessoinstrucao.length>0&&(d={list:r.data[0].sgigjprocessodespacho[0].sgigjrelprocessoinstrutor[0].sgigjrelprocessoinstrucao[0].sgigjrelinstrutorpeca},r.data[0].sgigjprocessodespacho[0].sgigjrelprocessoinstrutor[0].sgigjrelprocessoinstrucao[0].sgigjprocessodespacho.length>0&&null!=r.data[0].sgigjprocessodespacho[0].sgigjrelprocessoinstrutor[0].sgigjrelprocessoinstrucao[0].sgigjprocessodespacho[0].URL_DOC_GERADO&&(j={DOC:r.data[0].sgigjprocessodespacho[0].sgigjrelprocessoinstrutor[0].sgigjrelprocessoinstrucao[0].sgigjprocessodespacho[0].URL_DOC_GERADO,DATA:Object(I.f)(r.data[0].sgigjprocessodespacho[0].sgigjrelprocessoinstrutor[0].sgigjrelprocessoinstrucao[0].sgigjprocessodespacho[0].DATA),DESICAO:r.data[0].sgigjprocessodespacho[0].sgigjrelprocessoinstrutor[0].sgigjrelprocessoinstrucao[0].sgigjprocessodespacho[0].sgigjprdecisaotp.TIPO}));r.data[0].sgigjdespachofinal.length>0&&null!=r.data[0].sgigjdespachofinal[0].URL_DOC_GERADO&&(j={DOC:r.data[0].sgigjdespachofinal[0].URL_DOC_GERADO,DATA:Object(I.f)(r.data[0].sgigjdespachofinal[0].DATA),DESICAO:r.data[0].sgigjdespachofinal[0].sgigjprdecisaotp.TIPO}),console.log(j),r.data[0].despacho=e,r.data[0].instrucao=d,r.data[0].despachofinal=j,console.log(d),$e(r.data[0]),ct(!0),console.log(r.data[0])}}catch(r){console.error(r)}};Object(o.useEffect)(()=>{Ye(),Le(),async function(){try{const e=await m.a.get("/sgigjprdocumentotp");"200"==e.status&&Ve(e.data)}catch(e){console.error(e.response)}}()},[]);const[rt,dt]=Object(o.useState)(!1),[jt,pt]=Object(o.useState)(!1),[ut,ht]=Object(o.useState)(!1),[bt,xt]=Object(o.useState)([]);const[mt,Ot]=Object(o.useState)({code:0,value:!1}),[gt,ft]=Object(o.useState)(!1),[vt,yt]=Object(o.useState)(""),[Dt,Nt]=Object(o.useState)(""),[Ct,St]=Object(o.useState)(""),[It,Et]=Object(o.useState)(""),[At,Tt]=Object(o.useState)(""),[wt,_t]=Object(o.useState)(""),[Rt,Pt]=Object(o.useState)(""),[Bt,Lt]=Object(o.useState)(""),[Ft,kt]=Object(o.useState)(""),[Ut,Gt]=Object(o.useState)("");(new Date).toISOString().substring(0,10);const[Mt,Ht]=Object(o.useState)(!1),[qt,Vt]=Object(o.useState)(!1),[zt,Wt]=Object(o.useState)([]);function Jt(e){var t=[];t=null===e||void 0===e?void 0:e.sgigjreldocumento,null!=e.URL_DOC&&t.push({DOC_URL:e.URL_DOC,sgigjprdocumentotp:{DESIG:"Documento gerado"}}),Vt(!0),Wt(null===e||void 0===e?void 0:e.sgigjreldocumento)}const[Xt,Kt]=Object(o.useState)(),[Zt,Yt]=Object(o.useState)(!1);async function Qt(e){let t=[];try{const o=await m.a.get("/sgigjprocessoexclusao/"+e);"200"==o.status&&o.data.length>0&&(o.data[0].id=o.data[0].ID,o.data[0].sgigjprocessodespacho.length>0&&o.data[0].sgigjprocessodespacho[0].sgigjrelprocessoinstrutor.length>0&&o.data[0].sgigjprocessodespacho[0].sgigjrelprocessoinstrutor[0].sgigjrelprocessoinstrucao.length>0&&(t=o.data[0].sgigjprocessodespacho[0].sgigjrelprocessoinstrutor[0].sgigjrelprocessoinstrucao[0].sgigjrelinstrutorpeca));var a=[];if(t.length>0)for(let e=0;e<t.length;e++){const s=t[e];for(let e=0;e<s.sgigjreldocumento.length;e++){const t=s.sgigjreldocumento[e];a.push(t.DOC_URL)}null!=s.URL_DOC&&a.push(s.URL_DOC)}console.log("GO_ER");const l=await m.a.get("/juntada/"+e);if("200"==l.status){const e=l.data.buffer.data,t=new Uint8Array(e).buffer;var s=new Blob([t],{type:"application/pdf"});const a=URL.createObjectURL(s);console.log(s),Kt(a),Yt(!0)}}catch(o){console.error(o)}}async function $t(e){let t=!1;try{200===(await m.a.get("/sgigjprocessoexclusao/".concat(e,"/resgatar"))).status&&(Ye(),u.a.success("Processo Resgatado!",{duration:4e3}),t=!0)}catch(a){console.error(a.response)}return t}return Object(f.jsx)(l.a.Fragment,{children:Object(f.jsx)(i.a,{children:Object(f.jsxs)(c.a,{sm:12,children:[Object(f.jsx)(n.a,{children:Object(f.jsx)(n.a.Body,{children:Object(f.jsx)(w,{listAno:bt,uploadList:Ye,columns:ae,data:Ke,modalOpen:()=>{dt(!0),pt(!1),ct(!1),oe([]),ie(""),ne(""),de("")},pageAcess:T,permissoes:X})})}),Object(f.jsxs)(r.a,{size:"lg",show:it,onHide:()=>ct(!1),children:[Object(f.jsxs)(r.a.Header,{style:{border:"0"},closeButton:!0,children:[Object(f.jsx)(r.a.Title,{as:"h5"}),Object(f.jsx)(r.a.Title,{as:"h5",children:"Processo"})]}),null!=Qe&&Object(f.jsx)(r.a.Body,{children:Object(f.jsxs)(i.a,{children:[Object(f.jsxs)(c.a,{xl:4,className:"task-detail-right",children:[Object(f.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:Object(f.jsxs)("span",{children:[Object(f.jsx)("i",{className:"feather icon-shield m-r-5"}),"Pedido"]})}),Object(f.jsx)("div",{style:{borderBottom:"1px solid #d2b32a",borderTop:"1px solid #d2b32a",marginBottom:"20px",marginTop:"6px",paddingTop:"20px"},children:Object(f.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",marginBottom:"15px"},children:[Object(f.jsxs)("span",{children:[Object(f.jsx)("i",{className:"feather icon-map-pin m-r-5"}),"Visado"]}),Object(f.jsx)("span",{style:{color:"#6c757d"},children:Qe.PESSOA})]})}),Object(f.jsxs)("div",{style:{borderBottom:"1px solid #d2b32a",marginBottom:"20px"},children:[Object(f.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",marginBottom:"15px"},children:[Object(f.jsxs)("span",{children:[Object(f.jsx)("i",{className:"feather icon-map-pin m-r-5"}),"Entidade Decisora"]}),Object(f.jsx)("span",{style:{color:"#6c757d"},children:"IGJ"})]}),Object(f.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",marginBottom:"15px"},children:[Object(f.jsxs)("span",{children:[Object(f.jsx)("i",{className:"feather icon-map-pin m-r-5"}),"Pedido por"]}),Object(f.jsx)("span",{style:{color:"#6c757d"},children:Qe.PESSOAREGISTO})]}),Object(f.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",marginBottom:"15px"},children:[Object(f.jsxs)("span",{children:[Object(f.jsx)("i",{className:"feather icon-map-pin m-r-5"}),"Pedido Pedido"]}),Object(f.jsx)("span",{style:{color:"#6c757d"},children:Qe.DATA2})]})]}),Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",marginBottom:"15px"},children:[Object(f.jsxs)("span",{children:[Object(f.jsx)("i",{className:"feather icon-phone m-r-5"}),"Descri\xe7\xe3o"]}),Object(f.jsx)("span",{style:{color:"#6c757d"},children:Qe.DESCR})]}),Object(f.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",marginBottom:"15px"},children:[Object(f.jsxs)("span",{children:[Object(f.jsx)("i",{className:"feather icon-phone m-r-5"}),"Prescrito"]}),Object(f.jsx)("span",{style:{color:"#6c757d"},children:null===(e=Qe.sgigjprocessodespacho[0])||void 0===e||null===(t=e.sgigjrelprocessoinstrutor[0])||void 0===t||null===(a=t.sgigjrelprocessoinstrucao[0])||void 0===a||null===(s=a.sgigjdespachointerrompido[0])||void 0===s?void 0:s.OBS})]}),null!=Qe.URL_DOC_GERADO&&Object(f.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",marginBottom:"15px"},children:Object(f.jsx)("a",{target:"_blank",href:(null===Qe||void 0===Qe?void 0:Qe.URL_DOC_GERADO)+"?alt=media&token=0",children:Object(f.jsx)("span",{style:{display:"flex",fontWeight:"bold"},children:"Abrir Pedido"})})})]})]}),Object(f.jsxs)(c.a,{xl:8,className:"task-detail-right",children:[Object(f.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"spaceAround"},children:[Object(f.jsxs)("span",{onClick:()=>st("Despacho"),style:"Despacho"==at?{paddingBottom:"4px",cursor:"pointer",borderBottom:"2px solid #d2b32a",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}:{paddingBottom:"4px",cursor:"pointer",borderBottom:"1px solid #E5E5E5",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(f.jsx)("i",{className:"feather icon-film m-r-5"}),"Despacho"]}),Object(f.jsxs)("span",{onClick:()=>st("Instrucao"),style:"Instrucao"==at?{paddingBottom:"4px",cursor:"pointer",borderBottom:"2px solid #d2b32a",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}:{paddingBottom:"4px",cursor:"pointer",borderBottom:"1px solid #E5E5E5",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(f.jsx)("i",{className:"feather icon-voicemail m-r-5"}),"Instru\xe7\xe3o"]}),Object(f.jsxs)("span",{onClick:()=>st("Despachofinal"),style:"Despachofinal"==at?{paddingBottom:"4px",cursor:"pointer",borderBottom:"2px solid #d2b32a",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}:{paddingBottom:"4px",cursor:"pointer",borderBottom:"1px solid #E5E5E5",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(f.jsx)("i",{className:"feather icon-file-text m-r-5"}),"Despacho Decis\xe3o"]})]}),Object(f.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"spaceAround",marginTop:"20px"},children:[Object(f.jsxs)("span",{onClick:()=>st("Notificacao"),style:"Notificacao"==at?{paddingBottom:"4px",cursor:"pointer",borderBottom:"2px solid #d2b32a",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}:{paddingBottom:"4px",cursor:"pointer",borderBottom:"1px solid #E5E5E5",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(f.jsx)("i",{className:"feather icon-file-text m-r-5"}),"Notifica\xe7\xe3o"]}),Object(f.jsxs)("span",{onClick:()=>st("DesicaoTutela"),style:"DesicaoTutela"==at?{paddingBottom:"4px",cursor:"pointer",borderBottom:"2px solid #d2b32a",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}:{paddingBottom:"4px",cursor:"pointer",borderBottom:"1px solid #E5E5E5",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(f.jsx)("i",{className:"feather icon-file-text m-r-5"}),"Decis\xe3o Tutela"]}),Object(f.jsxs)("span",{onClick:()=>st("DesicaoTribunal"),style:"DesicaoTribunal"==at?{paddingBottom:"4px",cursor:"pointer",borderBottom:"2px solid #d2b32a",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}:{paddingBottom:"4px",cursor:"pointer",borderBottom:"1px solid #E5E5E5",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(f.jsx)("i",{className:"feather icon-file-text m-r-5"}),"Decis\xe3o Tribunal"]})]}),Object(f.jsx)("div",{style:"Despacho"==at?{width:"100%",height:"450px",overflow:"auto"}:{display:"none"},children:null!=(null===Qe||void 0===Qe?void 0:Qe.despacho)&&Object(f.jsxs)("div",{style:{width:"100%",paddingTop:"20px",marginTop:"20px"},children:[Object(f.jsxs)("div",{style:{padding:"5px",borderBottom:"1px solid #d2b32a",width:"100%",display:"flex",marginBottom:"10px"},children:[Object(f.jsx)("span",{style:{color:"#6c757d",width:"37%"},children:"Refer\xeancia"}),Object(f.jsx)("span",{style:{color:"#6c757d",width:"37%"},children:null===Qe||void 0===Qe||null===(p=Qe.despacho)||void 0===p?void 0:p.REFERENCIA})]}),Object(f.jsxs)("div",{style:{padding:"5px",borderBottom:"1px solid #d2b32a",width:"100%",display:"flex",marginBottom:"10px"},children:[Object(f.jsx)("span",{style:{color:"#6c757d",width:"37%"},children:"Data"}),Object(f.jsx)("span",{style:{color:"#6c757d",width:"37%"},children:null===Qe||void 0===Qe||null===(g=Qe.despacho)||void 0===g?void 0:g.DATA})]}),Object(f.jsxs)("div",{style:{padding:"5px",borderBottom:"1px solid #d2b32a",width:"100%",display:"flex",marginBottom:"10px"},children:[Object(f.jsx)("span",{style:{color:"#6c757d",width:"37%"},children:"Prazo"}),Object(f.jsx)("span",{style:{color:"#6c757d",width:"37%"},children:null===Qe||void 0===Qe||null===(v=Qe.despacho)||void 0===v?void 0:v.PRAZO})]}),Object(f.jsxs)("div",{style:{padding:"5px",borderBottom:"1px solid #d2b32a",width:"100%",display:"flex",marginBottom:"10px"},children:[Object(f.jsx)("span",{style:{color:"#6c757d",width:"37%"},children:"Instrutor"}),Object(f.jsx)("span",{style:{color:"#6c757d",width:"37%"},children:null===Qe||void 0===Qe||null===(y=Qe.despacho)||void 0===y?void 0:y.INSTRUTOR})]}),Object(f.jsxs)("div",{style:{padding:"5px",borderBottom:"1px solid #d2b32a",width:"100%",display:"flex",marginBottom:"10px"},children:[Object(f.jsx)("span",{style:{color:"#6c757d",width:"37%"},children:"Observa\xe7\xe3o"}),Object(f.jsx)("span",{style:{color:"#6c757d",width:"37%"},children:null===Qe||void 0===Qe||null===(N=Qe.despacho)||void 0===N?void 0:N.OBS})]}),null!=(null===Qe||void 0===Qe||null===(C=Qe.despacho)||void 0===C?void 0:C.DOC)&&Object(f.jsx)("div",{style:{width:"100%",display:"flex",marginBottom:"15px",display:"flex",justifyContent:"center"},children:Object(f.jsx)("a",{target:"_blank",href:(null===Qe||void 0===Qe||null===(_=Qe.despacho)||void 0===_?void 0:_.DOC)+"?alt=media&token=0",children:Object(f.jsx)("span",{style:{display:"flex",fontWeight:"bold"},children:"Abrir Documento"})})})]})}),Object(f.jsx)("div",{style:"Instrucao"==at?{width:"100%",height:"450px",overflow:"auto"}:{display:"none"},children:null!=(null===Qe||void 0===Qe||null===(R=Qe.sgigjprocessodespacho[0])||void 0===R||null===(P=R.sgigjrelprocessoinstrutor[0])||void 0===P||null===(B=P.sgigjrelprocessoinstrucao[0])||void 0===B?void 0:B.sgigjrelinstrutorpeca)&&Object(f.jsxs)("div",{style:{width:"100%",paddingTop:"20px",marginTop:"20px"},children:[null===Qe||void 0===Qe||null===(L=Qe.sgigjprocessodespacho[0])||void 0===L||null===(F=L.sgigjrelprocessoinstrutor[0])||void 0===F||null===(k=F.sgigjrelprocessoinstrucao[0])||void 0===k||null===(U=k.sgigjrelinstrutorpeca)||void 0===U?void 0:U.map(e=>Object(f.jsxs)("div",{style:{padding:"5px",borderBottom:"1px solid #d2b32a",width:"100%",display:"flex",marginBottom:"10px"},children:[Object(f.jsx)("span",{style:{color:"#6c757d"},children:null===e||void 0===e?void 0:e.sgigjprpecasprocessual.DESIG}),Object(f.jsx)("span",{style:{color:"#6c757d"},children:Object(f.jsx)(x.b,{to:"#",onClick:()=>Jt(e),children:Object(f.jsx)("i",{className:"feather icon-file"})})})]})),Object(f.jsx)("div",{style:{width:"100%",display:"flex",marginBottom:"15px",display:"flex",justifyContent:"center"},children:Object(f.jsx)("a",{href:"#",children:Object(f.jsx)("span",{onClick:()=>Qt(Qe.ID),style:{display:"flex",fontWeight:"bold"},children:"Juntada"})})})]})}),Object(f.jsx)("div",{style:"Despachofinal"==at?{width:"100%",height:"450px",overflow:"auto"}:{display:"none"},children:null!=(null===Qe||void 0===Qe?void 0:Qe.despachofinal)&&Object(f.jsxs)("div",{style:{width:"100%",paddingTop:"20px",marginTop:"20px"},children:[Object(f.jsxs)("div",{style:{padding:"5px",borderBottom:"1px solid #d2b32a",width:"100%",display:"flex",marginBottom:"10px"},children:[Object(f.jsx)("span",{style:{color:"#6c757d",width:"37%"},children:"Decis\xe3o"}),Object(f.jsx)("span",{style:{color:"#6c757d",width:"37%"},children:null===Qe||void 0===Qe||null===(G=Qe.despachofinal)||void 0===G?void 0:G.DESICAO})]}),Object(f.jsxs)("div",{style:{padding:"5px",borderBottom:"1px solid #d2b32a",width:"100%",display:"flex",marginBottom:"10px"},children:[Object(f.jsx)("span",{style:{color:"#6c757d",width:"37%"},children:"Data"}),Object(f.jsx)("span",{style:{color:"#6c757d",width:"37%"},children:null===Qe||void 0===Qe||null===(M=Qe.despachofinal)||void 0===M?void 0:M.DATA})]}),null!=(null===Qe||void 0===Qe||null===(H=Qe.despachofinal)||void 0===H?void 0:H.DOC)&&Object(f.jsx)("div",{style:{width:"100%",display:"flex",marginBottom:"15px",display:"flex",justifyContent:"center"},children:Object(f.jsx)("a",{target:"_blank",href:(null===Qe||void 0===Qe||null===(q=Qe.despachofinal)||void 0===q?void 0:q.DOC)+"?alt=media&token=0",children:Object(f.jsx)("span",{style:{display:"flex",fontWeight:"bold"},children:"Abrir Documento"})})})]})}),Object(f.jsx)("div",{style:"Notificacao"==at?{width:"100%",height:"450px",overflow:"auto"}:{display:"none"},children:null!=(null===Qe||void 0===Qe?void 0:Qe.notificacao)&&Object(f.jsxs)("div",{style:{width:"100%",paddingTop:"20px",marginTop:"20px"},children:[null===Qe||void 0===Qe||null===(V=Qe.notificacao)||void 0===V?void 0:V.map(e=>{var t;return Object(f.jsx)("div",{style:{padding:"5px",borderBottom:"1px solid #d2b32a",width:"100%",display:"flex",marginBottom:"10px"},children:null===(t=e.visados)||void 0===t?void 0:t.map((t,a)=>{var s;return Object(f.jsxs)("span",{style:{color:"#6c757d"},children:[":: Notif."," ",null===Se||void 0===Se||null===(s=Se.find(e=>e.value==t.VISADO_ID))||void 0===s?void 0:s.label,null!=e.URL_DOC_GERADO||e.sgigjreldocumento.length>0?Object(f.jsx)(x.b,{to:"#",onClick:()=>Jt(e),children:Object(f.jsx)("i",{className:"feather icon-file"})},a):""]})})})}),Object(f.jsx)("div",{style:{width:"100%",display:"flex",marginBottom:"15px",display:"flex",justifyContent:"center"},children:Object(f.jsx)("a",{href:"#",children:Object(f.jsx)("span",{onClick:()=>Qt(Qe.ID),style:{display:"flex",fontWeight:"bold"},children:"Juntada"})})})]})}),Object(f.jsx)("div",{style:"DesicaoTutela"==at||"DesicaoTribunal"==at?{width:"100%",height:"450px",overflow:"auto"}:{display:"none"},children:null!=("DesicaoTutela"==at?null===Qe||void 0===Qe?void 0:Qe.decisaoTutelar:"DesicaoTribunal"==at?null===Qe||void 0===Qe?void 0:Qe.decisaoTribunal:null)&&Object(f.jsxs)("div",{style:{width:"100%",paddingTop:"20px",marginTop:"20px"},children:[null===(z="DesicaoTutela"==at?null===Qe||void 0===Qe?void 0:Qe.decisaoTutelar:null===Qe||void 0===Qe?void 0:Qe.decisaoTribunal)||void 0===z?void 0:z.map((e,t)=>{var a;return Object(f.jsx)("div",{style:{padding:"5px",borderBottom:"1px solid #d2b32a",width:"100%",display:"flex",marginBottom:"10px"},children:null===e||void 0===e||null===(a=e.sgigjreldocumento)||void 0===a?void 0:a.map((e,a)=>{var s;return Object(f.jsxs)("span",{style:{color:"#6c757d"},children:[":: Anexo"," ",(null===(s="DesicaoTutela"==at?null===Qe||void 0===Qe?void 0:Qe.decisaoTutelar:null===Qe||void 0===Qe?void 0:Qe.decisaoTribunal)||void 0===s?void 0:s.slice(0,t).reduce((e,t,a)=>{var s;return null!==(s=t.sgigjreldocumento)&&void 0!==s&&s.length?e+1:e},0))+(a+1)+" ",Object(f.jsx)(x.b,{to:"#",onClick:()=>Jt(e.DOC_URL),children:Object(f.jsx)("i",{className:"feather icon-file"})})]})})})}),Object(f.jsx)("div",{style:{width:"100%",display:"flex",marginBottom:"15px",display:"flex",justifyContent:"center"},children:Object(f.jsx)("a",{href:"#",children:Object(f.jsx)("span",{onClick:()=>Qt(Qe.ID),style:{display:"flex",fontWeight:"bold"},children:"Juntada"})})})]})})]})]})}),Object(f.jsx)(r.a.Footer,{children:Object(f.jsx)(d.a,{variant:"danger",onClick:()=>ct(!1),children:"Fechar"})})]}),Object(f.jsxs)(r.a,{size:"lg",show:Te,onHide:()=>we(!1),children:[Object(f.jsx)(r.a.Header,{style:{border:"0"},closeButton:!0,children:Object(f.jsx)(r.a.Title,{as:"h5",children:"Notifica\xe7\xe3o"})}),Object(f.jsx)(r.a.Body,{style:"dados"===je?{}:{display:"none"},children:Object(f.jsx)("form",{id:"notificate",onSubmit:async function(e){if(e.preventDefault(),null==se||0==se.length)te("Escolha uma Pessoa");else{Ne(!0);var t=[];if(ue)for(let s=0;s<ue.length;s++){var a;const e=ue[s],o=await Ee(e.anexo.file);t.push({PR_DOCUMENTO_TP_ID:e.tipodocumento,NUMERO:e.numero,DOC_URL:null===o||void 0===o||null===(a=o.file)||void 0===a?void 0:a.data,DT_EMISSAO:e.dataemissao,DT_VALIDADE:e.datavalidade,MAIN:"0"})}console.log(Y);const e={PROCESSO_EXCLUSAO_ID:ve.ID,CORPO:le,documentos:t||[],visados:se,DATA:ce};console.log(e);try{"200"==(await m.a.post("/notificacao-processos",e)).status&&(Ye(),fe(!ge),u.a.success("Todos os dados foram gravados com sucesso!",{duration:4e3}),Ne(!1),we(!1))}catch(s){Ne(!1),console.error(s.response)}}},children:Object(f.jsxs)(i.a,{children:[Object(f.jsx)(c.a,{sm:12,children:Object(f.jsxs)(i.a,{children:[Object(f.jsx)(c.a,{sm:3,children:Object(f.jsxs)("div",{className:"form-group fill",children:[Object(f.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Refer\xeancia ",Object(f.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(f.jsx)("input",{disabled:!0,type:"text",className:"form-control",id:"Name",value:ve.REF,required:!0})]})}),Object(f.jsx)(c.a,{sm:3,children:Object(f.jsxs)("div",{className:"form-group fill",children:[Object(f.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Data ",Object(f.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(f.jsx)("input",{type:"date",max:Ce,onChange:e=>{ne(e.target.value)},defaultValue:ce,className:"form-control",placeholder:"Data...",required:!0})]})}),Object(f.jsxs)(c.a,{sm:6,children:[Object(f.jsxs)("label",{className:"floating-label",htmlFor:"text",children:["Visado(s) ",Object(f.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(f.jsx)("div",{style:{display:"flex"},children:Object(f.jsx)("div",{className:"form-group fill",style:{width:"100%"},children:Object(f.jsx)(b.a,{className:"basic-single",classNamePrefix:"select",onChange:e=>oe(t=>{let a=se.indexOf(e.value);return-1!=a?t.splice(a,1):t.push(e.value),t}),name:"pessoa",options:Se,defaultValue:Se.map(e=>se.includes(e.ID)?e:null),required:!0,menuPlacement:"auto",menuPosition:"fixed",placeholder:"Pessoa..."})})})]})]})}),Object(f.jsx)("div",{className:"col-sm-12",children:Object(f.jsxs)("div",{className:"form-group fill",children:[Object(f.jsxs)("label",{className:"floating-label",htmlFor:"Address",children:["Notifica\xe7\xe3o ",Object(f.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(f.jsx)(D.a,{onChange:e=>ie(e)})]})}),Object(f.jsx)("div",{children:null!==ve&&void 0!==ve&&ve.sgigjdespachofinal&&null!==ve&&void 0!==ve&&ve.sgigjdespachofinal&&null!==ve&&void 0!==ve&&null!==(W=ve.sgigjdespachofinal[0])&&void 0!==W&&W.URL_DOC_GERADO?Object(f.jsx)("a",{target:"_blank",href:(null===ve||void 0===ve||null===(J=ve.sgigjdespachofinal[0])||void 0===J?void 0:J.URL_DOC_GERADO)+"?alt=media&token=0",children:Object(f.jsxs)("span",{style:{display:"flex",fontWeight:"bold"},children:[Object(f.jsx)("i",{className:"feather icon-file",style:{alignContent:"center"}}),"Documentos de Decis\xe3o"]})}):null})]})})}),Object(f.jsxs)(r.a.Footer,{children:[Object(f.jsx)(d.a,{variant:"danger",onClick:()=>we(!1),children:"Fechar"}),De?Object(f.jsx)(d.a,{variant:"primary",children:"Guardando"}):Object(f.jsx)(d.a,{type:"submit",form:"notificate",variant:"primary",children:"Guardar"})]})]}),Object(f.jsxs)(r.a,{size:"lg",show:1==_e,onHide:()=>Re(!1),children:[Object(f.jsx)(r.a.Header,{style:{border:"0"},closeButton:!0,children:Object(f.jsx)(r.a.Title,{as:"h5",children:"T"==Pe?"Decicao Tulela":"Desicao Tribunal"})}),Object(f.jsx)("ul",{className:"nav nav-tabs profile-tabs nav-fill",id:"myTab",role:"tablist"}),Object(f.jsx)(r.a.Body,{children:Object(f.jsxs)("form",{id:"tutelaform",onSubmit:async function(e){e.preventDefault(),Ne(!0);var t=[];for(let l=0;l<be.length;l++){var a;const e=be[l],s=await Ee(e.anexo.file);t.push({PR_DOCUMENTO_TP_ID:e.tipodocumento,NUMERO:e.numero,DOC_URL:null===s||void 0===s||null===(a=s.file)||void 0===a?void 0:a.data,DT_EMISSAO:e.dataemissao,DT_VALIDADE:e.datavalidade,MAIN:"0"})}console.log(Y);const s={PROCESSO_EXCLUSAO_ID:ve.ID,CORPO:le,documentos:t||[]};console.log(s);try{"200"==(await m.a.post("T"==Pe?"/decisao-tutelar-processos":"/decisao-tribunal-processos",s)).status&&(Ye(),fe(!ge),u.a.success("Todos os dados foram gravados com sucesso!",{duration:4e3}),Ne(!1),Re(!1))}catch(o){Ne(!1),console.error(o.response)}},children:[Object(f.jsx)(c.a,{sm:12,children:Object(f.jsxs)(j.a.Group,{style:{display:"flex",justifyContent:"center",flexWrap:"wrap"},children:[Object(f.jsx)(j.a.Check,{inline:!0,custom:!0,required:!0,type:"radio",label:"Desicao Tutela",name:"supportedRadio",id:"averiguacao",checked:"T"==Pe,onChange:()=>Be("T")}),Object(f.jsx)(j.a.Check,{inline:!0,custom:!0,required:!0,type:"radio",label:"Desicao Tribunal",name:"supportedRadio",id:"contraordenacao",checked:"TR"==Pe,onChange:()=>Be("TR")})]})}),Object(f.jsx)(h.a,{onSendData:xe,documentolist:qe,list:me,save:ge,item:{ID:ve.ID,ENTIDADE:"TUTELA_ID"}})]})}),Object(f.jsxs)(r.a.Footer,{children:[Object(f.jsx)(d.a,{variant:"danger",onClick:()=>Re(!1),children:"Fechar"}),De?Object(f.jsx)(d.a,{variant:"primary",children:"Guardando"}):Object(f.jsx)(d.a,{type:"submit",form:"tutelaform",variant:"primary",children:"Guardar"})]})]}),Object(f.jsx)(E.a,{generolist:Fe,estadocivillist:Ue,glbgeografialist:Me,documentolist:qe,contactolist:ze,pessoaopenDO:mt,uploadpessoa:Le}),Object(f.jsx)(A.a,{Open:qt,setOpen:Vt,list:zt}),Object(f.jsx)(r.a,{size:"xl",show:Zt,onHide:()=>Yt(!1),children:Object(f.jsx)("iframe",{height:1e3,src:"".concat(Xt),title:"pdf-viewer",width:"100%s"})}),Object(f.jsx)(r.a,{size:"lg",show:ut,onHide:()=>ht(!1),children:Object(f.jsxs)(r.a.Footer,{children:[Object(f.jsx)(d.a,{variant:"danger",onClick:()=>ht(!1),children:"Fechar"}),Object(f.jsx)(d.a,{variant:"primary",children:"Guardar"})]})})]})})})}}}]);
//# sourceMappingURL=22.94c7dac5.chunk.js.map