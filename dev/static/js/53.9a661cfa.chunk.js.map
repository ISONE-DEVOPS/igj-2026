{"version":3,"sources":["pages/configuracao/pecasprocessuais/GlobalFilter.js","pages/configuracao/pecasprocessuais/FieldConfigPanel.js","pages/configuracao/pecasprocessuais/PecaModal.js","pages/configuracao/pecasprocessuais/index.js"],"names":["GlobalFilter","_ref","filter","setFilter","value","setValue","useState","onChange","useAsyncDebounce","undefined","_jsxs","className","children","_jsx","e","target","FieldConfigPanel","fields","selectedFields","readonly","selectedCount","length","sortedFields","sort","a","b","parseInt","ORDEM","style","color","fontSize","map","sf","idx","fieldInfo","find","f","ID","PR_CAMPOS_ID","DESIG","concat","FLAG_OBRIGATORIEDADE","field","active","fieldId","some","fieldData","getFieldData","type","checked","handleToggle","next","ESTADO","min","max","handleOrderChange","order","isNaN","_objectSpread","toString","toast","error","duration","placeholder","onClick","handleObrigToggle","title","TITLES","criar","editar","ver","PecaModal","show","mode","item","onHide","onSave","editorRef","useRef","desig","setDesig","obs","setObs","setSelectedFields","useEffect","OBS","campos","sgigjrelpecaprocessualcampo","c","isReadonly","Modal","size","centered","Header","closeButton","Title","as","Body","id","onSubmit","_editorRef$current","preventDefault","editorValue","current","PECA","CAMPOS","Row","Col","sm","CODIGO","disabled","maxLength","required","dangerouslySetInnerHTML","__html","JoditEditor","config","ref","_Fragment","Footer","Button","variant","form","pageAcess","stripHTML","html","tempDiv","document","createElement","innerHTML","textContent","innerText","Table","columns","data","modalOpen","loading","permissoes","getTableProps","getTableBodyProps","headerGroups","prepareRow","globalFilter","setGlobalFilter","page","canPreviousPage","canNextPage","pageOptions","pageCount","gotoPage","nextPage","previousPage","setPageSize","state","pageIndex","pageSize","useTable","initialState","useGlobalFilter","useSortBy","usePagination","Number","taskEnable","i","BTable","striped","bordered","hover","responsive","headerGroup","getHeaderGroupProps","headers","column","getHeaderProps","getSortByToggleProps","render","isSorted","isSortedDesc","row","getRowProps","cells","cell","getCellProps","defaultValue","p","Pagination","First","Prev","Next","Last","PecasProcessuais","popUp_removerItem","popUp_alertaOK","useAuth","history","useHistory","list","setList","listFields","setListFields","setLoading","tableData","setTableData","modal","setModal","fetchList","useCallback","async","response","api","get","status","err","fetchFields","pageEnable","push","rows","OBS_DISPLAY","slice","action","React","Fragment","taskEnableTitle","openModal","taskEnableIcon","handleDelete","useMemo","accessor","Cell","_ref2","_ref3","_ref4","disableSortBy","arguments","closeModal","removeItemFunction","delete","success","Card","post","put","message"],"mappings":"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","file":"static/js/53.9a661cfa.chunk.js","sourcesContent":["import React, { useState } from 'react'\nimport { useAsyncDebounce } from 'react-table'\n\nexport const GlobalFilter = ({ filter, setFilter }) => {\n  const [value, setValue] = useState(filter)\n  const onChange = useAsyncDebounce(value => {\n    setFilter(value || undefined)\n  }, 1000)\n  return (\n    <span className=\"d-flex align-items-center justify-content-end\">\n      Procurar:{' '}\n      <input\n      className='form-control ml-2 w-auto'\n        value={value || ''}\n        onChange={e => {\n          setValue(e.target.value);\n          onChange(e.target.value);\n        }}\n      />\n    </span>\n  )\n}","import React from 'react';\nimport toast from 'react-hot-toast';\n\nconst FieldConfigPanel = ({ fields, selectedFields, onChange, readonly }) => {\n    const selectedCount = selectedFields.length;\n\n    const isFieldSelected = (fieldId) => {\n        return selectedFields.some(sf => sf.PR_CAMPOS_ID === fieldId);\n    };\n\n    const getFieldData = (fieldId) => {\n        return selectedFields.find(sf => sf.PR_CAMPOS_ID === fieldId);\n    };\n\n    const handleToggle = (field, checked) => {\n        if (checked) {\n            const next = [\n                ...selectedFields,\n                {\n                    ID: null,\n                    PR_CAMPOS_ID: field.ID,\n                    FLAG_OBRIGATORIEDADE: \"0\",\n                    ESTADO: \"1\",\n                    ORDEM: \"\"\n                }\n            ];\n            onChange(next);\n        } else {\n            onChange(selectedFields.filter(sf => sf.PR_CAMPOS_ID !== field.ID));\n        }\n    };\n\n    const handleOrderChange = (fieldId, value) => {\n        const order = parseInt(value);\n        if (value === \"\" || isNaN(order)) {\n            onChange(selectedFields.map(sf =>\n                sf.PR_CAMPOS_ID === fieldId ? { ...sf, ORDEM: \"\" } : sf\n            ));\n            return;\n        }\n        if (order >= 1 && order <= 99) {\n            onChange(selectedFields.map(sf =>\n                sf.PR_CAMPOS_ID === fieldId ? { ...sf, ORDEM: order.toString() } : sf\n            ));\n        } else {\n            toast.error(\"Escolha um número entre 1 e 99\", { duration: 3000 });\n        }\n    };\n\n    const handleObrigToggle = (fieldId) => {\n        onChange(selectedFields.map(sf => {\n            if (sf.PR_CAMPOS_ID === fieldId) {\n                return { ...sf, FLAG_OBRIGATORIEDADE: sf.FLAG_OBRIGATORIEDADE === \"1\" ? \"0\" : \"1\" };\n            }\n            return sf;\n        }));\n    };\n\n    // View mode: show only selected fields sorted by order\n    if (readonly) {\n        const sortedFields = [...selectedFields]\n            .sort((a, b) => (parseInt(a.ORDEM) || 0) - (parseInt(b.ORDEM) || 0));\n\n        if (sortedFields.length === 0) {\n            return (\n                <div className=\"text-center py-3\">\n                    <span style={{ color: '#636E72', fontSize: 13 }}>Nenhum campo configurado</span>\n                </div>\n            );\n        }\n\n        return (\n            <div className=\"field-config-panel\">\n                {sortedFields.map((sf, idx) => {\n                    const fieldInfo = fields.find(f => f.ID === sf.PR_CAMPOS_ID);\n                    return (\n                        <div key={idx} className=\"field-view-row\">\n                            <span className=\"field-order\">{sf.ORDEM || '-'}</span>\n                            <span className=\"field-name\">{fieldInfo?.DESIG || sf.PR_CAMPOS_ID}</span>\n                            <span className={`obrig-tag ${sf.FLAG_OBRIGATORIEDADE === \"1\" ? 'sim' : 'nao'}`}>\n                                {sf.FLAG_OBRIGATORIEDADE === \"1\" ? 'Obrigatório' : 'Opcional'}\n                            </span>\n                        </div>\n                    );\n                })}\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"field-config-panel\">\n            <div className=\"section-label\">\n                <i className=\"feather icon-layers\" />\n                Campos do Ecrã\n                <span className=\"field-counter\">{selectedCount} de {fields.length} selecionados</span>\n            </div>\n\n            {fields.map((field, idx) => {\n                const active = isFieldSelected(field.ID);\n                const fieldData = getFieldData(field.ID);\n\n                return (\n                    <div key={field.ID || idx} className={`field-row ${active ? 'active' : ''}`}>\n                        <label className=\"toggle-switch\">\n                            <input\n                                type=\"checkbox\"\n                                checked={active}\n                                onChange={(e) => handleToggle(field, e.target.checked)}\n                            />\n                            <span className=\"slider\" />\n                        </label>\n\n                        <span className=\"field-name\">{field.DESIG}</span>\n\n                        <div className=\"field-controls\">\n                            <span className=\"order-label\">Ordem:</span>\n                            <input\n                                type=\"number\"\n                                className=\"order-input\"\n                                min=\"1\"\n                                max=\"99\"\n                                value={fieldData?.ORDEM || \"\"}\n                                onChange={(e) => handleOrderChange(field.ID, e.target.value)}\n                                placeholder=\"-\"\n                            />\n\n                            <button\n                                type=\"button\"\n                                className={`obrig-badge ${fieldData?.FLAG_OBRIGATORIEDADE === \"1\" ? 'active' : 'inactive'}`}\n                                onClick={() => handleObrigToggle(field.ID)}\n                                title={fieldData?.FLAG_OBRIGATORIEDADE === \"1\" ? 'Clique para tornar opcional' : 'Clique para tornar obrigatório'}\n                            >\n                                {fieldData?.FLAG_OBRIGATORIEDADE === \"1\" ? 'Obrig.' : 'Opcional'}\n                            </button>\n                        </div>\n                    </div>\n                );\n            })}\n        </div>\n    );\n};\n\nexport default FieldConfigPanel;\n","import React, { useState, useRef, useEffect } from 'react';\nimport { Row, Col, Button, Modal } from 'react-bootstrap';\nimport JoditEditor from 'jodit-react';\nimport FieldConfigPanel from './FieldConfigPanel';\n\nconst TITLES = {\n    criar: 'Criar Peça Processual',\n    editar: 'Editar Peça Processual',\n    ver: 'Visualizar Peça Processual'\n};\n\nconst PecaModal = ({ show, mode, item, fields, onHide, onSave }) => {\n    const editorRef = useRef(null);\n    const [desig, setDesig] = useState('');\n    const [obs, setObs] = useState('');\n    const [selectedFields, setSelectedFields] = useState([]);\n\n    // Reset form when modal opens or item changes\n    useEffect(() => {\n        if (show) {\n            if (mode === 'criar') {\n                setDesig('');\n                setObs('');\n                setSelectedFields([]);\n            } else if (item) {\n                setDesig(item.DESIG || '');\n                setObs(item.OBS || '');\n                const campos = (item.sgigjrelpecaprocessualcampo || []).map(c => ({\n                    ID: c.ID,\n                    PR_CAMPOS_ID: c.PR_CAMPOS_ID,\n                    FLAG_OBRIGATORIEDADE: c.FLAG_OBRIGATORIEDADE,\n                    ESTADO: c.ESTADO,\n                    ORDEM: c.ORDEM ? c.ORDEM.toString() : ''\n                }));\n                setSelectedFields(campos);\n            }\n        }\n    }, [show, mode, item]);\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        const editorValue = editorRef?.current?.value || obs;\n\n        if (mode === 'criar') {\n            onSave({\n                PECA: {\n                    DESIG: desig,\n                    OBS: editorValue,\n                    ESTADO: \"1\"\n                },\n                CAMPOS: selectedFields\n            });\n        } else if (mode === 'editar') {\n            onSave({\n                DESIG: desig,\n                OBS: editorValue,\n                ESTADO: \"1\",\n                CAMPOS: selectedFields\n            });\n        }\n    };\n\n    const isReadonly = mode === 'ver';\n\n    return (\n        <Modal\n            size=\"xl\"\n            show={show}\n            onHide={onHide}\n            className=\"peca-modal\"\n            centered\n        >\n            <Modal.Header closeButton>\n                <Modal.Title as=\"h5\">{TITLES[mode] || 'Peça Processual'}</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                <form id=\"pecaForm\" onSubmit={handleSubmit}>\n                    {/* Secção 1: Dados Gerais */}\n                    <div className=\"section-label\">\n                        <i className=\"feather icon-file-text\" />\n                        Dados Gerais\n                    </div>\n\n                    <Row>\n                        <Col sm={3}>\n                            <div className=\"form-group fill\">\n                                <label className=\"floating-label\">Código</label>\n                                {isReadonly ? (\n                                    <span className=\"view-value\">{item?.CODIGO || '-'}</span>\n                                ) : (\n                                    <input\n                                        type=\"text\"\n                                        className=\"form-control\"\n                                        value={mode === 'editar' ? (item?.CODIGO || '') : '*'}\n                                        disabled\n                                    />\n                                )}\n                            </div>\n                        </Col>\n                        <Col sm={9}>\n                            <div className=\"form-group fill\">\n                                <label className=\"floating-label\">\n                                    Designação {!isReadonly && <span style={{ color: '#E74C3C' }}>*</span>}\n                                </label>\n                                {isReadonly ? (\n                                    <span className=\"view-value\">{item?.DESIG || '-'}</span>\n                                ) : (\n                                    <input\n                                        type=\"text\"\n                                        className=\"form-control\"\n                                        maxLength=\"128\"\n                                        value={desig}\n                                        onChange={(e) => setDesig(e.target.value)}\n                                        placeholder=\"Designação da peça processual...\"\n                                        required\n                                    />\n                                )}\n                            </div>\n                        </Col>\n                    </Row>\n\n                    <Row>\n                        <Col sm={12}>\n                            <div className=\"form-group fill\">\n                                <label className=\"floating-label\">Descrição</label>\n                                {isReadonly ? (\n                                    <div\n                                        className=\"view-html\"\n                                        dangerouslySetInnerHTML={{ __html: item?.OBS || '<em>Sem descrição</em>' }}\n                                    />\n                                ) : (\n                                    <JoditEditor\n                                        value={obs}\n                                        config={{ readonly: false }}\n                                        ref={editorRef}\n                                    />\n                                )}\n                            </div>\n                        </Col>\n                    </Row>\n\n                    {/* Secção 2: Campos do Ecrã */}\n                    <div className=\"mt-3\">\n                        {isReadonly ? (\n                            <>\n                                <div className=\"section-label\">\n                                    <i className=\"feather icon-layers\" />\n                                    Campos Configurados\n                                    {selectedFields.length > 0 && (\n                                        <span className=\"field-counter\">{selectedFields.length} campos</span>\n                                    )}\n                                </div>\n                                <FieldConfigPanel\n                                    fields={fields}\n                                    selectedFields={selectedFields}\n                                    onChange={() => {}}\n                                    readonly\n                                />\n                            </>\n                        ) : (\n                            <FieldConfigPanel\n                                fields={fields}\n                                selectedFields={selectedFields}\n                                onChange={setSelectedFields}\n                            />\n                        )}\n                    </div>\n                </form>\n            </Modal.Body>\n            <Modal.Footer>\n                <Button variant=\"outline-secondary\" onClick={onHide}>\n                    Fechar\n                </Button>\n                {!isReadonly && (\n                    <Button type=\"submit\" form=\"pecaForm\" variant=\"primary\">\n                        <i className=\"feather icon-save mr-1\" />\n                        Guardar\n                    </Button>\n                )}\n            </Modal.Footer>\n        </Modal>\n    );\n};\n\nexport default PecaModal;\n","import React, { useState, useEffect, useMemo, useCallback } from 'react';\nimport { Row, Col, Card, Pagination, Button } from 'react-bootstrap';\nimport BTable from 'react-bootstrap/Table';\nimport { useTable, useSortBy, usePagination, useGlobalFilter } from 'react-table';\nimport { useHistory } from 'react-router-dom';\nimport toast from 'react-hot-toast';\n\nimport { GlobalFilter } from './GlobalFilter';\nimport PecaModal from './PecaModal';\nimport api from '../../../services/api';\nimport useAuth from '../../../hooks/useAuth';\nimport { pageEnable, taskEnable, taskEnableIcon, taskEnableTitle } from '../../../functions';\n\nimport './pecasprocessuais.scss';\n\nconst pageAcess = \"/configuracao/pecasprocessuais\";\n\nfunction stripHTML(html) {\n    const tempDiv = document.createElement(\"div\");\n    tempDiv.innerHTML = html;\n    return tempDiv.textContent || tempDiv.innerText || \"\";\n}\n\n// ─── Table Component ──────────────────────────────────\nfunction Table({ columns, data, modalOpen, loading, permissoes }) {\n    const {\n        getTableProps,\n        getTableBodyProps,\n        headerGroups,\n        prepareRow,\n        globalFilter,\n        setGlobalFilter,\n        page,\n        canPreviousPage,\n        canNextPage,\n        pageOptions,\n        pageCount,\n        gotoPage,\n        nextPage,\n        previousPage,\n        setPageSize,\n        state: { pageIndex, pageSize }\n    } = useTable(\n        {\n            columns,\n            data,\n            initialState: { pageIndex: 0, pageSize: 10 }\n        },\n        useGlobalFilter,\n        useSortBy,\n        usePagination\n    );\n\n    return (\n        <>\n            <div className=\"pecas-toolbar\">\n                <div className=\"toolbar-left\">\n                    Mostrar\n                    <select\n                        className=\"form-control w-auto mx-1\"\n                        value={pageSize}\n                        onChange={e => setPageSize(Number(e.target.value))}\n                    >\n                        {[5, 10, 20, 30, 40, 50].map(size => (\n                            <option key={size} value={size}>{size}</option>\n                        ))}\n                    </select>\n                    entradas\n                </div>\n                <div className=\"toolbar-right\">\n                    <GlobalFilter filter={globalFilter} setFilter={setGlobalFilter} />\n                    {taskEnable(pageAcess, permissoes, \"Criar\") !== false && (\n                        <button className=\"btn-add\" onClick={modalOpen}>\n                            <i className=\"feather icon-plus\" /> Adicionar\n                        </button>\n                    )}\n                </div>\n            </div>\n\n            {loading ? (\n                <div className=\"pecas-skeleton\">\n                    {[1, 2, 3, 4, 5].map(i => (\n                        <div key={i} className=\"skeleton-row\">\n                            <div className=\"skeleton-cell w-60\" />\n                            <div className=\"skeleton-cell w-180\" />\n                            <div className=\"skeleton-cell w-250\" />\n                            <div className=\"skeleton-cell w-80\" />\n                        </div>\n                    ))}\n                </div>\n            ) : data.length === 0 ? (\n                <div className=\"pecas-empty-state\">\n                    <i className=\"feather icon-file-text\" />\n                    <p>Nenhuma peça processual configurada</p>\n                    {taskEnable(pageAcess, permissoes, \"Criar\") !== false && (\n                        <Button variant=\"primary\" size=\"sm\" onClick={modalOpen}>\n                            <i className=\"feather icon-plus mr-1\" /> Adicionar Peça\n                        </Button>\n                    )}\n                </div>\n            ) : (\n                <>\n                    <BTable striped bordered hover responsive {...getTableProps()}>\n                        <thead>\n                            {headerGroups.map(headerGroup => (\n                                <tr {...headerGroup.getHeaderGroupProps()}>\n                                    {headerGroup.headers.map(column => (\n                                        <th {...column.getHeaderProps(column.getSortByToggleProps())}>\n                                            {column.render('Header')}\n                                            <span>\n                                                {column.isSorted\n                                                    ? column.isSortedDesc\n                                                        ? <span className=\"feather icon-arrow-down text-muted float-right\" />\n                                                        : <span className=\"feather icon-arrow-up text-muted float-right\" />\n                                                    : ''}\n                                            </span>\n                                        </th>\n                                    ))}\n                                </tr>\n                            ))}\n                        </thead>\n                        <tbody {...getTableBodyProps()}>\n                            {page.map((row) => {\n                                prepareRow(row);\n                                return (\n                                    <tr {...row.getRowProps()}>\n                                        {row.cells.map(cell => (\n                                            <td {...cell.getCellProps()}\n                                                className={cell.column.centered ? 'text-center' : ''}\n                                            >\n                                                {cell.render('Cell')}\n                                            </td>\n                                        ))}\n                                    </tr>\n                                );\n                            })}\n                        </tbody>\n                    </BTable>\n\n                    <div className=\"pecas-pagination\">\n                        <div className=\"page-info\">\n                            Página <strong>{pageIndex + 1} de {pageOptions.length}</strong>\n                            {' '}| Ir para:\n                            <input\n                                type=\"number\"\n                                defaultValue={pageIndex + 1}\n                                onChange={e => {\n                                    const p = e.target.value ? Number(e.target.value) - 1 : 0;\n                                    gotoPage(p);\n                                }}\n                            />\n                        </div>\n                        <Pagination>\n                            <Pagination.First onClick={() => gotoPage(0)} disabled={!canPreviousPage} />\n                            <Pagination.Prev onClick={() => previousPage()} disabled={!canPreviousPage} />\n                            <Pagination.Next onClick={() => nextPage()} disabled={!canNextPage} />\n                            <Pagination.Last onClick={() => gotoPage(pageCount - 1)} disabled={!canNextPage} />\n                        </Pagination>\n                    </div>\n                </>\n            )}\n        </>\n    );\n}\n\n// ─── Main Component ───────────────────────────────────\nconst PecasProcessuais = () => {\n    const { permissoes, popUp_removerItem, popUp_alertaOK } = useAuth();\n    const history = useHistory();\n\n    const [list, setList] = useState([]);\n    const [listFields, setListFields] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const [tableData, setTableData] = useState([]);\n\n    // Modal state: { show, mode, item }\n    const [modal, setModal] = useState({ show: false, mode: null, item: null });\n\n    // ─── Data Fetching ────────────────────────────────\n    const fetchList = useCallback(async () => {\n        setLoading(true);\n        try {\n            const response = await api.get('/sgigjprpecasprocessual');\n            if (response.status === 200) {\n                setList(response.data);\n            }\n        } catch (err) {\n            // silent\n        } finally {\n            setLoading(false);\n        }\n    }, []);\n\n    const fetchFields = useCallback(async () => {\n        try {\n            const response = await api.get('/sigjprcampo');\n            if (response.status === 200) {\n                setListFields(response.data);\n            }\n        } catch (err) {\n            // silent\n        }\n    }, []);\n\n    useEffect(() => {\n        if (pageEnable(pageAcess, permissoes) === false) {\n            history.push('/');\n        } else {\n            fetchList();\n            fetchFields();\n        }\n    }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n    // ─── Build table data with action buttons ─────────\n    useEffect(() => {\n        const rows = list.map(item => ({\n            ...item,\n            OBS_DISPLAY: stripHTML(item.OBS || '').slice(0, 80),\n            action: (\n                <React.Fragment>\n                    {taskEnable(pageAcess, permissoes, \"Ler\") !== false && (\n                        <button\n                            className=\"action-btn action-view\"\n                            title={taskEnableTitle(pageAcess, permissoes, \"Ler\")}\n                            onClick={() => openModal('ver', item)}\n                        >\n                            <i className={taskEnableIcon(pageAcess, permissoes, \"Ler\")} />\n                        </button>\n                    )}\n                    {taskEnable(pageAcess, permissoes, \"Editar\") !== false && (\n                        <button\n                            className=\"action-btn action-edit\"\n                            title={taskEnableTitle(pageAcess, permissoes, \"Editar\")}\n                            onClick={() => openModal('editar', item)}\n                        >\n                            <i className={taskEnableIcon(pageAcess, permissoes, \"Editar\")} />\n                        </button>\n                    )}\n                    {taskEnable(pageAcess, permissoes, \"Remover\") !== false && (\n                        <button\n                            className=\"action-btn action-delete\"\n                            title={taskEnableTitle(pageAcess, permissoes, \"Remover\")}\n                            onClick={() => handleDelete(item.ID)}\n                        >\n                            <i className={taskEnableIcon(pageAcess, permissoes, \"Remover\")} />\n                        </button>\n                    )}\n                </React.Fragment>\n            )\n        }));\n        setTableData(rows);\n    }, [list, permissoes]); // eslint-disable-line react-hooks/exhaustive-deps\n\n    // ─── Columns ──────────────────────────────────────\n    const columns = useMemo(() => [\n        {\n            Header: 'Código',\n            accessor: 'CODIGO',\n            Cell: ({ value }) => <span className=\"codigo-badge\">{value}</span>\n        },\n        {\n            Header: 'Designação',\n            accessor: 'DESIG',\n            Cell: ({ value }) => <span className=\"desig-text\">{value}</span>\n        },\n        {\n            Header: 'Descrição',\n            accessor: 'OBS_DISPLAY',\n            Cell: ({ value }) => (\n                <span className=\"desc-truncated\" title={value}>\n                    {value || '-'}\n                </span>\n            )\n        },\n        {\n            Header: 'Ações',\n            accessor: 'action',\n            centered: true,\n            disableSortBy: true\n        }\n    ], []);\n\n    // ─── Modal Handlers ───────────────────────────────\n    const openModal = (mode, item = null) => {\n        setModal({ show: true, mode, item });\n    };\n\n    const closeModal = () => {\n        setModal({ show: false, mode: null, item: null });\n    };\n\n    const handleSave = async (data) => {\n        try {\n            if (modal.mode === 'criar') {\n                const response = await api.post('/sgigjprpecasprocessual', data);\n                if (response.status === 200) {\n                    toast.success('Peça criada com sucesso');\n                    fetchList();\n                    closeModal();\n                }\n            } else if (modal.mode === 'editar') {\n                const response = await api.put('/sgigjprpecasprocessual/' + modal.item.ID, data);\n                if (response.status === 200 || response.status === 204) {\n                    toast.success('Peça atualizada com sucesso');\n                    fetchList();\n                    closeModal();\n                }\n            }\n        } catch (err) {\n            if (err.response && err.response.status === 400) {\n                toast.error(err.response.data.message, { duration: 4000 });\n            } else {\n                toast.error('Erro ao guardar. Tente mais tarde.', { duration: 4000 });\n            }\n        }\n    };\n\n    // ─── Delete Handler ───────────────────────────────\n    const removeItemFunction = async (idx) => {\n        try {\n            await api.delete('/sgigjprpecasprocessual/' + idx);\n            toast.success('Peça removida com sucesso');\n            fetchList();\n            return true;\n        } catch (err) {\n            popUp_alertaOK(\"Falha. Tente mais tarde\");\n            return false;\n        }\n    };\n\n    const handleDelete = (idx) => {\n        popUp_removerItem({\n            delete: removeItemFunction,\n            id: idx\n        });\n    };\n\n    // ─── Render ───────────────────────────────────────\n    return (\n        <div className=\"pecas-wrapper\">\n            <Row>\n                <Col sm={12}>\n                    <Card>\n                        <Card.Body>\n                            <Table\n                                columns={columns}\n                                data={tableData}\n                                modalOpen={() => openModal('criar')}\n                                loading={loading}\n                                permissoes={permissoes}\n                            />\n                        </Card.Body>\n                    </Card>\n                </Col>\n            </Row>\n\n            <PecaModal\n                show={modal.show}\n                mode={modal.mode}\n                item={modal.item}\n                fields={listFields}\n                onHide={closeModal}\n                onSave={handleSave}\n            />\n        </div>\n    );\n};\n\nexport default PecasProcessuais;\n"],"sourceRoot":""}