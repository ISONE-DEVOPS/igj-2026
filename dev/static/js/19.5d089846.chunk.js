(this["webpackJsonpigj-frontend"]=this["webpackJsonpigj-frontend"]||[]).push([[19],{817:function(e,t,a){"use strict";var s=a(2),n=a(3),c=a(6),o=a.n(c),r=a(0),i=a.n(r),l=a(9),d=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],u=i.a.forwardRef(function(e,t){var a=e.bsPrefix,c=e.className,r=e.striped,u=e.bordered,b=e.borderless,j=e.hover,p=e.size,m=e.variant,f=e.responsive,O=Object(n.a)(e,d),g=Object(l.a)(a,"table"),v=o()(c,g,m&&g+"-"+m,p&&g+"-"+p,r&&g+"-striped",u&&g+"-bordered",b&&g+"-borderless",j&&g+"-hover"),h=i.a.createElement("table",Object(s.a)({},O,{className:v,ref:t}));if(f){var x=g+"-responsive";return"string"===typeof f&&(x=x+"-"+f),i.a.createElement("div",{className:x},h)}return h});t.a=u},818:function(e,t,a){"use strict";var s=a(2),n=a(3),c=a(6),o=a.n(c),r=a(0),i=a.n(r),l=a(9),d=a(131),u=["active","disabled","className","style","activeLabel","children"],b=["children"],j=i.a.forwardRef(function(e,t){var a=e.active,c=e.disabled,r=e.className,l=e.style,b=e.activeLabel,j=e.children,p=Object(n.a)(e,u),m=a||c?"span":d.a;return i.a.createElement("li",{ref:t,style:l,className:o()(r,"page-item",{active:a,disabled:c})},i.a.createElement(m,Object(s.a)({className:"page-link",disabled:c},p),j,a&&b&&i.a.createElement("span",{className:"sr-only"},b)))});j.defaultProps={active:!1,disabled:!1,activeLabel:"(current)"},j.displayName="PageItem";var p=j;function m(e,t,a){function s(e){var s=e.children,c=Object(n.a)(e,b);return i.a.createElement(j,c,i.a.createElement("span",{"aria-hidden":"true"},s||t),i.a.createElement("span",{className:"sr-only"},a))}return void 0===a&&(a=e),s.displayName=e,s}var f=m("First","\xab"),O=m("Prev","\u2039","Previous"),g=m("Ellipsis","\u2026","More"),v=m("Next","\u203a"),h=m("Last","\xbb"),x=["bsPrefix","className","children","size"],y=i.a.forwardRef(function(e,t){var a=e.bsPrefix,c=e.className,r=e.children,d=e.size,u=Object(n.a)(e,x),b=Object(l.a)(a,"pagination");return i.a.createElement("ul",Object(s.a)({ref:t},u,{className:o()(c,b,d&&b+"-"+d)}),r)});y.First=f,y.Prev=O,y.Ellipsis=g,y.Item=p,y.Next=v,y.Last=h;t.a=y},819:function(e,t,a){(function(a){var s,n,c;n=[],void 0===(c="function"===typeof(s=function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function s(e,t,a){var s=new XMLHttpRequest;s.open("GET",e),s.responseType="blob",s.onload=function(){i(s.response,t,a)},s.onerror=function(){console.error("could not download file")},s.send()}function n(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function c(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(s){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof a&&a.global===a?a:void 0,r=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),i=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!r?function(e,t,a){var r=o.URL||o.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener","string"==typeof e?(i.href=e,i.origin===location.origin?c(i):n(i.href)?s(e,t,a):c(i,i.target="_blank")):(i.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){c(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,a,o){if(a=a||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,o),a);else if(n(e))s(e,a,o);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){c(r)})}}:function(e,t,a,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),"string"==typeof e)return s(e,t,a);var c="application/octet-stream"===e.type,i=/constructor/i.test(o.HTMLElement)||o.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||c&&i||r)&&"undefined"!=typeof FileReader){var d=new FileReader;d.onloadend=function(){var e=d.result;e=l?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=e:location=e,n=null},d.readAsDataURL(e)}else{var u=o.URL||o.webkitURL,b=u.createObjectURL(e);n?n.location=b:location.href=b,n=null,setTimeout(function(){u.revokeObjectURL(b)},4e4)}});o.saveAs=i.saveAs=i,e.exports=i})?s.apply(t,n):s)||(e.exports=c)}).call(this,a(19))},829:function(e,t,a){"use strict";a.d(t,"a",function(){return o});var s=a(0),n=a(816),c=a(1);const o=e=>{let{filter:t,setFilter:a}=e;const[o,r]=Object(s.useState)(t),i=Object(n.useAsyncDebounce)(e=>{a(e||void 0)},1e3);return Object(c.jsxs)("span",{className:"d-flex align-items-center justify-content-end",children:["Procurar:"," ",Object(c.jsx)("input",{className:"form-control ml-2 w-auto",value:o||"",onChange:e=>{r(e.target.value),i(e.target.value)}})]})}},982:function(e,t,a){"use strict";a.r(t);var s=a(8),n=a(0),c=a.n(n),o=a(812),r=a(404),i=a(818),l=a(839),d=a(817),u=a(22),b=(a(829),a(816)),j=a(821),p=(a(819),a(32)),m=a(24),f=(a(240),a(83)),O=a(1);function g(e){let{columns:t,data:a,modalOpen:c,listProjetos:l,uploadlist:p,years:f,tableState:g,totalItems:v,setTableState:h,pessoalist:x,moduleList:y}=e;console.log(x),console.log(y);const w=x.map((e,t)=>({label:x[t].sgigjrelpessoaentidade.sgigjpessoa.NOME,value:e.ID}));let S={label:"Selecione todos",value:"default"};const N=y.map(e=>({label:e.value,value:e.key}));N.unshift(S),w.unshift(S);const[P,E]=Object(n.useState)(void 0),[L,I]=Object(n.useState)(void 0),[M,R]=Object(n.useState)(),{permissoes:k,popUp_simcancelar:A}=(Object(u.i)(),Object(m.a)());const{getTableProps:T,getTableBodyProps:U,headerGroups:z,prepareRow:C,globalFilter:H,setGlobalFilter:D,page:F,canPreviousPage:_,canNextPage:B,pageOptions:G,pageCount:q,gotoPage:J,nextPage:K,previousPage:X,setPageSize:V,state:{pageIndex:W,pageSize:Q}}=Object(b.useTable)({columns:t,data:a,initialState:g,manualPagination:!0,pageCount:Math.ceil(v/g.pageSize)},b.useGlobalFilter,b.useSortBy,b.usePagination);return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(o.a,{className:"mb-3",children:[Object(O.jsxs)(r.a,{md:3,className:"d-flex align-items-center",children:["Mostrar",Object(O.jsx)("select",{className:"form-control w-auto mx-2",value:Q,onChange:e=>{V(Number(e.target.value)),p(W,Number(e.target.value))},children:[5,10,20,30,40,50].map(e=>Object(O.jsx)("option",{value:e,children:e},e))}),"entradas"]}),Object(O.jsx)(r.a,{md:4,children:Object(O.jsx)(j.a,{className:"basic-single",classNamePrefix:"select",onChange:e=>{var t;t=e.value,E("default"===t?void 0:t),p(0,16,"default"===t?void 0:t,L)},name:"user",options:w,menuPlacement:"auto",menuPosition:"fixed",placeholder:"Utilizador..."})}),Object(O.jsx)(r.a,{md:4,children:Object(O.jsx)(j.a,{className:"basic-single",classNamePrefix:"select",onChange:e=>{var t;t=e.value,I("default"===t?void 0:t),p(0,16,P,"default"===t?void 0:t)},name:"module",options:N,menuPlacement:"auto",menuPosition:"fixed",placeholder:"Modulo..."})})]}),Object(O.jsxs)(d.a,Object(s.a)(Object(s.a)({striped:!0,bordered:!0,hover:!0,responsive:!0},T()),{},{children:[Object(O.jsx)("thead",{children:z.map(e=>Object(O.jsx)("tr",Object(s.a)(Object(s.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map(e=>Object(O.jsxs)("th",Object(s.a)(Object(s.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),Object(O.jsx)("span",{children:e.isSorted?e.isSortedDesc?Object(O.jsx)("span",{className:"feather icon-arrow-down text-muted float-right"}):Object(O.jsx)("span",{className:"feather icon-arrow-up text-muted float-right"}):""})]})))})))}),Object(O.jsx)("tbody",Object(s.a)(Object(s.a)({},U()),{},{children:F.map((e,t)=>(C(e),Object(O.jsx)("tr",Object(s.a)(Object(s.a)({},e.getRowProps()),{},{children:e.cells.map(e=>{const t=e.column.centered;return Object(O.jsx)("td",Object(s.a)(Object(s.a)({},e.getCellProps()),{},{className:t?"text-center":"text-right",children:e.render("Cell")}))})}))))}))]})),Object(O.jsxs)(o.a,{className:"justify-content-between",children:[Object(O.jsx)(r.a,{children:Object(O.jsxs)("span",{className:"d-flex align-items-center",children:["P\xe1gina"," "," ",Object(O.jsxs)("strong",{children:[" ",W+1," de ",G.length," "]})," ","| Ir para a p\xe1gina:"," ",Object(O.jsx)("input",{type:"number",className:"form-control ml-2",defaultValue:W+1,onChange:e=>{const t=e.target.value?Number(e.target.value)-1:0;J(t)},style:{width:"100px"}})]})}),Object(O.jsx)(r.a,{children:Object(O.jsxs)(i.a,{className:"justify-content-end",children:[Object(O.jsx)(i.a.First,{onClick:()=>function(e){h(t=>Object(s.a)(Object(s.a)({},t),{},{pageIndex:e,pageSize:16})),p(e)}(0),disabled:!_}),Object(O.jsx)(i.a.Prev,{onClick:()=>function(e){let t=e-1;h(e=>Object(s.a)(Object(s.a)({},e),{},{pageIndex:t,pageSize:16})),p(t,16,P,L)}(W),disabled:!_}),Object(O.jsx)(i.a.Next,{onClick:()=>function(e){let t=e+1;h(e=>Object(s.a)(Object(s.a)({},e),{},{pageIndex:t,pageSize:16})),p(t,16,P,L)}(W),disabled:!B}),Object(O.jsx)(i.a.Last,{onClick:()=>function(e){h(t=>Object(s.a)(Object(s.a)({},t),{},{pageIndex:e,pageSize:16})),p(e)}(v-1),disabled:!B})]})})]})]})}t.default=()=>{const{id:e}=Object(u.i)(),[t,a]=Object(n.useState)("0"),{popUp_removerItem:i,popUp_alertaOK:d,popUp_simcancelar:b}=Object(m.a)(),{permissoes:j}=Object(m.a)(),v=Object(u.g)();(new Date).toJSON().slice(0,10);const h=c.a.useMemo(()=>[{Header:"ID",accessor:"ID",centered:!0},{Header:"Data e Hora",accessor:"Created_At",centered:!1},{Header:"Utilizador",accessor:"user.USERNAME",centered:!1},{Header:"A\xe7\xe3o Realizada",accessor:"Accao",centered:!1},{Header:"Modulo",accessor:"Text_Modulo",centered:!1},{Header:"Detalhes de A\xe7\xe3o",accessor:"Text_Detalhe",centered:!1}],[]),[x]=Object(n.useState)(2e3),[y]=Object(n.useState)(2023),w=[];for(let s=x;s<=y;s++)w.push(s);const[S,N]=Object(n.useState)([]),[P,E]=Object(n.useState)(!1),[L,I]=Object(n.useState)(0),[M,R]=Object(n.useState)([]),[k,A]=Object(n.useState)([]);async function T(e,t,a,n){a=""===a?void 0:a,n=""===n?void 0:n;try{const c=await p.a.get("/auditoria?"+Object(f.q)([["User_ID",a],["Model",n],["limit",t],["offset",e]]));if(200===c.status){let e=c.data.data;I(c.data.totalItems),N(e),z(e=>Object(s.a)(Object(s.a)({},e),{},{totalItems:L,pageCount:Math.ceil(L/e.pageSize)}))}}catch(c){console.error(c.response)}}const[U,z]=Object(n.useState)({pageIndex:0,pageSize:16,totalItems:0});Object(n.useEffect)(()=>{!1===Object(f.l)("/entidade/auditoria",j)?v.push("/"):(T(),async function(){try{const t=await p.a.get("/glbuser");if("200"==t.status){for(var e=0;e<t.data.length;e++)t.data[e].value=t.data[e].ID,t.data[e].label=t.data[e].sgigjrelpessoaentidade.sgigjpessoa.NOME;R(t.data)}for(let a=0;a<f.j.length;a++)f.j[e].value=f.j[e].key,f.j[e].label=f.j[e].value;A(f.j)}catch(t){console.error(t.response)}}())},[j]),console.log(U);const[C,H]=Object(n.useState)(!1),[D,F]=Object(n.useState)(!1),[_,B]=Object(n.useState)(!1),[G,q]=Object(n.useState)(!1),[J,K]=Object(n.useState)(!1);return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(c.a.Fragment,{children:Object(O.jsx)(o.a,{children:Object(O.jsx)(r.a,{sm:12,children:Object(O.jsx)(l.a,{children:Object(O.jsx)(l.a.Body,{children:Object(O.jsx)(g,{columns:h,data:S,uploadlist:T,years:w,tableState:U,totalItems:L,setTableState:z,moduleList:f.j,pessoalist:M})})})})})})})}}}]);
//# sourceMappingURL=19.5d089846.chunk.js.map