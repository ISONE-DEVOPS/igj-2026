(this["webpackJsonpigj-frontend"]=this["webpackJsonpigj-frontend"]||[]).push([[5],{822:function(e,t,a){"use strict";var s=a(0),o=a(814),n=a(404),i=a(403),c=a(812),l=a(7),r=a(32),d=a(26),j=a(1);t.a=e=>{let{generolist:t,estadocivillist:a,glbgeografialist:u,documentolist:p,contactolist:m,uploadpessoa:O,pessoaopenDO:b}=e;const{popUp_alertaOK:h}=Object(d.a)(),[g,f]=Object(s.useState)(!1),[x,v]=Object(s.useState)(""),[_,y]=Object(s.useState)(""),[N,D]=Object(s.useState)(""),[C,I]=Object(s.useState)(""),[A,S]=Object(s.useState)(""),[E,R]=Object(s.useState)(""),[T,P]=Object(s.useState)(""),[w,F]=Object(s.useState)(""),[k,L]=Object(s.useState)(""),[G,U]=Object(s.useState)(""),[M,q]=Object(s.useState)(""),[z,B]=Object(s.useState)(""),[H,V]=Object(s.useState)(""),[X,J]=Object(s.useState)(""),[Z,K]=Object(s.useState)(""),[Q,W]=Object(s.useState)(!1),[Y,$]=Object(s.useState)(!1),[ee,te]=Object(s.useState)(""),[ae,se]=Object(s.useState)(""),[oe,ne]=Object(s.useState)("");Object(s.useEffect)(()=>{y(""),D(""),I(""),S(""),R(""),P(""),F(""),L(""),U(""),q(""),B(""),V(""),J(""),K(""),te(""),se(""),ne(""),f(!0),ce("geral"),je([{id:""+Math.random(),tipocontacto:"",contacto:""}]),Oe([{id:""+Math.random(),tipodocumento:"",numero:"",dataemissao:"",datavalidade:"",anexo:{type:0,file:null}}]),f(b.value)},[b]);const[ie,ce]=Object(s.useState)("geral"),le="nav-link text-reset",re="nav-link text-reset active";var[de,je]=Object(s.useState)([{id:""+Math.random(),tipocontacto:"",contacto:""}]);const[ue,pe]=Object(s.useState)(!1);var[me,Oe]=Object(s.useState)([{id:""+Math.random(),tipodocumento:"",numero:"",dataemissao:"",datavalidade:"",anexo:{type:0,file:null}}]);const[be,he]=Object(s.useState)(!1);async function ge(e){var t={status:!1,file:null};try{const a=new FormData;a.append("file",e);const s={headers:{"content-type":"multipart/form-data"}},o=await r.a.post("/upload",a,s);t={status:!0,file:o},console.log(o)}catch(a){console.error(a.response),t={status:!1,file:null}}return t}return Object(j.jsxs)(o.a,{size:"lg",show:g,onHide:()=>f(!1),children:[Object(j.jsx)(o.a.Header,{style:{border:"0"},closeButton:!0,children:Object(j.jsx)(o.a.Title,{as:"h5",children:"Criar Pessoal"})}),Object(j.jsxs)("ul",{className:"nav nav-tabs profile-tabs nav-fill",id:"myTab",role:"tablist",children:[Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)(l.b,{to:"#",className:"geral"===ie?re:le,onClick:()=>{ce("geral")},id:"profile-tab",children:[Object(j.jsx)("i",{className:"feather icon-user mr-2"}),"Perfil"]})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)(l.b,{to:"#",className:"contactos"===ie?re:le,onClick:()=>{ce("contactos")},id:"contact-tab",children:[Object(j.jsx)("i",{className:"feather icon-phone mr-2"}),"Contactos"]})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)(l.b,{to:"#",className:"documentos"===ie?re:le,onClick:()=>{ce("documentos")},id:"contact-tab",children:[Object(j.jsx)("i",{className:"feather icon-file-text mr-2"}),"Documentos"]})})]}),Object(j.jsxs)(o.a.Body,{style:"documentos"===ie?{}:{display:"none"},children:[Object(j.jsx)(n.a,{style:{display:"flex",justifyContent:"flex-end"},sm:12,children:Object(j.jsx)(i.a,{onClick:()=>{Oe(me.concat([{id:""+Math.random(),tipodocumento:"",numero:"",dataemissao:"",datavalidade:"",anexo:{type:0,file:null}}]))},variant:"primary",children:"+"})}),me.map(e=>{var t;return Object(j.jsxs)(c.a,{style:{marginBottom:"12px"},children:[Object(j.jsx)(n.a,{sm:10,children:Object(j.jsxs)(c.a,{children:[Object(j.jsx)(n.a,{sm:6,children:Object(j.jsxs)("div",{className:"form-group fill",children:[Object(j.jsxs)("label",{className:"floating-label",htmlFor:"Phone",children:["Tipo de Documentos ",Object(j.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(j.jsxs)("select",{onChange:t=>{!function(e,t){"cni"===p.find(t=>t.ID===e).DESIG.toLowerCase()?$(!0):$(!1);const a=me.findIndex(e=>e.id===t);me[a]={id:t,tipodocumento:e,numero:me[a].numero,dataemissao:me[a].dataemissao,datavalidade:me[a].datavalidade,anexo:me[a].anexo},he(!0),Oe(me.concat([]))}(t.target.value,e.id)},className:"form-control",id:"perfil",required:!0,"aria-required":"true",children:[Object(j.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),p.map(e=>Object(j.jsx)("option",{value:e.ID,children:e.DESIG},e.ID))]})]})}),Object(j.jsx)(n.a,{sm:3,children:Object(j.jsxs)("div",{className:"form-group fill",children:[Object(j.jsxs)("label",{className:"floating-label",htmlFor:"text",children:["N\xfamero ",Object(j.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(j.jsx)("input",{onChange:t=>{!function(e,t){const a=me.findIndex(e=>e.id===t);me[a]={id:t,numero:e,tipodocumento:me[a].tipodocumento,dataemissao:me[a].dataemissao,datavalidade:me[a].datavalidade,anexo:me[a].anexo},he(!0),Oe(me.concat([]))}(t.target.value,e.id)},type:"text",className:"form-control"})]})}),Object(j.jsxs)("div",{className:"sm-2 paddinhtop28OnlyPC",children:[Object(j.jsxs)("label",{htmlFor:"anexarcriar"+e.id,className:"btn",style:{backgroundColor:"#d2b32a",color:"#fff"},children:[null==(null===e||void 0===e||null===(t=e.anexo)||void 0===t?void 0:t.file)?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("i",{className:"feather icon-download"}),Object(j.jsx)(j.Fragment,{children:" Anexar"})]}):"Anexado"," "]}),Object(j.jsx)("input",{id:"anexarcriar"+e.id,onChange:t=>function(e,t){const a=me.findIndex(e=>e.id===t);console.log(me[a]),console.log(t),""!=me[a].tipodocumento&&""!=me[a].numero||h("Preencha o campos obrigat\xf3rios"),me[a]={id:t,tipodocumento:me[a].tipodocumento,dataemissao:me[a].dataemissao,datavalidade:me[a].datavalidade,numero:me[a].numero,anexo:{type:2,file:e}},he(!0),Oe(me.concat([]))}(t.target.files[0],e.id),accept:"image/x-png,image/jpeg",style:{display:"none"},type:"file"})]}),Y?null:Object(j.jsx)(n.a,{sm:6,children:Object(j.jsxs)("div",{className:"form-group fill",children:[Object(j.jsx)("label",{className:"floating-label",htmlFor:"date",children:"Data de Emiss\xe3o"}),Object(j.jsx)("input",{onChange:t=>{!function(e,t){const a=me.findIndex(e=>e.id===t);me[a]={id:t,dataemissao:e,numero:me[a].numero,tipodocumento:me[a].tipodocumento,datavalidade:me[a].datavalidade,anexo:me[a].anexo},he(!0),Oe(me.concat([]))}(t.target.value,e.id)},type:"date",className:"form-control"})]})}),Object(j.jsx)(n.a,{sm:6,children:Object(j.jsxs)("div",{className:"form-group fill",children:[Object(j.jsx)("label",{className:"floating-label",htmlFor:"text",children:"Data de Validade"}),Object(j.jsx)("input",{onChange:t=>{!function(e,t){const a=me.findIndex(e=>e.id===t);me[a]={id:t,datavalidade:e,numero:me[a].numero,tipodocumento:me[a].tipodocumento,dataemissao:me[a].dataemissao,anexo:me[a].anexo},he(!0),Oe(me.concat([]))}(t.target.value,e.id)},type:"date",className:"form-control"})]})})]})}),me.length>1?Object(j.jsx)("div",{className:"paddinhtop66OnlyPC sm-2",children:Object(j.jsx)(i.a,{onClick:()=>function(e){if(me.length>1){const a=me.findIndex(t=>t.id===e);if(a>-1){var t=me;t.splice(a,1),Oe(t.concat([])),he(!0)}}}(e.id),variant:"danger",children:Object(j.jsx)("i",{className:"feather icon-trash-2"})})}):null]},e.id)})]}),Object(j.jsxs)(o.a.Body,{style:"contactos"===ie?{}:{display:"none"},children:[Object(j.jsx)(n.a,{style:{display:"flex",justifyContent:"flex-end"},sm:12,children:Object(j.jsx)(i.a,{onClick:()=>{je(de.concat([{id:""+Math.random(),tipocontacto:"",contacto:""}]))},variant:"primary",children:"+"})}),de.map(e=>Object(j.jsxs)(c.a,{style:{marginBottom:"12px"},children:[Object(j.jsx)(n.a,{sm:5,children:Object(j.jsxs)("div",{className:"form-group fill",children:[Object(j.jsxs)("label",{className:"floating-label",htmlFor:"Phone",children:["Tipo de Contacto ",Object(j.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(j.jsxs)("select",{onChange:t=>{!function(e,t){const a=de.findIndex(e=>e.id===t);de[a]={id:t,tipocontacto:e,contacto:de[a].contacto},pe(!0),je(de.concat([]))}(t.target.value,e.id)},className:"form-control",id:"perfil",required:!0,"aria-required":"true",children:[Object(j.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),m.map(e=>Object(j.jsx)("option",{value:e.ID,children:e.DESIG},e.ID))]})]})}),Object(j.jsx)(n.a,{sm:5,children:Object(j.jsxs)("div",{className:"form-group fill",children:[Object(j.jsxs)("label",{className:"floating-label",htmlFor:"text",children:["Contacto ",Object(j.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(j.jsx)("input",{maxLength:"128",onChange:t=>{!function(e,t){const a=de.findIndex(e=>e.id===t);de[a]={id:t,contacto:e,tipocontacto:de[a].tipocontacto},pe(!0),je(de.concat([]))}(t.target.value,e.id)},type:"text",className:"form-control"})]})}),de.length>1?Object(j.jsx)("div",{className:"sm-2 paddinhtop28OnlyPC",children:Object(j.jsx)(i.a,{onClick:()=>function(e){if(de.length>1){const a=de.findIndex(t=>t.id===e);if(a>-1){var t=de;t.splice(a,1),je(t.concat([])),pe(!0)}}}(e.id),variant:"danger",children:Object(j.jsx)("i",{className:"feather icon-trash-2"})})}):null]},e.id))]}),Object(j.jsx)(o.a.Body,{style:"geral"===ie?{}:{display:"none"},children:Object(j.jsx)("form",{id:"criarpessoa",onSubmit:async function(e){e.preventDefault(),console.log(N);const t={NACIONALIDADE_ID:N,LOCALIDADE_ID:C,PR_ESTADO_CIVIL_ID:A,PR_GENERO_ID:E,NOME:T,DT_NASC:w,ALCUNHA:k,NOME_PAI:G,NOME_MAE:M,OBS:z,ENDERECO:H,ENDERECO_COORD:X,NIF:Q?"":Z};console.log(t);try{const e=await r.a.post("/sgigjpessoa",t);if("200"==e.status){for(let t=0;t<de.length;t++)if(""!=de[t].tipocontacto&&""!=de[t].contacto){console.log(de);const a={PESSOA_ID:e.data.ID,PR_CONTACTO_TP_ID:de[t].tipocontacto,CONTACTO:de[t].contacto};try{await r.a.post("/sgigjrelcontacto",a)}catch(s){console.error(s.response)}}for(let t=0;t<me.length;t++)if(""!=me[t].tipodocumento&&""!=me[t].numero){console.log(me);var a="";if("2"==me[t].anexo.type){a=(await ge(me[t].anexo.file)).file.data}console.log(a);const o={PESSOA_ID:e.data.ID,PR_DOCUMENTO_TP_ID:me[t].tipodocumento,NUMERO:me[t].numero,DOC_URL:a,DT_EMISSAO:me[t].dataemissao,DT_VALIDADE:me[t].datavalidade};try{await r.a.post("/sgigjreldocumento",o)}catch(s){console.error(s.response)}}O(),f(!1)}}catch(s){try{console.error(s),console.error(s.response),"3058"==s.response.data.code&&h("Esse NIF j\xe1 existe")}catch(o){console.error(o)}}},children:Object(j.jsxs)(c.a,{children:[Object(j.jsx)(n.a,{sm:3,children:Object(j.jsxs)("div",{className:"form-group fill",children:[Object(j.jsxs)("label",{className:"floating-label",htmlFor:"text",children:["C\xf3digo ",Object(j.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(j.jsx)("input",{disabled:!0,value:"0003",type:"text",className:"form-control",id:"Name"})]})}),Object(j.jsx)(n.a,{sm:6,children:Object(j.jsxs)("div",{className:"form-group fill",children:[Object(j.jsxs)("label",{className:"floating-label",htmlFor:"Email",children:["Nome ",Object(j.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(j.jsx)("input",{maxLength:"256",type:"text",onChange:e=>{P(e.target.value)},className:"form-control",id:"Nome ",placeholder:"Nome",required:!0})]})}),Object(j.jsx)(n.a,{sm:3,children:Object(j.jsxs)("div",{className:"form-group fill",children:[Object(j.jsx)("label",{className:"floating-label",htmlFor:"text",children:"Alcunha"}),Object(j.jsx)("input",{type:"text",maxLength:"75",onChange:e=>{L(e.target.value)},className:"form-control",id:"alcunga",placeholder:"Alcunha..."})]})}),Object(j.jsx)(n.a,{sm:4,children:Object(j.jsxs)("div",{className:"form-group fill",children:[Object(j.jsxs)("label",{className:"floating-label",htmlFor:"Phone",children:["G\xeanero ",Object(j.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(j.jsxs)("select",{className:"form-control",onChange:e=>{R(e.target.value)},id:"perfil",required:!0,"aria-required":"true",children:[Object(j.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),t.map(e=>Object(j.jsx)("option",{value:e.ID,children:e.DESIG},e.ID))]})]})}),Object(j.jsx)(n.a,{sm:4,children:Object(j.jsxs)("div",{className:"form-group fill",children:[Object(j.jsxs)("label",{className:"floating-label",htmlFor:"Phone",children:["Estado civil ",Object(j.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(j.jsxs)("select",{className:"form-control",onChange:e=>{S(e.target.value)},id:"perfil",required:!0,"aria-required":"true",children:[Object(j.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),a.map(e=>Object(j.jsx)("option",{value:e.ID,children:e.DESIG},e.ID))]})]})}),Object(j.jsx)(n.a,{sm:4,children:Object(j.jsxs)("div",{className:"form-group fill",children:[Object(j.jsxs)("label",{className:"floating-label",htmlFor:"date",children:["Data Nascimento ",Object(j.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(j.jsx)("input",{type:"date",onChange:e=>{F(e.target.value)},className:"form-control",id:"data",required:!0})]})}),Object(j.jsx)(n.a,{sm:6,children:Object(j.jsxs)("div",{className:"form-group fill",children:[Object(j.jsx)("label",{className:"floating-label",htmlFor:"text",children:"Nome Pai"}),Object(j.jsx)("input",{type:"text",maxLength:"128",onChange:e=>{U(e.target.value)},className:"form-control",id:"pai",placeholder:"Nome Pai..."})]})}),Object(j.jsx)(n.a,{sm:6,children:Object(j.jsxs)("div",{className:"form-group fill",children:[Object(j.jsx)("label",{className:"floating-label",htmlFor:"text",children:"Nome M\xe3e"}),Object(j.jsx)("input",{type:"text",maxLength:"128",onChange:e=>{q(e.target.value)},className:"form-control",id:"mae",placeholder:"Nome Mae..."})]})}),Object(j.jsx)(n.a,{sm:6,children:Object(j.jsxs)("div",{className:"form-group fill",children:[Object(j.jsxs)("label",{className:"floating-label",htmlFor:"text",children:["Nacionalidade ",Object(j.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(j.jsxs)("select",{onChange:e=>{D(e.target.value)},className:"form-control",id:"perfil",required:!0,"aria-required":"true",children:[Object(j.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),u.map(e=>"-1"==e.NIVEL_DETALHE?Object(j.jsx)("option",{value:e.ID,children:e.NACIONALIDADE},e.ID):null)]})]})}),Object(j.jsx)(n.a,{sm:6,children:Object(j.jsxs)("div",{className:"form-group fill",children:[Object(j.jsx)("label",{className:"floating-label",htmlFor:"text",children:"Coordenadas"}),Object(j.jsx)("input",{type:"text",maxLength:"50",onChange:e=>{J(e.target.value)},className:"form-control",id:"coordenada",placeholder:"Endereco Coord..."})]})}),Object(j.jsx)("div",{className:"col-sm-6",children:Object(j.jsxs)("div",{className:"form-group fill",children:[Object(j.jsx)("label",{className:"floating-label",htmlFor:"Address",children:"Endere\xe7o"}),Object(j.jsx)("textarea",{className:"form-control",maxLength:"64000",onChange:e=>{V(e.target.value)},id:"endereco",rows:"3",placeholder:"Endere\xe7o..."})]})}),Object(j.jsx)(n.a,{sm:6,children:Object(j.jsxs)("div",{className:"form-group fill",children:[Object(j.jsxs)("label",{className:"floating-label",htmlFor:"text",children:["NIF ",Object(j.jsx)("span",{style:{color:"red"},children:"*"})]}),Q?Object(j.jsx)("input",{readOnly:"readOnly",type:"text",maxLength:"9",onChange:e=>{K(e.target.value)},className:"form-control",id:"nif",placeholder:"NIF..."}):Object(j.jsx)("input",{type:"text",maxLength:"9",required:!0,onChange:e=>{K(e.target.value)},className:"form-control",id:"nif",placeholder:"NIF..."}),Object(j.jsxs)("div",{className:" fill mt-2 input-box",children:[Object(j.jsx)("input",{type:"checkbox",name:"",id:"",onChange:e=>W(e.target.checked)}),Object(j.jsx)("label",{className:"floating-label ml-3",htmlFor:"Name",children:"Sem NIF "})]})]})}),Object(j.jsx)(n.a,{sm:3,children:Object(j.jsxs)("div",{className:"form-group fill",children:[Object(j.jsxs)("label",{className:"floating-label",htmlFor:"text",children:["Ilha ",Object(j.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(j.jsxs)("select",{className:"form-control",id:"perfil",onChange:e=>{var t;t=e.target.value,te(t),se(""),ne(""),I("")},required:!0,"aria-required":"true",children:[Object(j.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),u.map(e=>"2"==e.NIVEL_DETALHE?Object(j.jsx)("option",{value:e.ID,children:e.ILHA},e.ID):null)]})]})}),Object(j.jsx)(n.a,{sm:3,children:Object(j.jsxs)("div",{className:"form-group fill",children:[Object(j.jsxs)("label",{className:"floating-label",htmlFor:"text",children:["Concelho ",Object(j.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(j.jsxs)("select",{className:"form-control",id:"perfil",onChange:e=>{var t;t=e.target.value,se(t),ne(""),I("")},required:!0,"aria-required":"true",children:[Object(j.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),u.map(e=>"3"==e.NIVEL_DETALHE&&e.GLB_GEOG_ID==ee?Object(j.jsx)("option",{value:e.ID,children:e.CONCELHO},e.ID):null)]})]})}),Object(j.jsx)(n.a,{sm:3,children:Object(j.jsxs)("div",{className:"form-group fill",children:[Object(j.jsxs)("label",{className:"floating-label",htmlFor:"text",children:["Fregu\xeasia ",Object(j.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(j.jsxs)("select",{className:"form-control",id:"perfil",onChange:e=>{var t;t=e.target.value,ne(t),I("")},required:!0,"aria-required":"true",children:[Object(j.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),u.map(e=>"4"==e.NIVEL_DETALHE&&e.GLB_GEOG_ID==ae?Object(j.jsx)("option",{value:e.ID,children:e.FREGUESIA},e.ID):null)]})]})}),Object(j.jsx)(n.a,{sm:3,children:Object(j.jsxs)("div",{className:"form-group fill",children:[Object(j.jsxs)("label",{className:"floating-label",htmlFor:"text",children:["Localidade",Object(j.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(j.jsxs)("select",{onChange:e=>{I(e.target.value)},className:"form-control",id:"perfil",required:!0,"aria-required":"true",children:[Object(j.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),u.map(e=>"5"==e.NIVEL_DETALHE&&e.GLB_GEOG_ID==oe?Object(j.jsx)("option",{value:e.ID,children:e.NOME},e.ID):null)]})]})}),Object(j.jsx)("div",{className:"col-sm-12",children:Object(j.jsxs)("div",{className:"form-group fill",children:[Object(j.jsx)("label",{className:"floating-label",htmlFor:"Address",children:"Obs"}),Object(j.jsx)("textarea",{className:"form-control",maxLength:"64000",onChange:e=>{B(e.target.value)},id:"Address",rows:"3",placeholder:"Obs..."})]})})]})})}),Object(j.jsxs)(o.a.Footer,{children:[Object(j.jsx)(i.a,{variant:"danger",onClick:()=>f(!1),children:"Fechar"}),Object(j.jsx)(i.a,{type:"submit",form:"criarpessoa",variant:"primary",children:"Guardar"})]})]})}},823:function(e,t,a){"use strict";var s=a(0),o=a(404),n=a(403),i=a(812),c=a(818),l=a(32),r=a(26),d=a(1);t.a=e=>{let{documentolist:t,list:a,save:j,item:u,onSendData:p,hidden:m,required:O}=e;const{popUp_alertaOK:b}=Object(r.a)(),[h,g]=Object(s.useState)(!1);var[f,x]=Object(s.useState)([{id:""+Math.random(),tipodocumento:"",numero:"",dataemissao:"",datavalidade:"",anexo:{type:0,file:null}}]);async function v(e){var t={status:!1,file:null};try{const a=new FormData;a.append("file",e);const s={headers:{"content-type":"multipart/form-data"}},o=await l.a.post("/upload",a,s);t={status:!0,file:o},console.log(o)}catch(a){console.error(a),t={status:!1,file:null}}return t}Object(s.useEffect)(()=>{if(0==a.length)g(!0),x([{id:""+Math.random(),tipodocumento:"",numero:"",dataemissao:"",datavalidade:"",anexo:{type:0,file:null}}]);else{g(!1);let e=[];for(let t=0;t<a.length;t++){const s=null!=a[t].DT_EMISSAO?a[t].DT_EMISSAO.substring(0,10):"",o=null!=a[t].DT_VALIDADE?a[t].DT_VALIDADE.substring(0,10):"";e.push({id:""+a[t].ID,tipodocumento:a[t].PR_DOCUMENTO_TP_ID,numero:a[t].NUMERO,dataemissao:s,datavalidade:o,anexo:{type:1,file:a[t].DOC_URL}})}x(e.concat([])),p&&p(f)}console.log(a)},[a]),Object(s.useEffect)(()=>{console.log("ssssssssssssss"+j),""!=u.ID&&null!=u.ID&&async function(){if(1==h){const a=await l.a.delete("/sgigjreldocumento/0?"+(null===u||void 0===u?void 0:u.ENTIDADE)+"="+(null===u||void 0===u?void 0:u.ID));if(console.log(a.status),"200"==a.status||"204"==a.status){console.log(a);for(let a=0;a<f.length;a++)if(""!=f[a].tipodocumento&&(!m&&""!=f[a].numero||m)){console.log(f);var e="";"1"==f[a].anexo.type&&(e=f[a].anexo.file),"2"==f[a].anexo.type&&(e=(await v(f[a].anexo.file)).file.data),console.log(e);const s={[null===u||void 0===u?void 0:u.ENTIDADE]:null===u||void 0===u?void 0:u.ID,PR_DOCUMENTO_TP_ID:f[a].tipodocumento,NUMERO:m?1:f[a].numero,DOC_URL:e,DT_EMISSAO:f[a].dataemissao,DT_VALIDADE:f[a].datavalidade};try{await l.a.post("/sgigjreldocumento",s)}catch(t){console.error(t.response)}}}}}()},[j]);const[_,y]=Object(s.useState)(0);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(o.a,{style:{display:"flex",justifyContent:"flex-end"},sm:12,children:Object(d.jsx)(n.a,{onClick:()=>(x(f.concat([{id:""+Math.random(),tipodocumento:"",numero:"",dataemissao:"",datavalidade:"",anexo:{type:0,file:null}}])),void(p&&p(f))),variant:"primary",children:"+"})}),f.map((e,a)=>{var s;if(a==_)return Object(d.jsxs)(i.a,{style:{marginBottom:"12px"},children:[Object(d.jsx)(o.a,{sm:10,children:Object(d.jsxs)(i.a,{children:[Object(d.jsx)(o.a,{sm:6,children:Object(d.jsxs)("div",{className:"form-group fill",children:[Object(d.jsxs)("label",{className:"floating-label",htmlFor:"Phone",children:["Tipo de Documentos"," ",O&&Object(d.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(d.jsxs)("select",{defaultValue:e.tipodocumento,onChange:t=>{!function(e,t){const a=f.findIndex(e=>e.id===t);f[a]={id:t,tipodocumento:e,numero:f[a].numero,dataemissao:f[a].dataemissao,datavalidade:f[a].datavalidade,anexo:f[a].anexo},g(!0),x(f.concat([])),p&&p(f)}(t.target.value,e.id)},className:"form-control",id:"perfil",required:O,"aria-required":"true",children:[Object(d.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),t.map(e=>Object(d.jsx)("option",{value:e.ID,children:e.DESIG},e.ID))]})]})}),!m&&Object(d.jsx)(o.a,{sm:3,children:Object(d.jsxs)("div",{className:"form-group fill",children:[Object(d.jsx)("label",{className:"floating-label",htmlFor:"text",children:"N\xfamero   "}),Object(d.jsx)("input",{defaultValue:e.numero,onChange:t=>{!function(e,t){const a=f.findIndex(e=>e.id===t);f[a]={id:t,numero:e,tipodocumento:f[a].tipodocumento,dataemissao:f[a].dataemissao,datavalidade:f[a].datavalidade,anexo:f[a].anexo},g(!0),x(f.concat([])),p&&p(f)}(t.target.value,e.id)},type:"text",className:"form-control"})]})}),Object(d.jsxs)("div",{className:"sm-2 paddinhtop28OnlyPC",children:[Object(d.jsxs)("label",{htmlFor:"anexareditar"+e.id,className:"btn",style:{backgroundColor:"#d2b32a",color:"#fff"},children:[null==(null===e||void 0===e||null===(s=e.anexo)||void 0===s?void 0:s.file)?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("i",{className:"feather icon-download"}),Object(d.jsx)(d.Fragment,{children:" Anexar"})]}):"Anexado"," "]}),Object(d.jsx)("input",{id:"anexareditar"+e.id,style:{display:"none"},onChange:t=>function(e,t,a){const s=f.findIndex(e=>e.id===t);if(console.log(f[s]),console.log(t),""==f[s].tipodocumento)return b("Preencha o campos obrigat\xf3rios"),void(a.target.value="");f[s]={id:t,tipodocumento:f[s].tipodocumento,dataemissao:f[s].dataemissao,datavalidade:f[s].datavalidade,numero:f[s].numero,anexo:{type:2,file:e}},g(!0),x(f.concat([])),p&&p(f)}(t.target.files[0],e.id,t),accept:m?void 0:"image/x-png,image/jpeg,.mp4",type:"file"})]}),!m&&Object(d.jsx)(o.a,{sm:6,children:Object(d.jsxs)("div",{className:"form-group fill",children:[Object(d.jsx)("label",{className:"floating-label",htmlFor:"date",children:"Data de Emiss\xe3o"}),Object(d.jsx)("input",{defaultValue:e.dataemissao,onChange:t=>{!function(e,t){const a=f.findIndex(e=>e.id===t);f[a]={id:t,dataemissao:e,numero:f[a].numero,tipodocumento:f[a].tipodocumento,datavalidade:f[a].datavalidade,anexo:f[a].anexo},g(!0),x(f.concat([])),p&&p(f)}(t.target.value,e.id)},type:"date",className:"form-control"})]})}),!m&&Object(d.jsx)(o.a,{sm:6,children:Object(d.jsxs)("div",{className:"form-group fill",children:[Object(d.jsx)("label",{className:"floating-label",htmlFor:"text",children:"Data de Validade"}),Object(d.jsx)("input",{defaultValue:e.datavalidade,onChange:t=>{!function(e,t){const a=f.findIndex(e=>e.id===t);f[a]={id:t,datavalidade:e,numero:f[a].numero,tipodocumento:f[a].tipodocumento,dataemissao:f[a].dataemissao,anexo:f[a].anexo},g(!0),x(f.concat([])),p&&p(f)}(t.target.value,e.id)},type:"date",className:"form-control"})]})})]})}),f.length>1?Object(d.jsx)("div",{className:"paddinhtop66OnlyPC sm-2",children:Object(d.jsx)(n.a,{onClick:()=>function(e){if(f.length>1){const a=f.findIndex(t=>t.id===e);if(a>-1){var t=f;t.splice(a,1),x(t.concat([])),p&&p(f),g(!0)}}}(e.id),variant:"danger",children:Object(d.jsx)("i",{className:"feather icon-trash-2"})})}):null]},e.id)}),Object(d.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(d.jsxs)(c.a,{className:"justify-content-end",children:[Object(d.jsx)(c.a.First,{onClick:()=>y(0)}),Object(d.jsx)(c.a.Prev,{onClick:()=>y(_>0?_-1:0)}),Object(d.jsx)("span",{style:{display:"flex",padding:"8px 20px",alignItems:"center",justifyContent:"center"},children:_+1}),Object(d.jsx)(c.a.Next,{onClick:()=>y(_>=f.length-1?f.length-1:_+1)}),Object(d.jsx)(c.a.Last,{onClick:()=>y(f.length-1)})]})})]})}},824:function(e,t,a){"use strict";var s=a(0),o=a(814),n=a(812),i=a(404),c=a(403),l=a(7),r=a(1);t.a=e=>{let{Open:t,setOpen:a,list:d}=e;const[j,u]=Object(s.useState)(""),[p,m]=Object(s.useState)("");return Object(s.useEffect)(()=>{console.log("ROberto",d),u("")},[d]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(o.a,{size:"lg",show:t,onHide:()=>a(!1),children:[Object(r.jsx)(o.a.Body,{children:Object(r.jsx)(n.a,{children:Object(r.jsxs)(i.a,{xl:12,className:"task-detail-right",children:[Object(r.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"spaceAround"},children:Object(r.jsxs)("span",{style:{paddingBottom:"4px",cursor:"pointer",borderBottom:"2px solid #d2b32a",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(r.jsx)("i",{className:"feather icon-file-text m-r-5"}),"Anexos"]})}),Object(r.jsxs)("div",{style:{width:"100%",height:"500px"},children:[Object(r.jsx)("div",{style:{width:"100%",borderBottom:"1px solid #d2b32a",paddingTop:"20px",paddingBottom:"20px",marginBottom:"20px",overflow:"auto",height:"70px"},children:"undefined"!=typeof d?d.map(e=>{var t;return Object(r.jsx)(l.b,{onClick:()=>{var t,a,s,o;"PDF"==(null===(t=e.DOC_URL)||void 0===t?void 0:t.substring((null===(a=e.DOC_URL)||void 0===a?void 0:a.lastIndexOf("."))+1))||"pdf"==(null===(s=e.DOC_URL)||void 0===s?void 0:s.substring((null===(o=e.DOC_URL)||void 0===o?void 0:o.lastIndexOf("."))+1))?m(e.DOC_URL):u(e.DOC_URL)},style:{margin:"2px"},to:"#",className:"mb-1 text-muted d-flex align-items-end text-h-primary",children:"::"+(null===e||void 0===e||null===(t=e.sgigjprdocumentotp)||void 0===t?void 0:t.DESIG)},e.ID)}):null}),Object(r.jsx)("div",{style:{width:"100%",display:j?"flex":"none",justifyContent:"center",marginBottom:"10px"},children:Object(r.jsxs)("span",{children:[Object(r.jsx)("i",{className:"feather icon-eye m-r-5"}),"Pr\xe9-vizualiza\xe7\xe3o"]})}),Object(r.jsx)("a",{style:{display:j?"block":"none"},href:j+"?alt=media&token=0",target:"_blank",rel:"noopener noreferrer",children:Object(r.jsx)("div",{className:""==j?"previewdoc":"previewdoc-img",style:{backgroundImage:'url("'+j+'?alt=media&token=0")',height:"350px"}})})]})]})})}),Object(r.jsx)(o.a.Footer,{children:Object(r.jsx)(c.a,{variant:"danger",onClick:()=>a(!1),children:"Fechar"})})]}),Object(r.jsx)(o.a,{size:"xl",show:p,onHide:()=>{m(null),setTimeout(()=>a(!0),150)},children:Object(r.jsx)("iframe",{height:1e3,src:p+"?alt=media&token=0",title:"pdf-viewer",width:"100%s"})})]})}},836:function(e,t,a){"use strict";var s=a(0),o=a.n(s),n=a(812),i=a(404),c=a(403),l=a(814),r=a(7),d=a(76),j=a(32),u=a(8),p=a(807),m=a(26),O=a(1);var b=e=>{let{uploadlist:t,voltar:a,InterrompidoTipo:o,setInterrompidoTipo:r,INSTRUCAO_ID:d}=e;const[b,h]=Object(s.useState)(!1),[g,f]=Object(s.useState)(""),{popUp_alertaOK:x}=Object(m.a)(),[v,_]=Object(s.useState)([]),[y,N]=Object(s.useState)(-1),[D,C]=Object(s.useState)([{id:Date.now(),tipodocumento:"",numero:"",dataemissao:"",datavalidade:"",anexo:{type:0,file:null},main:""}]),[I,A]=Object(s.useState)(!1),[S,E]=Object(s.useState)(!1);Object(s.useEffect)(()=>{h(""!==o),async function(){try{const e=await j.a.get("/sgigjprdocumentotp");"200"==e.status&&_(e.data)}catch(e){console.error(e.response)}}()},[o]);const R=(e,t,a)=>{C(s=>s.map(s=>s.id===e?Object(u.a)(Object(u.a)({},s),{},{[t]:a}):s)),A(!0)};async function T(e){var t={status:!1,file:null};try{const a=new FormData;a.append("file",e);const s={headers:{"content-type":"multipart/form-data"}};t={status:!0,file:await j.a.post("/upload",a,s)}}catch(a){console.error(a.response),t={status:!1,file:null}}return t}return Object(O.jsxs)(l.a,{size:"lg",show:b,onHide:()=>h(!1),children:[Object(O.jsx)(l.a.Header,{closeButton:!0,children:Object(O.jsx)(l.a.Title,{as:"h5",children:"A"===o?"Arquivar":"Prescrever"})}),Object(O.jsx)(l.a.Body,{children:Object(O.jsxs)("form",{id:"GO",onSubmit:async e=>{e.preventDefault();let s=!1,n=[];try{for(let e=0;e<D.length;e++){if(console.log("pkoko",D[e]),!D[e].anexo||null==D[e].anexo.file)return void x("Por favor anexa documento");if(1!==v.find(t=>t.ID===D[e].tipodocumento).IDENTIFICACAO||""!=D[e].datavalidade&&""!=D[e].numero&&""!=D[e].dataemissao){if(""!=D[e].tipodocumento&&""!=D[e].numero){var i="";if("1"==D[e].anexo.type&&(i=D[e].anexo.file),"2"==D[e].anexo.type){i=(await T(D[e].anexo.file)).file.data}const t={PR_DOCUMENTO_TP_ID:D[e].tipodocumento,NUMERO:D[e].numero,DOC_URL:i,DT_EMISSAO:D[e].dataemissao,DT_VALIDADE:D[e].datavalidade,ESTADO:"1",MAIN:D[e].main};if(n.push(t),s){E(!1),x("Preenche os campos que representam um documento de identifica\xe7\xe3o");break}}}else s=!0}try{200===(await j.a.put("/sgigjrelprocessoinstrucao/".concat(d,"/interrompido"),{OBS:g,TIPO:o,documentos:n})).status&&(r(""),t(),a())}catch(c){console.error(c.response)}}catch(c){console.error(c.response)}},children:[Object(O.jsx)(n.a,{children:Object(O.jsx)(i.a,{sm:12,children:Object(O.jsxs)(p.a.Group,{children:[Object(O.jsxs)(p.a.Label,{children:["Justifica\xe7\xe3o ",Object(O.jsx)("span",{className:"text-danger",children:"*"})]}),Object(O.jsx)(p.a.Control,{as:"textarea",rows:3,style:{height:"250px"},required:!0,value:g,onChange:e=>f(e.target.value),placeholder:"Justifica\xe7\xe3o..."})]})})}),D.map((e,t)=>{const a=v.find(t=>t.ID===parseInt(e.tipodocumento,10)),s=1===(null===a||void 0===a?void 0:a.IDENTIFICACAO);return Object(O.jsxs)(n.a,{className:"mb-3",children:[Object(O.jsx)(i.a,{sm:12,children:Object(O.jsxs)(n.a,{children:[Object(O.jsx)(i.a,{sm:4,children:Object(O.jsxs)(p.a.Group,{children:[Object(O.jsxs)(p.a.Label,{children:["Tipo de Documento"," ",Object(O.jsx)("span",{className:"text-danger",children:"*"})]}),Object(O.jsxs)(p.a.Control,{as:"select",required:!0,onChange:t=>R(e.id,"tipodocumento",t.target.value),children:[Object(O.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),v.map(e=>Object(O.jsx)("option",{value:e.ID,children:e.DESIG},e.ID))]})]})}),Object(O.jsx)(i.a,{sm:4,children:Object(O.jsxs)(p.a.Group,{children:[Object(O.jsxs)(p.a.Label,{children:["N\xfamero ",Object(O.jsx)("span",{className:"text-danger",children:"*"})]}),Object(O.jsx)(p.a.Control,{required:!0,type:"text",onChange:t=>R(e.id,"numero",t.target.value)})]})}),Object(O.jsxs)(i.a,{sm:4,className:"d-flex",style:{alignItems:"center",paddingTop:"20px"},children:[Object(O.jsxs)(c.a,{style:{backgroundColor:"#d2b32a",color:"#fff"},as:"label",htmlFor:"anexar".concat(e.id),children:[" ",e.anexo.file?"Anexado":"Anexar"," "]}),Object(O.jsx)(p.a.Control,{type:"file",id:"anexar".concat(e.id),style:{display:"none"},accept:"image/png,image/jpeg",onChange:t=>((e,t)=>{const a=D.find(t=>t.id===e);a.tipodocumento&&a.numero?R(e,"anexo",{type:2,file:t}):x("Preencha os campos obrigat\xf3rios")})(e.id,t.target.files[0])}),Object(O.jsx)(p.a.Check,{style:{marginLeft:"10px",paddingTop:"-100px"},inline:!0,type:"radio",name:"documento",onChange:()=>N(t),label:"Usar este"})]}),Object(O.jsx)(i.a,{sm:6,children:Object(O.jsxs)(p.a.Group,{children:[Object(O.jsxs)(p.a.Label,{children:["Data de Emiss\xe3o"," ",s&&Object(O.jsx)("span",{className:"text-danger",children:"*"})]}),Object(O.jsx)(p.a.Control,{type:"date",required:s,onChange:t=>R(e.id,"dataemissao",t.target.value)})]})}),Object(O.jsx)(i.a,{sm:6,children:Object(O.jsxs)(p.a.Group,{children:[Object(O.jsxs)(p.a.Label,{children:["Data de Validade"," ",s&&Object(O.jsx)("span",{className:"text-danger",children:"*"})]}),Object(O.jsx)(p.a.Control,{type:"date",required:s,onChange:t=>R(e.id,"datavalidade",t.target.value)})]})})]})}),D.length>1&&Object(O.jsx)(i.a,{sm:2,className:"d-flex align-items-center",children:Object(O.jsx)(c.a,{variant:"danger",onClick:()=>{return t=e.id,void(D.length>1&&C(D.filter(e=>e.id!==t)));var t},children:Object(O.jsx)("i",{className:"feather icon-trash-2"})})})]},e.id)}),Object(O.jsx)(c.a,{variant:"secondary",onClick:()=>{C([...D,{id:Date.now(),tipodocumento:"",numero:"",dataemissao:"",datavalidade:"",anexo:{type:0,file:null},main:""}])},children:"Adicionar Documento"})]})}),Object(O.jsxs)(l.a.Footer,{children:[Object(O.jsx)(c.a,{type:"submit",form:"GO",variant:"primary",children:"A"===o?"Arquivar":"Prescrever"}),Object(O.jsx)(c.a,{variant:"danger",onClick:()=>h(!1),children:"Fechar"})]})]})},h=a(240),g=a.n(h),f=a(820),x=a.n(f);(new Date).toISOString().slice(0,10);var v=a(817),_=a(816);var y=e=>{let{data:t}=e;const a=o.a.useMemo(()=>[{Header:"Pe\xe7as Processual",accessor:"PECAS"},{Header:"Data",accessor:"DATA2"},{Header:"Anexos",accessor:"ANEXOS"},{Header:"A\xe7\xf5es",accessor:"action"}],[]),{getTableProps:s,getTableBodyProps:n,headerGroups:i,prepareRow:c,page:l,setPageSize:r,state:{pageIndex:d,pageSize:j}}=Object(_.useTable)({columns:a,data:t,initialState:{pageIndex:0,pageSize:Number.MAX_VALUE}},_.useGlobalFilter,_.useSortBy,_.usePagination);return Object(O.jsxs)(v.a,Object(u.a)(Object(u.a)({striped:!0,bordered:!0,hover:!0,responsive:!0},s()),{},{children:[Object(O.jsx)("thead",{children:i.map(e=>Object(O.jsx)("tr",Object(u.a)(Object(u.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map(e=>Object(O.jsxs)("th",Object(u.a)(Object(u.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),Object(O.jsx)("span",{children:e.isSorted?e.isSortedDesc?Object(O.jsx)("span",{className:"feather icon-arrow-down text-muted float-right"}):Object(O.jsx)("span",{className:"feather icon-arrow-up text-muted float-right"}):""})]})))})))}),Object(O.jsx)("tbody",Object(u.a)(Object(u.a)({},n()),{},{children:l.map((e,t)=>(c(e),Object(O.jsx)("tr",Object(u.a)(Object(u.a)({},e.getRowProps()),{},{children:e.cells.map(e=>Object(O.jsx)("td",Object(u.a)(Object(u.a)({},e.getCellProps()),{},{children:e.render("Cell")})))}))))}))]}))},N=a(824),D=a(821),C=a(822),I=a(823);function A(e){let{k:t,value:a,set:o}=e;const[n,c]=Object(s.useState)([]);return Object(s.useEffect)(()=>{!async function(){try{const e=await j.a.get("/sgigjprdecisaotp");"200"==e.status&&c(e.data)}catch(e){console.error(e.response)}}()}),Object(O.jsx)(i.a,{sm:12,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Decis\xe3o ",Object(O.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(O.jsxs)("select",{value:a,className:"form-control",onChange:e=>{o(t,e.target.value)},id:"perfil",required:!0,"aria-required":"true",children:[Object(O.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),n.map(e=>Object(O.jsx)("option",{value:e.ID,children:e.DESIG},e.ID))]})]})})}function S(e){let{k:t,value:a,set:o}=e;const[n,c]=Object(s.useState)([]);return Object(s.useEffect)(()=>{!async function(){try{const e=await j.a.get("/sgigjinfracaocoima");"200"==e.status&&c(e.data)}catch(e){console.error(e.response)}}()},[]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(i.a,{sm:8,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsx)("label",{className:"floating-label",htmlFor:"Name",children:"Infra\xe7\xe3o"}),Object(O.jsxs)("select",{id:"perfil",value:null===a||void 0===a?void 0:a.INFRACAO,onChange:e=>{o(t,Object(u.a)(Object(u.a)({},a),{},{INFRACAO:e.target.value}))},className:"form-control",required:!0,"aria-required":"true",children:[Object(O.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),n.map(e=>{var t;return Object(O.jsx)("option",{value:e.ID,children:null===e||void 0===e||null===(t=e.sgigjprinfracaotp)||void 0===t?void 0:t.DESIG},e.ID)})]})]})}),Object(O.jsx)(i.a,{sm:4,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsx)("label",{className:"floating-label",htmlFor:"Name",children:"Coima "}),Object(O.jsx)("input",{maxLength:"128",type:"number",onChange:e=>{o(t,Object(u.a)(Object(u.a)({},a),{},{COIMA:e.target.value}))},defaultValue:null===a||void 0===a?void 0:a.COIMA,className:"form-control",placeholder:"Valor...",required:!0})]})})]})}function E(e){let{k:t,value:a,set:o,documentolist:n,selected_relinstrucaopeca:c,ID_C:l,documentosgeral_lista_save:r,required:d=!0}=e;const[j,u]=Object(s.useState)([]);return Object(s.useEffect)(()=>{u(null==c?[]:c.sgigjreldocumento)},[c]),Object(O.jsx)(i.a,{sm:12,children:Object(O.jsx)(I.a,{required:d,documentolist:n,list:j,save:r,item:null==c?{ID:l,ENTIDADE:"REL_INSTRUTOR_PECAS_ID"}:{ID:c.ID,ENTIDADE:"REL_INSTRUTOR_PECAS_ID"},hidden:!0})})}function R(e){let{k:t,value:a,set:s,obsRef:o}=e;return Object(O.jsx)(i.a,{sm:12,children:Object(O.jsx)("div",{className:"form-group fill",children:Object(O.jsx)(x.a,{value:a,config:{readonly:!1},ref:o})})})}function T(e){let{k:t,value:a,set:o,selected_relinstrucaopeca:n,pessoalist:l,documentolist:r}=e;const[d,u]=Object(s.useState)([]),[p,m]=Object(s.useState)([]),[b,h]=Object(s.useState)([]),[g,f]=Object(s.useState)([]),[x,v]=Object(s.useState)({code:0,value:!1}),[_,y]=Object(s.useState)([]);return Object(s.useEffect)(()=>{y(l),console.log(n),async function(){try{const e=await j.a.get("/sgigjprgenero");"200"==e.status&&u(e.data)}catch(e){console.error(e.response)}}(),async function(){try{const e=await j.a.get("/sgigjprestadocivil");"200"==e.status&&m(e.data)}catch(e){console.error(e.response)}}(),async function(){try{const e=await j.a.get("/glbgeografia");"200"==e.status&&h(e.data)}catch(e){console.error(e.response)}}(),async function(){try{const e=await j.a.get("/sgigjprcontactotp");"200"==e.status&&f(e.data)}catch(e){console.error(e.response)}}()},[]),Object(O.jsxs)(i.a,{sm:12,children:[Object(O.jsxs)("label",{className:"floating-label",htmlFor:"text",children:["Pessoa ",Object(O.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(O.jsxs)("div",{style:{display:"flex"},children:[Object(O.jsx)("div",{className:"form-group fill",style:{width:"100%"},children:Object(O.jsx)(D.a,{className:"basic-single",classNamePrefix:"select",onChange:e=>o(t,e.value),name:"pessoa",options:_,value:_.map(e=>e.ID==a?e:null),required:!0,menuPlacement:"auto",menuPosition:"fixed",placeholder:"Pessoa..."})}),Object(O.jsx)(c.a,{onClick:()=>v({code:x.code+1,value:!0}),style:{marginLeft:"8px",height:"38px"},variant:"primary",children:Object(O.jsx)("i",{className:"feather icon-plus"})})]}),Object(O.jsx)(C.a,{generolist:d,estadocivillist:p,glbgeografialist:b,documentolist:r,contactolist:g,pessoaopenDO:x,uploadpessoa:async function(){try{const t=await j.a.get("/sgigjpessoa");if("200"==t.status){for(var e=0;e<t.data.length;e++)t.data[e].value=t.data[e].ID,t.data[e].label=t.data[e].NOME;y(t.data)}}catch(t){console.error(t.response)}}})]})}function P(e){var t;let{DATA:a,peca:o,selected_relinstrucaopeca:l,pessoalist:r,documentolist:d,setdocumentosgeral_lista:p,item:b,uploadinstrucaopecaslist:h,setselected_relinstrucaopeca:f}=e;const[x,v]=Object(s.useState)(!1),[_,y]=Object(s.useState)(""),[N,D]=Object(s.useState)({}),{popUp_alertaOK:C}=Object(m.a)(),I=Object(s.useRef)();function P(e,t){D(Object(u.a)(Object(u.a)({},N),{},{[e]:t}))}function w(e){if(e)return"1"==e.FLAG_ANEXO_DOC?"ANEXO_DOC":"1"==e.FLAG_DECISAO?"DECISAO":"1"==e.FLAG_DESTINATARIO?"DESTINATARIO":"1"==e.FLAG_INFRACAO_COIMA?"INFRACAO_COIMA":"1"==e.FLAG_OBS?"OBS":"1"==e.FLAG_PERIODO_EXCLUSAO?"PERIODO_EXCLUSAO":"1"==e.FLAG_PESSOA?"PESSOA":"1"==e.FLAG_TEXTO?"TEXTO":void 0}Object(s.useEffect)(()=>{D({DESTINATARIO:(null===l||void 0===l?void 0:l.DESTINATARIO_ID)||"",PESSOA:(null===l||void 0===l?void 0:l.PESSOA_TESTEMUNHA_ID)||"",COIMA:(null===l||void 0===l?void 0:l.COIMA)||"",OBS:(null===l||void 0===l?void 0:l.OBS)||(null===o||void 0===o?void 0:o.OBS)||"",DECISAO:(null===l||void 0===l?void 0:l.PR_DECISAO_TP_ID)||"",INFRACAO_COIMA:null}),I.current&&(I.current.value=(null===l||void 0===l?void 0:l.OBS)||(null===o||void 0===o?void 0:o.OBS)||"")},[l,o]);const F=(null===o||void 0===o||null===(t=o.sgigjrelpecaprocessualcampo)||void 0===t?void 0:t.map(e=>({key:w(e.sigjprcampo),value:N[w(e.sigjprcampo)],ORDEM:e.ORDEM,required:1==e.FLAG_OBRIGATORIEDADE})).sort((e,t)=>e.ORDEM-t.ORDEM))||[];return Object(O.jsx)("form",{id:"itemGO",onSubmit:async function(e){if(e.preventDefault(),""==a)C("Escolha uma data");else try{var t,s,n;const e={REL_PROCESSO_INSTRUCAO_ID:null===b||void 0===b?void 0:b.sgigjprocessodespacho[0].sgigjrelprocessoinstrutor[0].sgigjrelprocessoinstrucao[0].ID,PR_PECAS_PROCESSUAIS_ID:o.ID,PESSOA_TESTEMUNHA_ID:N.PESSOA||null,DESTINATARIO_ID:N.DESTINATARIO||null,PR_DECISAO_TP_ID:N.DECISAO||null,INFRACAO_COIMA_ID:(null===(t=N.INFRACAO_COIMA)||void 0===t?void 0:t.INFRACAO)||null,COIMA:(null===(s=N.INFRACAO_COIMA)||void 0===s?void 0:s.COIMA)||null,DATA:a,OBS:(null===I||void 0===I||null===(n=I.current)||void 0===n?void 0:n.value)||""};if(console.log(e),null==l){const t=await j.a.post("/sgigjrelinstrutorpeca",e);if("200"==t.status){y(t.data.ID),v(!x);const e=await h();if(1==e.done)for(let a=0;a<e.list.length;a++){const s=e.list[a];s.ID==t.data.ID&&f(s)}}}else{"200"==(await j.a.put("/sgigjrelinstrutorpeca/"+l.ID,e)).status&&(g.a.success("Documento Guardado!",{duration:4e3}),v(!x),h())}}catch(i){console.error(i)}},children:o&&Object(O.jsxs)(n.a,{children:[F.map(e=>((e,t,a,s,o,n,i,c,l,r)=>{switch(e){case"PESSOA":case"DESTINATARIO":return Object(O.jsx)(T,{k:e,set:a,value:t,selected_relinstrucaopeca:s,pessoalist:o,documentolist:n});case"OBS":case"TEXTO":case"PERIODO_EXCLUSAO":return Object(O.jsx)(R,{k:e,set:a,value:t,obsRef:l});case"ANEXO_DOC":return Object(O.jsx)(E,{k:e,set:a,value:t,selected_relinstrucaopeca:s,pessoalist:o,documentolist:n,documentosgeral_lista_save:i,ID_C:c,required:r});case"INFRACAO_COIMA":return Object(O.jsx)(S,{k:e,set:a,value:t});case"DECISAO":return Object(O.jsx)(A,{k:e,set:a,value:t});default:return}})(e.key,e.value,P,l,r,d,x,_,I,e.required)),Object(O.jsxs)(i.a,{sm:12,style:{display:"flex",justifyContent:"flex-end",marginTop:"10px",gridGap:"15px"},children:[null!=l&&Object(O.jsxs)(O.Fragment,{children:[null!=l.URL_DOC&&Object(O.jsxs)("a",{href:(null===l||void 0===l?void 0:l.URL_DOC)+"?alt=media&token=0",target:"_blank",children:[Object(O.jsx)(c.a,{variant:"primary",children:"Abrir DOC Gerado"})," "]}),Object(O.jsx)(c.a,{onClick:()=>async function(){try{if("200"==(await j.a.put("/sgigjrelinstrutorpeca/"+(null===l||void 0===l?void 0:l.ID)+"/despacho",{})).status){const e=await h();if(1==e.done)for(let t=0;t<e.list.length;t++){const a=e.list[t];a.ID==(null===l||void 0===l?void 0:l.ID)&&f(a)}}}catch(e){console.error(e.response)}}(),variant:"primary",children:"Gerar DOC"})]}),Object(O.jsx)(c.a,{type:"submit",form:"itemGO",variant:"primary",children:"Guardar"})]})]})})}t.a=e=>{var t,a,u;let{item:p,setinstrucaoitem:h,uploadlist:g,instrucaoitem:f,decisaolist:x}=e;const{popUp_removerItem:v,popUp_alertaOK:_}=Object(m.a)(),[D,C]=Object(s.useState)(""),[I,A]=Object(s.useState)([]),[S,E]=Object(s.useState)(""),[R,T]=Object(s.useState)({}),[w,F]=Object(s.useState)([]);const[k,L]=Object(s.useState)([]);const[G,U]=Object(s.useState)([]),[M,q]=Object(s.useState)(""),[z,B]=Object(s.useState)("");async function H(){let e={done:!1,list:[]};if(oe()){const c=p.sgigjprocessodespacho[0].sgigjrelprocessoinstrutor[0].sgigjrelprocessoinstrucao[0].ID;q(c),B(p.sgigjprocessodespacho[0].sgigjrelprocessoinstrutor[0].ID);try{const i=await j.a.get("/sgigjrelinstrutorpeca?REL_PROCESSO_INSTRUCAO_ID="+c);if("200"==i.status){for(var t=0;t<i.data.length;t++){var a,s,n;const e=i.data[t].ID,c=i.data[t];i.data[t].id=i.data[t].ID,i.data[t].DATA2=Object(d.f)(i.data[t].DATA),i.data[t].PECAS=i.data[t].sgigjprpecasprocessual.DESIG,null==i.data[t].FLAG_NOTA_COMUNICACAO?i.data[t].QUEM="------------------":("1"==i.data[t].FLAG_NOTA_COMUNICACAO&&(i.data[t].QUEM="Visado"),"2"==i.data[t].FLAG_NOTA_COMUNICACAO&&(i.data[t].QUEM="Entidade Decisora"),"3"==i.data[t].FLAG_NOTA_COMUNICACAO&&(i.data[t].QUEM="Entidade Visada")),!c.sgigjreldocumento&&null!==(a=i.data[t])&&void 0!==a&&a.URL_DOC&&(c.sgigjreldocumento=[]),c.sgigjreldocumento.push({DOC_URL:null===(s=i.data[t])||void 0===s?void 0:s.URL_DOC,sgigjprdocumentotp:{DESIG:"Documento Gerado"}}),null===(n=i.data[t])||void 0===n||n.sgigjreldocumento.length,i.data[t].ANEXOS=Object(O.jsx)(o.a.Fragment,{children:Object(O.jsx)(r.b,{to:"#",onClick:()=>se(c),children:Object(O.jsx)("i",{className:"feather icon-file"})})}),i.data[t].action=Object(O.jsxs)(o.a.Fragment,{children:[Object(O.jsx)(r.b,{to:"#",onClick:()=>le(c),className:"text-primary mx-1",children:Object(O.jsx)("i",{className:"text-primary feather icon-edit"})}),Object(O.jsx)(r.b,{to:"#",onClick:()=>je(e),className:"text-danger",children:Object(O.jsx)("i",{className:"feather icon-trash-2"})})]})}e={done:!0,list:i.data},U(i.data)}}catch(i){console.error(i.response)}}return e}const[V,X]=Object(s.useState)(""),[J,Z]=Object(s.useState)("*"),[K,Q]=Object(s.useState)(""),[W,Y]=Object(s.useState)(""),[$,ee]=Object(s.useState)(!1),[te,ae]=Object(s.useState)([]);function se(e){ee(!0),console.log("sgigjreldocumento",null===e||void 0===e?void 0:e.sgigjreldocumento),ae(null===e||void 0===e?void 0:e.sgigjreldocumento)}function oe(){if(null!=p)return p.sgigjprocessodespacho.length>0&&(p.sgigjprocessodespacho[0].sgigjrelprocessoinstrutor.length>0&&p.sgigjprocessodespacho[0].sgigjrelprocessoinstrutor[0].sgigjrelprocessoinstrucao.length>0)}async function ne(){g(),h(null)}const[ie,ce]=Object(s.useState)("");function le(e){ce(e)}function re(e){return S==e||function(e){if(G.findIndex(t=>t.PR_PECAS_PROCESSUAIS_ID===e)>=0&&"6b4729e2b01da73d490dc1b04671ea570d49"==e)return!1;if(G.findIndex(t=>t.PR_PECAS_PROCESSUAIS_ID===e)>=0&&"0a2557ff1b8e966ae041183b8bbcb4d2ce1d"==e)return!1;let t=0;if("4ce0c01543457df12a96bc3eac9492e81657"==e){for(let e=0;e<G.length;e++)null!=G[e].FLAG_NOTA_COMUNICACAO&&t++;if(t>=3)return!1}return!0}(e)}Object(s.useEffect)(()=>{null!=ie&&(E(ie.PR_PECAS_PROCESSUAIS_ID),X(ie.PESSOA_TESTEMUNHA_ID),Z(ie.REF),Q(Object(d.e)(ie.DATA)),Y(ie.OBS))},[ie]),Object(s.useEffect)(()=>{null!=S&&T(I.find(e=>e.ID==S))},[S]),Object(s.useEffect)(()=>{!async function(){try{const e=await j.a.get("/sgigjprpecasprocessual");"200"==e.status&&A(e.data)}catch(e){console.error(e.response)}}(),async function(){try{const t=await j.a.get("/sgigjpessoa");if("200"==t.status){for(var e=0;e<t.data.length;e++)t.data[e].value=t.data[e].ID,t.data[e].label=t.data[e].NOME;F(t.data)}}catch(t){console.error(t.response)}}(),async function(){try{const e=await j.a.get("/sgigjprdocumentotp");"200"==e.status&&L(e.data)}catch(e){console.error(e.response)}}(),H()},[]);const de=async e=>{let t=!0;try{await j.a.delete("/sgigjrelinstrutorpeca/"+e)}catch(a){t=!1,console.error(a.response),_("Falha. Tente mais tarde")}return H(),t},je=async e=>{v({delete:de,id:e})};const[ue,pe]=Object(s.useState)(),[me,Oe]=Object(s.useState)(!1);return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(n.a,{className:"mb-3",children:Object(O.jsx)(i.a,{className:"d-flex align-items-center",style:{fontSize:"16px"},children:"Instru\xe7\xe3o do Processo"})}),oe()?Object(O.jsxs)(n.a,{children:[Object(O.jsx)(i.a,{sm:2,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Refer\xeancia ",Object(O.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(O.jsx)("input",{disabled:!0,type:"text",className:"form-control",id:"Name",value:J,required:!0})]})}),Object(O.jsx)(i.a,{sm:7,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Pe\xe7a Processual ",Object(O.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(O.jsxs)("select",{value:S,onChange:e=>{var t;t=e.target.value,ce(null),E(t),X(""),Z("*"),Q(""),Y("")},className:"form-control",id:"pessoa",required:!0,"aria-required":"true",children:[Object(O.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),I.map(e=>re(e.ID)&&Object(O.jsx)("option",{title:e.CODIGO,value:e.ID,children:e.DESIG},e.ID))]})]})}),Object(O.jsx)(i.a,{sm:3,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Data ",Object(O.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(O.jsx)("input",{type:"date",onChange:e=>{Q(e.target.value)},value:K,className:"form-control",placeholder:"Data...",required:!0})]})})]}):Object(O.jsx)("div",{className:"form-group fill",style:{display:"flex",padding:"50px 0px",width:"100%",justifyContent:"center"},children:Object(O.jsx)(c.a,{variant:"primary",onClick:()=>async function(){const e={PROCESSO_DESPACHO_ID:p.sgigjprocessodespacho[0].ID};try{if("200"==(await j.a.post("/sgigjrelprocessoinstrucao",e)).status){const e=await j.a.get("/sgigjprocessoexclusao/"+p.id);"200"==e.status&&e.data.length>0&&(e.data[0].id=e.data[0].ID,h(e.data[0]))}}catch(t){console.error(t.response)}}(),children:"Iniciar Instru\xe7\xe3o"})}),Object(O.jsx)(P,{DATA:K,PESSOA_TESTEMUNHA_ID:V,setPESSOA_TESTEMUNHA_ID:X,OBS:W,setOBS:Y,item:p,uploadinstrucaopecaslist:H,PECAselected:S,selected_relinstrucaopeca:ie,setselected_relinstrucaopeca:ce,pessoalist:w,documentolist:k,peca:R}),Object(O.jsx)("br",{}),oe()&&Object(O.jsx)(y,{data:G}),Object(O.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"10px",gridGap:"10px"},children:[oe()&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(c.a,{onClick:()=>async function(e){try{console.log("GO_ER");const a=await j.a.get("/juntada/"+e);if("200"==a.status){const e=a.data.buffer.data,s=new Uint8Array(e).buffer;var t=new Blob([s],{type:"application/pdf"});const o=URL.createObjectURL(t);pe(o),Oe(!0),H()}}catch(a){console.error(a)}}(p.sgigjprocessodespacho[0].sgigjrelprocessoinstrutor[0].sgigjrelprocessoinstrucao[0].ID),variant:"primary",children:"Juntada"}),Object(O.jsx)(c.a,{variant:"primary",onClick:()=>C("A"),children:"Arquivar"}),Object(O.jsx)(c.a,{variant:"primary",onClick:()=>C("P"),children:"Prescrever"}),Object(O.jsx)(c.a,{variant:"primary",onClick:()=>async function(){try{"200"==(await j.a.put("/sgigjrelprocessoinstrucao/"+p.sgigjprocessodespacho[0].sgigjrelprocessoinstrutor[0].sgigjrelprocessoinstrucao[0].ID,{TIPO:"concluir"})).status&&(g(),_("Instruc\xe3o conclu\xedda"),h(null))}catch(a){var e,t;console.error(a.response),"567785636745684"==(null===a||void 0===a||null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.code)&&_("S\xf3 \xe9 poss\xedvel concluir essa instru\xe7\xe3o, ap\xf3s inser\xe7\xe3o de pe\xe7a Relatorio Final")}}(),children:"Concluir Instru\xe7\xe3o do Processo"})]}),Object(O.jsx)(c.a,{variant:"danger",onClick:()=>ne(),children:"Voltar"})]}),Object(O.jsx)(N.a,{Open:$,setOpen:ee,list:te}),Object(O.jsx)(l.a,{size:"xl",show:me,onHide:()=>Oe(!1),children:Object(O.jsx)("iframe",{height:1e3,src:"".concat(ue),title:"pdf-viewer",width:"100%s"})}),Object(O.jsx)(b,{voltar:ne,INSTRUCAO_ID:null===p||void 0===p||null===(t=p.sgigjprocessodespacho[0])||void 0===t||null===(a=t.sgigjrelprocessoinstrutor[0])||void 0===a||null===(u=a.sgigjrelprocessoinstrucao[0])||void 0===u?void 0:u.ID,InterrompidoTipo:D,setInterrompidoTipo:C,uploadlist:g})]})}},860:function(e,t,a){},884:function(e,t,a){"use strict";a.r(t);var s=a(8),o=a(0),n=a.n(o),i=a(812),c=a(404),l=a(403),r=a(840),d=a(814),j=a(807),u=a(240),p=a.n(u),m=a(7),O=a(816),b=a(1);const h=e=>{let{filter:t,setFilter:a}=e;const[s,n]=Object(o.useState)(t),i=Object(O.useAsyncDebounce)(e=>{a(e||void 0)},1e3);return Object(b.jsxs)("span",{className:"d-flex align-items-center justify-content-end",children:["Procurar:"," ",Object(b.jsx)("input",{className:"form-control ml-2 w-auto",value:s||"",onChange:e=>{n(e.target.value),i(e.target.value)}})]})};var g=a(818),f=a(817),x=a(32),v=a(26),_=a(22),y=a(76),N=a(822),D=a(836),C=a(821),I=a(820),A=a.n(I);var S=e=>{let{processo_ID:t,setprocesso_ID:a,uploadlist:s,pessoalist:n,decisaolist:r}=e;const[u,m]=Object(o.useState)(!1),{user:O}=Object(v.a)(),{popUp_alertaOK:h}=Object(v.a)();let g="";const f=Object(o.useRef)(null),[_,N]=Object(o.useState)({}),[D,I]=Object(o.useState)(""),[S,E]=Object(o.useState)(""),[R,T]=Object(o.useState)(""),[P,w]=Object(o.useState)(""),[F,k]=Object(o.useState)(""),[L,G]=Object(o.useState)(""),[U,M]=Object(o.useState)(""),[q,z]=Object(o.useState)(""),[B,H]=Object(o.useState)(""),[V,X]=Object(o.useState)(""),[J,Z]=Object(o.useState)(""),[K,Q]=Object(o.useState)(""),[W,Y]=Object(o.useState)("");let $=(new Date).toISOString().substring(0,10);const[ee,te]=Object(o.useState)([]);const[ae,se]=Object(o.useState)("");function oe(){""==F||""==P?h("Preencha todos os campos obrigat\xf3rios"):(console.log(_),g=function(e,t,a,s,o,n,i){var c,l,r,d,j,u,p,m,O,b,h,g,f;return"\n\n\n                 <p style=\"margin: 0; font-family: 'Times New Roman', serif; text-align: center;\"><b><span style=\"font-size: 16pt; font-family: 'Times New Roman', serif;\">DESPACHO N.\xba ".concat(a,"/").concat(null===(c=Object(y.b)(s))||void 0===c?void 0:c.ano,"</span></b></p>\n\n                 <p style=\"margin: 0; font-family: 'Times New Roman', serif; line-height: 1.6;\"><span style=\"font-size: 12pt; font-family: 'Times New Roman', serif;\">&nbsp;</span></p>\n\n                 <p style=\"margin: 0; font-family: 'Times New Roman', serif; line-height: 1.6;\"><span style=\"font-size: 12pt; font-family: 'Times New Roman', serif;\">&nbsp;</span></p>\n\n                 <p style=\"margin: 0; font-family: 'Times New Roman', serif; line-height: 1.6;\"><span style=\"font-size: 12pt; font-family: 'Times New Roman', serif;\">&nbsp;</span></p>\n\n\n\n                    <p style=\"margin: 0; font-family: 'Times New Roman', serif; font-size: 12pt; text-align: justify; line-height: 1.6;\"><span style=\"font-size: 12pt; font-family: 'Times New Roman', serif; color: black;\">Tendo a IGJ recebido a ").concat(null===(l=Object(y.b)(null===t||void 0===t?void 0:t.DATA))||void 0===l?void 0:l.dia," de ").concat(null===(r=Object(y.b)(null===t||void 0===t?void 0:t.DATA))||void 0===r?void 0:r.mes," de ").concat(null===(d=Object(y.b)(null===t||void 0===t?void 0:t.DATA))||void 0===d?void 0:d.ano,",\n                        do concession\xe1rio Casino Royal, via correio eletr\xf3nico, comunicado, cuja c\xf3pia\n                        se anexa, </span><span style=\"font-size: 12pt; font-family: 'Times New Roman', serif;\">de\n                        que procederam \xe0 \u2026\u2026\u2026\u2026 do frequentador, <b>Sr(a).\n                            ").concat(null===t||void 0===t||null===(j=t.sgigjpessoa)||void 0===j?void 0:j.NOME,"</b>, de nacionalidade\n                            ").concat(null===t||void 0===t||null===(u=t.sgigjpessoa)||void 0===u||null===(p=u.nacionalidade)||void 0===p||null===(m=p.NACIONALIDADE)||void 0===m?void 0:m.toLowerCase(),', por alegada m\xe1 conduta, insulto a uma\n                        jogadora, 2 "dealers" e alegada grosseria para com o PCA do casino e seguran\xe7as.</span></p>\n\n                    <p style="margin: 0; font-family: \'Times New Roman\', serif; font-size: 12pt; text-align: justify; line-height: 1.6;"><span style="font-size: 12pt; font-family: \'Times New Roman\', serif; color: black;">&nbsp;</span></p>\n\n                    <p style="margin: 0; font-family: \'Times New Roman\', serif; font-size: 12pt; text-align: justify; line-height: 1.6;"><span style="font-size: 12pt; font-family: \'Times New Roman\', serif; color: black;">Considerando ainda a comunica\xe7\xe3o, datada\n                            do mesmo dia, ou seja, \u2026 de \u2026\u2026\u2026\u2026., via email, da Unidade de Servi\xe7o da IGJ no\n                            casino, sobre o mesmo assunto, referenciado no par\xe1grafo anterior, cuja c\xf3pia\n                            se anexa;</span></p>\n\n                    <p style="margin: 0; font-family: \'Times New Roman\', serif; font-size: 12pt; text-align: justify; line-height: 1.6;"><span style="font-size: 12pt; font-family: \'Times New Roman\', serif; color: black;">&nbsp;</span></p>\n\n                    <p style="margin: 0; font-family: \'Times New Roman\', serif; font-size: 12pt; text-align: justify; line-height: 1.6;"><span style="font-size: 12pt; font-family: \'Times New Roman\', serif; color: black;">No uso da faculdade conferida pelo n.\xba 9\n                            do artigo 63.\xba da Lei n.\xba 62/VII/2010, de 31 de maio, que altera a Lei n.\xba\n                            77/VII/2005 de 16 de agosto, que estabelece o Regime Jur\xeddico da Explora\xe7\xe3o de\n                            Jogos de Fortuna ou Azar;</span></p>\n\n                    <p style="margin: 0; font-family: \'Times New Roman\', serif; font-size: 12pt; text-align: justify; line-height: 1.6;"><span style="font-size: 12pt; font-family: \'Times New Roman\', serif; color: black;">&nbsp;</span></p>\n\n                    <p style="margin: 0; font-family: \'Times New Roman\', serif; font-size: 12pt; text-align: justify; line-height: 1.6;"><span style="font-size: 12pt; font-family: \'Times New Roman\', serif; color: black;">Determino:</span></p>\n\n                    <p style="margin: 0; font-family: \'Times New Roman\', serif; font-size: 12pt; text-align: justify; line-height: 1.6;"><span style="font-size: 12pt; font-family: \'Times New Roman\', serif; color: black;">&nbsp;</span></p>\n\n                    <p style="margin: 0 0 8px 0.5in; font-family: \'Times New Roman\', serif; font-size: 12pt; text-align: justify; text-indent: -0.25in; line-height: 1.6;"><span style="font-size: 12pt; font-family: \'Times New Roman\', serif; color: black;">1.&nbsp;&nbsp;&nbsp; Um(a)\n                            ').concat("D"==i?"Decis\xe3o":"C"==i?"Contraordena\xe7\xe3o":"I"==i?"Inquerito":"Averigua\xe7\xe3o Sum\xe1ria"," para apurar a veracidade dos factos apresentados pela\n                            comunica\xe7\xe3o do chefe de sala do Casino Royal;</span></p>\n\n                    <p style=\"margin: 0 0 8px 0.5in; font-family: 'Times New Roman', serif; font-size: 12pt; text-align: justify; line-height: 1.6;\"><span style=\"font-size: 12pt; font-family: 'Times New Roman', serif; color: black;\">&nbsp;</span></p>\n\n                    <p style=\"margin: 0 0 8px 0.5in; font-family: 'Times New Roman', serif; font-size: 12pt; text-align: justify; text-indent: -0.25in; line-height: 1.6;\"><span style=\"font-size: 12pt; font-family: 'Times New Roman', serif; color: black;\">2.&nbsp;&nbsp;&nbsp; A/o Inspetora/a ").concat(n.map(e=>(null===e||void 0===e?void 0:e.ID)==o?null===e||void 0===e?void 0:e.NOME:null).join("")," como\n                            instrutora/o do Processo de Averigua\xe7\xe3o;</span></p>\n\n                    <p style=\"margin: 0 0 0 0.5in; font-family: 'Times New Roman', serif; font-size: 12pt; text-align: justify; line-height: 1.6;\"><span style=\"font-size: 12pt; font-family: 'Times New Roman', serif; color: black;\">&nbsp;</span></p>\n\n                    <p style=\"margin: 0 0 8px 0.5in; font-family: 'Times New Roman', serif; font-size: 12pt; text-align: justify; text-indent: -0.25in; line-height: 1.6;\"><span style=\"font-size: 12pt; font-family: 'Times New Roman', serif; color: black;\">3.&nbsp;&nbsp;&nbsp; Ouvir ambas as partes;</span></p>\n\n                    <p style=\"margin: 0 0 0 0.5in; font-family: 'Times New Roman', serif; font-size: 12pt; text-align: justify; line-height: 1.6;\"><span style=\"font-size: 12pt; font-family: 'Times New Roman', serif; color: black;\">&nbsp;</span></p>\n\n                    <p style=\"margin: 0 0 8px 0.5in; font-family: 'Times New Roman', serif; font-size: 12pt; text-align: justify; text-indent: -0.25in; line-height: 1.6;\"><span style=\"font-size: 12pt; font-family: 'Times New Roman', serif; color: black;\">4.&nbsp;&nbsp;&nbsp; Apresentar ao IGJ uma proposta de decis\xe3o.</span></p>\n\n\n\n                <p style=\"margin: 0; font-family: 'Times New Roman', serif; font-size: 12pt; line-height: 1.6;\">&nbsp;</p>\n\n                <p style=\"margin: 0; font-family: 'Times New Roman', serif; font-size: 12pt;\"><span style=\"font-size: 12pt; font-family: 'Times New Roman', serif;\">CUMPRA-SE.</span></p>\n\n                <p style=\"margin: 0; font-family: 'Times New Roman', serif; font-size: 12pt; line-height: 1.6;\">&nbsp;</p>\n\n                 <p style=\"margin: 0; font-family: 'Times New Roman', serif; font-size: 12pt;\"><span style=\"font-size: 12pt; font-family: 'Times New Roman', serif;\">Praia, ").concat(null===(O=Object(y.b)(s))||void 0===O?void 0:O.dia," de ").concat(null===(b=Object(y.b)(s))||void 0===b?void 0:b.mes," de ").concat(null===(h=Object(y.b)(s))||void 0===h?void 0:h.ano,"</span></p>\n\n                 <p style=\"margin: 0; font-family: 'Times New Roman', serif; font-size: 12pt; line-height: 1.6;\">&nbsp;</p>\n\n                 <p style=\"margin: 0; font-family: 'Times New Roman', serif; font-size: 12pt; line-height: 1.6;\">&nbsp;</p>\n\n                 <p style=\"margin: 0; font-family: 'Times New Roman', serif; font-size: 12pt; line-height: 1.6;\">&nbsp;</p>\n\n                 <p style=\"margin: 0; font-family: 'Times New Roman', serif; font-size: 12pt; line-height: 1.6;\">&nbsp;</p>\n\n                 <p style=\"margin: 0; font-family: 'Times New Roman', serif; font-size: 12pt; text-align: center;\"><span style=\"font-size: 12pt; font-family: 'Times New Roman', serif;\">O(a) Inspetor(a) Geral</span></p>\n\n                 <p style=\"margin: 0; font-family: 'Times New Roman', serif; font-size: 12pt; text-align: center;\"><span style=\"font-size: 12pt; font-family: 'Times New Roman', serif;\">________________________________</span></p>\n\n                 <p style=\"margin: 0; font-family: 'Times New Roman', serif; font-size: 12pt; line-height: 1.6;\">&nbsp;</p>\n\n                 <p style=\"margin: 0; font-family: 'Times New Roman', serif; font-size: 12pt; text-align: center;\"><span style=\"font-size: 12pt; font-family: 'Times New Roman', serif;\">").concat(null===e||void 0===e||null===(g=e.sgigjrelpessoaentidade)||void 0===g||null===(f=g.sgigjpessoa)||void 0===f?void 0:f.NOME,"</span></p>\n\n\n             ")}(O,_,P,$,q,n,S),se(g))}return Object(o.useEffect)(()=>{""!=t&&(async()=>{E(""),T(""),w(""),k(""),G("10"),M(""),H(""),Z("*"),$=new Date("2021-01-01"),console.log(n),g="";try{const e=await x.a.get("/sgigjprocessoexclusao/"+t);"200"==e.status&&(e.data.length>0&&(e.data[0].id=e.data[0].ID,N(e.data[0]),console.log(e.data[0]),e.data[0].sgigjdespachofinal.length>0?(E("D"),w(e.data[0].sgigjdespachofinal[0].REFERENCIA),M(e.data[0].sgigjdespachofinal[0].OBS),X(e.data[0].sgigjdespachofinal[0].COIMA),H(e.data[0].sgigjdespachofinal[0].INFRACAO_COIMA_ID),T(e.data[0].sgigjdespachofinal[0].PR_DECISAO_TP_ID),G(e.data[0].sgigjdespachofinal[0].PRAZO),k(Object(y.e)(e.data[0].sgigjdespachofinal[0].DATA)),Z(e.data[0].sgigjdespachofinal[0].CODIGO),g=e.data[0].sgigjdespachofinal[0].DESPACHO):e.data[0].sgigjprocessodespacho.length>0&&(E(e.data[0].sgigjprocessodespacho[0].TIPO_PROCESSO_EXCLUSAO),w(e.data[0].sgigjprocessodespacho[0].REFERENCIA),M(e.data[0].sgigjprocessodespacho[0].OBS),z(e.data[0].sgigjprocessodespacho[0].PESSOA_ID_TEMP),G(e.data[0].sgigjprocessodespacho[0].PRAZO),k(Object(y.e)(e.data[0].sgigjprocessodespacho[0].DATA)),Z(e.data[0].sgigjprocessodespacho[0].CODIGO),g=e.data[0].sgigjprocessodespacho[0].DESPACHO,e.data[0].sgigjrelcontraordenacaoinfracao.length>0&&H(e.data[0].sgigjrelcontraordenacaoinfracao[0].INFRACAO_COIMA_ID))),I(t),a(""),se(g),m(!0))}catch(e){console.error(e)}})()},[t]),Object(o.useEffect)(()=>{!async function(){try{const e=await x.a.get("/sgigjinfracaocoima");"200"==e.status&&te(e.data)}catch(e){console.error(e.response)}}()},[]),Object(b.jsxs)(d.a,{size:"xl",show:u,onHide:()=>m(!1),children:[Object(b.jsx)(d.a.Header,{closeButton:!0,children:Object(b.jsx)(d.a.Title,{as:"h5",children:"Despacho"})}),Object(b.jsx)(d.a.Body,{className:"newuserbox",children:Object(b.jsx)("form",{id:"criarDespacho",onSubmit:async function(e){if(e.preventDefault(),console.log(S),"C"==S||"I"==S||"A"==S){var t,a;const e={INSTRUTOR:q,REFERENCIA:P,OBS:U,DATA:F,DESPACHO:null===f||void 0===f||null===(t=f.current)||void 0===t?void 0:t.value,TIPO_PROCESSO_EXCLUSAO:S,TIPO:W,COIMA:V,INFRACAO_COIMA_ID:B};"C"==S&&(e.INFRACAO_COIMA_ID=B),console.log(g),console.log(e),console.log(null===f||void 0===f?void 0:f.current),console.log(null===f||void 0===f||null===(a=f.current)||void 0===a?void 0:a.value);try{"200"==(await x.a.put("/sgigjprocessoexclusao/".concat(D,"/despacho"),e)).status&&(p.a.success("Despacho Criado!",{duration:4e3}),s(),m(!1))}catch(i){console.error(i.response)}}if("D"==S){var o,n;const e={PR_DECISAO_TP_ID:R,REFERENCIA:P,OBS:U,DATA:F,OBS:U,COIMA:V,INFRACAO_COIMA_ID:B,DESPACHO:null===f||void 0===f||null===(o=f.current)||void 0===o?void 0:o.value,TIPO_PROCESSO_EXCLUSAO:S,TIPO:W};console.log(g),console.log(e),console.log(null===f||void 0===f?void 0:f.current),console.log(null===f||void 0===f||null===(n=f.current)||void 0===n?void 0:n.value);try{"200"==(await x.a.put("/sgigjprocessoexclusao/".concat(D,"/despachofinal"),e)).status&&(p.a.success("Despacho Criado!",{duration:4e3}),s(),m(!1))}catch(i){console.error(i.response)}}},children:Object(b.jsxs)(i.a,{children:[Object(b.jsx)(c.a,{sm:12,children:Object(b.jsxs)(j.a.Group,{style:{display:"flex",justifyContent:"center",flexWrap:"wrap"},children:[Object(b.jsx)(j.a.Check,{inline:!0,custom:!0,required:!0,type:"radio",label:"Inquerito",name:"supportedRadio",id:"inquerito",checked:"I"==S,onChange:()=>E("I")}),Object(b.jsx)(j.a.Check,{inline:!0,custom:!0,required:!0,type:"radio",label:"Averigua\xe7\xe3o Sum\xe1rio",name:"supportedRadio",id:"averiguacao",checked:"A"==S,onChange:()=>E("A")}),Object(b.jsx)(j.a.Check,{inline:!0,custom:!0,required:!0,type:"radio",label:"Contraordena\xe7\xe3o",name:"supportedRadio",id:"contraordenacao",checked:"C"==S,onChange:()=>E("C")}),Object(b.jsx)(j.a.Check,{inline:!0,custom:!0,required:!0,type:"radio",label:"Despacho Decis\xe3o",name:"supportedRadio",id:"despachofinal",checked:"D"==S,onChange:()=>E("D")})]})}),""==S?Object(b.jsx)(c.a,{sm:12,children:Object(b.jsx)("div",{className:"form-group fill",children:Object(b.jsx)("div",{style:{width:"500px",height:"300px"}})})}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(c.a,{sm:2,children:Object(b.jsxs)("div",{className:"form-group fill",children:[Object(b.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["C\xf3digo ",Object(b.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(b.jsx)("input",{disabled:!0,type:"text",className:"form-control",id:"Name",value:J,required:!0})]})}),"D"==S?Object(b.jsx)(c.a,{sm:4,children:Object(b.jsxs)("div",{className:"form-group fill",children:[Object(b.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Decis\xe3o ",Object(b.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(b.jsxs)("select",{id:"perfil",value:R,onChange:e=>{T(e.target.value)},className:"form-control",required:!0,"aria-required":"true",children:[Object(b.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),r.map(e=>Object(b.jsx)("option",{value:e.ID,children:e.DESIG},e.ID))]})]})}):Object(b.jsx)(c.a,{sm:4,children:Object(b.jsxs)("div",{className:"form-group fill",children:[Object(b.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Instrutor ",Object(b.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(b.jsx)(C.a,{className:"basic-single",classNamePrefix:"select",onChange:e=>z(e.value),name:"pessoa",options:n.filter(e=>{var t;return"gsmky0e7yakreut8ws32xv0tejykqo7d6jnv"==(null===e||void 0===e||null===(t=e.sgigjrelpessoaentidade[0])||void 0===t?void 0:t.ENTIDADE_ID)}),defaultValue:n.map(e=>e.ID==q?e:null),required:!0,menuPlacement:"auto",menuPosition:"fixed",placeholder:"Pessoa..."})]})}),Object(b.jsx)(c.a,{sm:3,children:Object(b.jsxs)("div",{className:"form-group fill",children:[Object(b.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Refer\xeancia ",Object(b.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(b.jsx)("input",{type:"number",onChange:e=>{w(e.target.value)},defaultValue:P,className:"form-control",placeholder:"Refer\xeancia...",required:!0})]})}),Object(b.jsx)(c.a,{sm:3,children:Object(b.jsxs)("div",{className:"form-group fill",children:[Object(b.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Data ",Object(b.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(b.jsx)("input",{type:"date",onChange:e=>{k(e.target.value)},defaultValue:F,className:"form-control",placeholder:"Data...",required:!0})]})}),Object(b.jsx)(c.a,{sm:10,children:Object(b.jsxs)("div",{className:"form-group fill",children:[Object(b.jsx)("label",{className:"floating-label",htmlFor:"Name",children:"Observa\xe7\xe3o"}),Object(b.jsx)("input",{type:"text",onChange:e=>{M(e.target.value)},defaultValue:U,className:"form-control",placeholder:"Observa\xe7\xe3o..."})]})}),Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(c.a,{sm:4,children:Object(b.jsxs)("div",{className:"form-group fill",children:[Object(b.jsx)("label",{className:"floating-label",htmlFor:"Name",children:"Coima"}),Object(b.jsx)("input",{type:"number",defaultValue:V,onChange:e=>{X(e.target.value)},className:"form-control",placeholder:"Coima..."})]})})}),Object(b.jsx)(c.a,{sm:12,children:Object(b.jsxs)("div",{className:"form-group fill",children:[Object(b.jsx)("label",{className:"floating-label",htmlFor:"Name",children:"Despacho"}),Object(b.jsx)(A.a,{editorRef:e=>{},value:ae,config:{readonly:!1},ref:f,onChange:e=>(g=e,void console.log(g))})]})})]})]})})}),Object(b.jsxs)(d.a.Footer,{children:[Object(b.jsx)(l.a,{variant:"danger",onClick:()=>m(!1),children:"Fechar"}),Object(b.jsx)(l.a,{onClick:()=>oe(),variant:"primary",children:"Gerar texto"}),Object(b.jsx)(l.a,{onClick:()=>Y("SALVAR"),type:"submit",form:"criarDespacho",variant:"primary",children:"Guardar"}),Object(b.jsx)(l.a,{onClick:()=>Y("CONCLUIR"),type:"submit",form:"criarDespacho",variant:"primary",children:"Concluir"})]})]})};var E=function(e){var t,a;let{processo:s,isdepachofinal:n,setisdepachofinal:r,decisaolist:j,uploadlist:u}=e;const[m,O]=Object(o.useState)(""),[h,g]=Object(o.useState)(0),[f,v]=Object(o.useState)(""),[_,N]=Object(o.useState)("*"),[D,C]=Object(o.useState)(""),[I,S]=Object(o.useState)(""),[E,R]=Object(o.useState)(""),[T,P]=Object(o.useState)(""),[w,F]=Object(o.useState)(""),[k,L]=Object(o.useState)(""),[G,U]=Object(o.useState)(""),[M,q]=Object(o.useState)([]);const[z,B]=Object(o.useState)([]);let H="";Object(o.useEffect)(()=>{var e,t,a,o,n,i,c,l;if((console.log(s),0!==Object.keys(s).length)&&(s.sgigjprocessodespacho.length>0&&(null===(e=s.sgigjprocessodespacho[0])||void 0===e?void 0:e.sgigjrelprocessoinstrutor.length)>0&&(null===(t=s.sgigjprocessodespacho[0])||void 0===t||null===(a=t.sgigjrelprocessoinstrutor[0])||void 0===a?void 0:a.sgigjrelprocessoinstrucao.length)>0))if(v(null===(o=s.sgigjprocessodespacho[0])||void 0===o||null===(n=o.sgigjrelprocessoinstrutor[0])||void 0===n?void 0:n.sgigjrelprocessoinstrucao[0].ID),(null===(i=s.sgigjprocessodespacho[0])||void 0===i||null===(c=i.sgigjrelprocessoinstrutor[0])||void 0===c||null===(l=c.sgigjrelprocessoinstrucao[0])||void 0===l?void 0:l.sgigjprocessodespacho.length)>0){var r,d,j,u;const e=null===(r=s.sgigjprocessodespacho[0])||void 0===r||null===(d=r.sgigjrelprocessoinstrutor[0])||void 0===d||null===(j=d.sgigjrelprocessoinstrucao[0])||void 0===j?void 0:j.sgigjprocessodespacho[0];H=e.DESPACHO,C(Object(y.e)(e.DATA)),R(Object(y.e)(e.DATA_FIM)),S(Object(y.e)(e.DATA_INICIO)),F(e.PR_EXCLUSAO_PERIODO_ID),P(e.PR_DECISAO_TP_ID),N(e.CODIGO),U(e.INFRACAO_COIMA_ID),L(e.COIMA),g(null===(u=e.sgigjprexclusaoperiodo)||void 0===u?void 0:u.NUM_DIAS)}else{var p,m,O,b;H=V,console.log(null===(p=s.sgigjprocessodespacho[0])||void 0===p||null===(m=p.sgigjrelprocessoinstrutor[0])||void 0===m?void 0:m.sgigjrelprocessoinstrucao[0].PR_DECISAO_TP_ID),P(null===(O=s.sgigjprocessodespacho[0])||void 0===O||null===(b=O.sgigjrelprocessoinstrutor[0])||void 0===b?void 0:b.sgigjrelprocessoinstrucao[0].PR_DECISAO_TP_ID)}},[s]);const[V,X]=Object(o.useState)(),J=Object(o.useRef)(null);Object(o.useEffect)(()=>{let e=new Date(I);e.setDate(e.getDate()+h)},[I,h]),Object(o.useEffect)(()=>{!async function(){try{const e=await x.a.get("/sgigjprexclusaoperiodo");"200"==e.status&&q(e.data)}catch(e){console.error(e.response)}}(),async function(){try{const e=await x.a.get("/sgigjinfracaocoima");"200"==e.status&&B(e.data)}catch(e){console.error(e.response)}}()},[]);const[Z,K]=Object(o.useState)(),[Q,W]=Object(o.useState)(!1);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)(d.a,{size:"xl",show:n,onHide:()=>r(!1),children:[Object(b.jsx)(d.a.Header,{closeButton:!0,children:Object(b.jsx)(d.a.Title,{as:"h5",children:"Despacho Decis\xe3o"})}),Object(b.jsx)(d.a.Body,{className:"newuserbox",children:Object(b.jsx)("form",{id:"onSubmit",onSubmit:async function(e){var t;if(e.preventDefault(),(null===s||void 0===s||null===(t=s.sgigjprocessodespacho)||void 0===t?void 0:t.length)>0){var a,o,n;if("C"==(null===s||void 0===s||null===(a=s.sgigjprocessodespacho[0])||void 0===a?void 0:a.TIPO_PROCESSO_EXCLUSAO)){var i,c;const e={PR_EXCLUSAO_PERIODO_ID:w,PR_DECISAO_TP_ID:T,DATA:D,COIMA:k,INFRACAO_COIMA_ID:G,DESPACHO:null===J||void 0===J||null===(i=J.current)||void 0===i?void 0:i.value,DATA_INICIO:I,DATA_FIM:E,TIPO:"CONCLUIR"==m?"CONCLUIR":null===s||void 0===s||null===(c=s.sgigjprocessodespacho[0])||void 0===c?void 0:c.TIPO_PROCESSO_EXCLUSAO};try{"200"==(await x.a.put("/sgigjrelprocessoinstrucaocontraordenacao/".concat(f,"/despacho"),e)).status&&(p.a.success("Documento Guardado!",{duration:4e3}),u(),r(!1))}catch(j){console.error(j.response)}}if("A"==(null===s||void 0===s||null===(o=s.sgigjprocessodespacho[0])||void 0===o?void 0:o.TIPO_PROCESSO_EXCLUSAO)||"I"==(null===s||void 0===s||null===(n=s.sgigjprocessodespacho[0])||void 0===n?void 0:n.TIPO_PROCESSO_EXCLUSAO)){var l,d;const e={PR_EXCLUSAO_PERIODO_ID:w,PR_DECISAO_TP_ID:T,DATA:D,COIMA:k,INFRACAO_COIMA_ID:G,DESPACHO:null===J||void 0===J||null===(l=J.current)||void 0===l?void 0:l.value,DATA_INICIO:I,DATA_FIM:E,TIPO:"CONCLUIR"==m?"CONCLUIR":null===s||void 0===s||null===(d=s.sgigjprocessodespacho[0])||void 0===d?void 0:d.TIPO_PROCESSO_EXCLUSAO};try{"200"==(await x.a.put("/sgigjrelprocessoinstrucao/".concat(f,"/despacho"),e)).status&&(u(),r(!1))}catch(j){console.error(j.response)}}}},children:Object(b.jsxs)(i.a,{children:[Object(b.jsx)(c.a,{sm:2,children:Object(b.jsxs)("div",{className:"form-group fill",children:[Object(b.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["C\xf3digo ",Object(b.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(b.jsx)("input",{disabled:!0,type:"text",className:"form-control",id:"Name",value:_,required:!0})]})}),Object(b.jsx)(c.a,{sm:6,children:Object(b.jsxs)("div",{className:"form-group fill",children:[Object(b.jsx)("label",{className:"floating-label",htmlFor:"Name",children:"Decis\xe3o"}),Object(b.jsxs)("select",{id:"perfil",value:T,onChange:e=>{P(e.target.value)},className:"form-control","aria-required":"true",children:[Object(b.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),j.map(e=>Object(b.jsx)("option",{value:e.ID,children:e.DESIG},e.ID))]})]})}),Object(b.jsx)(c.a,{sm:4,children:Object(b.jsxs)("div",{className:"form-group fill",children:[Object(b.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Data ",Object(b.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(b.jsx)("input",{type:"date",value:D,onChange:e=>{C(e.target.value)},className:"form-control",id:"Name",required:!0})]})}),(null===s||void 0===s||null===(t=s.sgigjprocessodespacho)||void 0===t?void 0:t.length)>0&&"C"==(null===s||void 0===s||null===(a=s.sgigjprocessodespacho[0])||void 0===a?void 0:a.TIPO_PROCESSO_EXCLUSAO)?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(c.a,{sm:8,children:Object(b.jsxs)("div",{className:"form-group fill",children:[Object(b.jsx)("label",{className:"floating-label",htmlFor:"Name",children:"Infra\xe7\xe3o "}),Object(b.jsxs)("select",{id:"perfil",value:G,onChange:e=>{U(e.target.value)},className:"form-control",required:!0,"aria-required":"true",children:[Object(b.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),z.map(e=>{var t;return Object(b.jsx)("option",{value:e.ID,children:null===e||void 0===e||null===(t=e.sgigjprinfracaotp)||void 0===t?void 0:t.DESIG},e.ID)})]})]})}),Object(b.jsx)(c.a,{sm:4,children:Object(b.jsxs)("div",{className:"form-group fill",children:[Object(b.jsx)("label",{className:"floating-label",htmlFor:"Name",children:"Coima "}),Object(b.jsx)("input",{maxLength:"128",type:"number",onChange:e=>{L(e.target.value)},defaultValue:k,className:"form-control",placeholder:"Valor...",required:!0})]})})]}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(c.a,{sm:4,children:Object(b.jsxs)("div",{className:"form-group fill",children:[Object(b.jsx)("label",{className:"floating-label",htmlFor:"Name",children:"Per\xedodo Exclus\xe3o "}),Object(b.jsxs)("select",{onChange:e=>{!function(e){let t=e.split(";:;");g(parseInt(t[1])),F(t[0]),console.log(w)}(e.target.value)},value:w+";:;"+h,className:"form-control",id:"pessoa","aria-required":"true",children:[Object(b.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),M.map(e=>Object(b.jsx)("option",{title:e.CODIGO,value:e.ID+";:;"+e.NUM_DIAS,children:e.DESIG},e.ID))]})]})}),Object(b.jsx)(c.a,{sm:4,children:Object(b.jsxs)("div",{className:"form-group fill",children:[Object(b.jsx)("label",{className:"floating-label",htmlFor:"Name",children:"Data In\xedcio "}),Object(b.jsx)("input",{type:"date",onChange:e=>{const t=new Date(e.target.value);if(h&&t){t.setDate(t.getDate()+h);const e=t.toISOString().split("T")[0];R(e)}S(e.target.value)},value:I,className:"form-control",placeholder:"Data..."})]})}),Object(b.jsx)(c.a,{sm:4,children:Object(b.jsxs)("div",{className:"form-group fill",children:[Object(b.jsx)("label",{className:"floating-label",htmlFor:"Name",children:"Data Fim "}),Object(b.jsx)("input",{type:"date",value:E,onChange:e=>{R(e.target.value)},className:"form-control",placeholder:"Data..."})]})})]}),Object(b.jsx)(c.a,{sm:12,children:Object(b.jsxs)("div",{className:"form-group fill",children:[Object(b.jsx)("label",{className:"floating-label",htmlFor:"Name",children:"Despacho"}),Object(b.jsx)(A.a,{editorRef:e=>{},value:V,config:{readonly:!1},ref:J,onChange:e=>(async e=>{try{const t=await x.a.get("/despacho-desicao/referencia");"200"==t.status&&(X('\n            <h4 style="font-weight: 700;text-align: center;margin-top: 10px;margin-bottom: 35px;">DESPACHO/DECIS\xc3O N.\xba '.concat(t.data.message,'<h4>\n                                        \n               \n    <p style="text-align: justify;line-height: 1.5;">Considerando o Relat\xf3rio Final do Processo de Averigua\xe7\xe3o Sum\xe1ria, para o apuramento da veracidade dos factos apresentados pela dire\xe7\xe3o do casino;</p>\n    \n    <p style="text-align: justify;line-height: 1.5;">Atendendo que o averiguado reagiu/n\xe3o em sua defesa, durante o prazo legal atribu\xeddo, para indicar os motivos justificativos da sua reclama\xe7\xe3o, bem como as testemunhas que pudessem ser ouvidas;</p>\n    \n    <p style="text-align: justify;line-height: 1.5;">Tendo em conta que a acusa\xe7\xe3o apontada pela concession\xe1ria de que o comportamento do Sr. ..................................................... se revelou inconveniente, inapropriado e enquadr\xe1vel dentro dos atos il\xedcitos administrativos de clientes das concession\xe1rias, ter sido provada;</p>\n    \n    <p style="text-align: justify;line-height: 1.5;">No uso da faculdade conferida pelos n.\xbas 10 e 13 do artigo 63.\xba da Lei 77/VI/2005 de 16 de agosto, valido a decis\xe3o tomada pela concession\xe1ria de interdi\xe7\xe3o provis\xf3ria e perante os factos apurados, constantes do Processo folhas 0 a folhas 22, para o qual se remete para todos os efeitos legais, determino a interdi\xe7\xe3o de acesso ao Casino Royal do Sr. ............................ por um per\xedodo de \u2026 meses/anos, a contar da data da ocorr\xeancia do facto (.../.../20...);</p>\n    \n    \n    <p style="text-align: justify;line-height: 1.5;">Determino ainda:\n    \n        1. A presta\xe7\xe3o de informa\xe7\xf5es pela concession\xe1ria ao Servi\xe7o de Inspe\xe7\xe3o de Jogos do desfecho da investiga\xe7\xe3o referenciada, relativa a poss\xedveis fraudes ao Grupo de M\xe1quinas em causa. \n    \n        2. Notifique-se a Dire\xe7\xe3o do Casino Royal e o averiguado do Despacho da Decis\xe3o Final\n    \n        3. Deve a Dire\xe7\xe3o do Casino dar de imediato conhecimento \xe0 rece\xe7\xe3o do mesmo, devendo esta, bem como o Diretor Geral do casino estarem cientes das suas responsabilidades se permitirem o acesso do referido frequentador ao espa\xe7o confinado ao jogo;\n    \n        4. CUMPRA-SE\n    </p>\n    \n    <p style="text-align: justify;line-height: 1.5;">Praia, ......... de .......... de 20.....</p>\n    ')),H=e)}catch(t){}})(e)})]})})]})})}),Object(b.jsxs)(d.a.Footer,{children:[Object(b.jsx)(l.a,{variant:"danger",onClick:()=>r(!1),children:"Fechar"}),Object(b.jsx)(l.a,{variant:"primary",onClick:()=>async function(e){let t=[];console.log(e);try{const n=await x.a.get("/sgigjprocessoexclusao/"+s.ID);"200"==n.status&&n.data.length>0&&(n.data[0].id=n.data[0].ID,n.data[0].sgigjprocessodespacho.length>0&&n.data[0].sgigjprocessodespacho[0].sgigjrelprocessoinstrutor.length>0&&n.data[0].sgigjprocessodespacho[0].sgigjrelprocessoinstrutor[0].sgigjrelprocessoinstrucao.length>0&&(t=n.data[0].sgigjprocessodespacho[0].sgigjrelprocessoinstrutor[0].sgigjrelprocessoinstrucao[0].sgigjrelinstrutorpeca));var a=[];if(t.length>0)for(let e=0;e<t.length;e++){const s=t[e];for(let e=0;e<s.sgigjreldocumento.length;e++){const t=s.sgigjreldocumento[e];a.push(t.DOC_URL)}null!=s.URL_DOC&&a.push(s.URL_DOC)}console.log("GO_ER");const i=await x.a.get("/juntada/"+e);if("200"==i.status){const e=i.data.buffer.data,t=new Uint8Array(e).buffer;var o=new Blob([t],{type:"application/pdf"});const a=URL.createObjectURL(o);console.log(o),K(a),W(!0)}}catch(n){console.error(n)}}(f),children:"Dados Proc"}),Object(b.jsx)(l.a,{type:"submit",form:"onSubmit",variant:"primary",onClick:()=>O("SALVAR"),children:"Guardar"}),Object(b.jsx)(l.a,{type:"submit",form:"onSubmit",variant:"primary",onClick:()=>O("CONCLUIR"),children:"Concluir"})]})]}),Object(b.jsx)(d.a,{size:"xl",show:Q,onHide:()=>W(!1),children:Object(b.jsx)("iframe",{height:1e3,src:"".concat(Z),title:"pdf-viewer",width:"100%s"})})]})},R=a(824),T=a(246),P=a(176),w=a.n(P),F=()=>{const[e,t]=Object(o.useState)(!1),[a,s]=Object(o.useState)([]);return Object(o.useEffect)(()=>{!async function(){const e=w()().tz(T.a);try{const c=await x.a.get("/tempolimiteprocessoexclusao");if("200"==c.status&&(console.log(c.data.prazovisado.length),c.data.prazolimite.length>0||c.data.prazovisado.length>0)){let l=[];console.log(l);for(let t=0;t<c.data.prazovisado.length;t++){var a,o,n;const s=c.data.prazovisado[t],i=null===s||void 0===s||null===(a=s.sgigjprocessodespacho[0])||void 0===a||null===(o=a.sgigjrelprocessoinstrutor[0])||void 0===o||null===(n=o.sgigjrelprocessoinstrucao[0])||void 0===n?void 0:n.sgigjrelinstrutorpeca;for(let t=0;t<i.length;t++)if("0a2557ff1b8e966ae041183b8bbcb4d2ce1d"==i[t].PR_PECAS_PROCESSUAIS_ID){const a=""+i[t].DT_REGISTO,o=e.diff(w()(a.slice(0,10)).tz(T.a),"days");o>0&&l.push({ID:s.ID,CODIGO:s.CODIGO,VISADO:s.sgigjpessoa.NOME,PRAZO:o})}}for(let t=0;t<c.data.prazolimite.length;t++){var i;const a=c.data.prazolimite[t],s=null===a||void 0===a?void 0:a.sgigjprocessodespacho[0];if((null===(i=l.find(e=>e.ID===a.ID))||void 0===i?void 0:i.ID)!=a.ID){const t=""+s.DATA,o=e.diff(w()(t.slice(0,10)).tz(T.a),"days");o>0&&l.push({ID:a.ID,CODIGO:a.CODIGO,VISADO:a.sgigjpessoa.NOME,PRAZO:o})}console.log(s.DATA)}l.length>0&&(s(l),t(!0))}}catch(c){console.error(c.response)}}()},[]),Object(b.jsxs)(d.a,{size:"g",show:e,onHide:()=>t(!1),children:[Object(b.jsx)(d.a.Header,{closeButton:!0,children:Object(b.jsx)(d.a.Title,{as:"h5",children:"Prazo"})}),a.map(e=>Object(b.jsx)(d.a.Body,{className:"newuserbox",style:{paddingBottom:"0px"},children:Object(b.jsxs)(i.a,{style:{width:"100%",overflow:"auto"},children:[Object(b.jsx)(c.a,{sm:4,children:Object(b.jsxs)("div",{className:"form-group fill",children:[Object(b.jsx)("label",{className:"floating-label",htmlFor:"Name",children:"Refer\xeancia"}),Object(b.jsx)("span",{style:{overflow:"auto",height:"auto",minHeight:"33px"},className:"form-control",children:null===e||void 0===e?void 0:e.REF})]})}),Object(b.jsx)(c.a,{sm:5,children:Object(b.jsxs)("div",{className:"form-group fill",children:[Object(b.jsx)("label",{className:"floating-label",htmlFor:"Name",children:"Visado"}),Object(b.jsx)("span",{style:{overflow:"auto",height:"auto",minHeight:"33px"},className:"form-control",children:null===e||void 0===e?void 0:e.VISADO})]})}),Object(b.jsx)(c.a,{sm:3,children:Object(b.jsxs)("div",{className:"form-group fill",children:[Object(b.jsx)("label",{className:"floating-label",htmlFor:"Name",children:"Prazo"}),Object(b.jsx)("span",{style:{overflow:"auto",height:"auto",minHeight:"33px"},className:"form-control",children:null===e||void 0===e?void 0:e.PRAZO})]})})]})},null===e||void 0===e?void 0:e.ID))]})},k=a(842);var L=e=>{let{label:t,required:a,error:s,touched:o,children:i,className:c}=e;var l=o&&s;return Object(b.jsxs)("div",{className:"form-field ".concat(c||""),children:[t&&Object(b.jsxs)("label",{className:"form-field__label",children:[t,a&&Object(b.jsx)("span",{className:"form-field__required",children:"*"})]}),n.a.Children.map(i,function(e){if(!e)return e;if("string"===typeof e.type||e.props){var t="";return l?t="field-invalid":o&&!s&&(t="field-valid"),e.props&&e.props.className?n.a.cloneElement(e,{className:e.props.className+" "+t}):e}return e}),l&&Object(b.jsxs)("div",{className:"form-field__error",children:[Object(b.jsx)("i",{className:"feather icon-alert-circle",style:{fontSize:11}}),s]})]})},G=a(843),U=G.a({DATA:G.b().required("Data e obrigatoria"),DESPACHO:G.b().required("Despacho e obrigatorio")});G.a({DATA:G.b().required("Data e obrigatoria"),tipo_pedido:G.b().required("Selecione o tipo de pedido")}),G.a({REFERENCIA:G.b().required("Referencia e obrigatoria"),DATA:G.b().required("Data e obrigatoria"),tipo_pedido:G.b().required("Selecione o tipo de despacho")});var M=e=>{let{processo_ID:t,setprocesso_ID:a,uploadlist:s,pessoalist:n,decisaolist:r,isOpenEncerrar:j,setIsOpenEncerrar:u,instrucao_ID:m}=e;const O=Object(o.useRef)(null),[h,g]=Object(o.useState)("");return Object(b.jsxs)(d.a,{size:"xl",show:j,onHide:()=>u(!1),children:[Object(b.jsx)(d.a.Header,{closeButton:!0,children:Object(b.jsx)(d.a.Title,{as:"h5",children:"Termo de Encerramento"})}),Object(b.jsx)(k.a,{initialValues:{DATA:"",DESPACHO:""},validationSchema:U,onSubmit:async function(e){var a={DATA:e.DATA,DESPACHO:e.DESPACHO,PROCESSO_EXCLUSAO_ID:t};try{"200"==(await x.a.put("/sgigjprocessoexclusao/".concat(m,"/termo-encerramento"),a)).status?(p.a.success("Termo de Encerramento enviado!",{duration:4e3}),s(),u(!1)):p.a.error("Erro ao enviar Termo de Encerramento",{duration:4e3})}catch(o){console.error(o.response),p.a.error("Erro ao enviar Termo de Encerramento",{duration:4e3})}},children:e=>{let{values:t,errors:a,touched:s,handleChange:o,handleBlur:n,handleSubmit:r,setFieldValue:j,setFieldTouched:p}=e;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(d.a.Body,{className:"newuserbox",children:Object(b.jsx)("form",{id:"submeterTermoEncerramento",onSubmit:r,children:Object(b.jsxs)(i.a,{children:[Object(b.jsx)(c.a,{sm:3,children:Object(b.jsx)(L,{label:"Data",required:!0,error:a.DATA,touched:s.DATA,children:Object(b.jsx)("input",{type:"date",name:"DATA",onChange:o,onBlur:n,value:t.DATA,className:"form-control",placeholder:"Data..."})})}),Object(b.jsx)(c.a,{sm:12,children:Object(b.jsx)(L,{label:"Despacho",required:!0,error:a.DESPACHO,touched:s.DESPACHO,children:Object(b.jsx)(A.a,{ref:O,value:h,config:{readonly:!1},onChange:function(e){j("DESPACHO",e),p("DESPACHO",!0,!1)}})})})]})})}),Object(b.jsxs)(d.a.Footer,{children:[Object(b.jsx)(l.a,{variant:"danger",onClick:()=>u(!1),children:"Fechar"}),Object(b.jsx)(l.a,{onClick:()=>(async e=>{try{const t=await x.a.get("/termo-encerramento/texto");"200"==t.status&&t.data.OBS&&(g(t.data.OBS),e("DESPACHO",t.data.OBS))}catch(t){}})(j),variant:"primary",children:"Gerar texto"}),Object(b.jsx)(l.a,{type:"submit",form:"submeterTermoEncerramento",variant:"primary",children:"Concluir"})]})]})}})]})};const q={grey:{label:"Criado",className:"status-badge--criado"},green:{label:"Desp. Inicial",className:"status-badge--despacho"},orange:{label:"Instrucao",className:"status-badge--instrucao"},blue:{label:"Desp. Final",className:"status-badge--final"},black:{label:"Encerrado",className:"status-badge--encerrado"}};var z=e=>{let{colorx:t}=e;const a=q[t]||q.grey;return Object(b.jsxs)("span",{className:"status-badge ".concat(a.className),children:[Object(b.jsx)("span",{className:"status-badge__dot"}),Object(b.jsx)("span",{children:a.label})]})};const B=[{key:"grey",label:"Criado",icon:"feather icon-file-plus"},{key:"green",label:"Despacho",icon:"feather icon-check-circle"},{key:"orange",label:"Instrucao",icon:"feather icon-clipboard"},{key:"blue",label:"Desp. Final",icon:"feather icon-award"},{key:"black",label:"Encerrado",icon:"feather icon-lock"}],H={grey:0,green:1,orange:2,blue:3,black:4};var V=e=>{let{colorx:t,variant:a="compact"}=e;const s=void 0!==H[t]?H[t]:0,o="detail"===a?"processo-stepper--detail":"processo-stepper--compact";return Object(b.jsx)("div",{className:"processo-stepper ".concat(o),children:B.map((e,t)=>{var o="processo-step--pending";return t<s&&(o="processo-step--completed"),t===s&&(o="processo-step--current"),Object(b.jsx)("div",{className:"processo-step ".concat(o),children:"detail"===a?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"processo-step__top",children:[t>0&&Object(b.jsx)("div",{className:"processo-step__connector"}),Object(b.jsx)("div",{className:"processo-step__circle",children:Object(b.jsx)("i",{className:e.icon})})]}),Object(b.jsx)("div",{className:"processo-step__label",children:e.label})]}):Object(b.jsxs)(b.Fragment,{children:[t>0&&Object(b.jsx)("div",{className:"processo-step__connector"}),Object(b.jsx)("div",{className:"processo-step__circle",title:e.label,children:t+1})]})},e.key)})})},X={criacao:"processo-timeline__marker--criacao",despacho:"processo-timeline__marker--despacho",instrucao:"processo-timeline__marker--instrucao",final:"processo-timeline__marker--final",encerrado:"processo-timeline__marker--encerrado"},J={criacao:"feather icon-file-plus",despacho:"feather icon-check-circle",instrucao:"feather icon-clipboard",final:"feather icon-award",encerrado:"feather icon-lock"};var Z=function(e){let{processo:t}=e;if(!t)return null;var a=function(e){var t=[];if(t.push({type:"criacao",title:"Pedido Criado",date:e.DATA2,desc:e.DESCR||"",doc:e.URL_DOC_GERADO,completed:!0}),e.despacho){var a=e.despacho,s=[];a.REFERENCIA&&s.push("Ref: "+a.REFERENCIA),a.PRAZO&&s.push("Prazo: "+a.PRAZO),a.INSTRUTOR&&s.push("Instrutor: "+a.INSTRUTOR),t.push({type:"despacho",title:"Despacho Inicial",date:a.DATA,desc:s.join(" | "),doc:a.DOC,completed:!0})}if(e.instrucao&&e.instrucao.list&&e.instrucao.list.length>0){var o=e.instrucao.list.map(function(e){var t;return(null===e||void 0===e||null===(t=e.sgigjprpecasprocessual)||void 0===t?void 0:t.DESIG)||"Pe\xe7a"});t.push({type:"instrucao",title:"Instru\xe7\xe3o",date:"",desc:o.join(", "),completed:!0})}if(e.despachofinal){var n=e.despachofinal;t.push({type:"final",title:"Despacho Final",date:n.DATA,desc:n.DESICAO?"Decis\xe3o: "+n.DESICAO:"",doc:n.DOC,completed:!0})}return t}(t);return 0===a.length?null:Object(b.jsx)("div",{className:"processo-timeline",children:a.map(function(e,t){var s=t===a.length-1;return Object(b.jsxs)("div",{className:"processo-timeline__event",children:[Object(b.jsxs)("div",{className:"processo-timeline__marker-wrap",children:[Object(b.jsx)("div",{className:"processo-timeline__marker "+(X[e.type]||""),children:Object(b.jsx)("i",{className:J[e.type]||"feather icon-circle"})}),!s&&Object(b.jsx)("div",{className:"processo-timeline__line processo-timeline__line--completed"})]}),Object(b.jsxs)("div",{className:"processo-timeline__card",children:[e.date&&Object(b.jsx)("div",{className:"processo-timeline__date",children:e.date}),Object(b.jsx)("div",{className:"processo-timeline__title",children:e.title}),e.desc&&Object(b.jsx)("div",{className:"processo-timeline__desc",children:e.desc}),e.doc&&Object(b.jsxs)("a",{className:"processo-timeline__doc-link",href:e.doc+"?alt=media&token=0",target:"_blank",rel:"noopener noreferrer",children:[Object(b.jsx)("i",{className:"feather icon-external-link"}),"Abrir Documento"]})]})]},t)})})},K=["grey","green","orange","blue","black"],Q=function(e){let{isOpen:t,onToggle:a,activeStatuses:s,onStatusToggle:o,dataDe:n,dataAte:i,onDateDeChange:c,onDateAteChange:l,onClear:r}=e;var d=s.length>0||n||i;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("button",{type:"button",className:"advanced-filters__toggle"+(t?" advanced-filters__toggle--open":""),onClick:a,children:[Object(b.jsx)("i",{className:"feather icon-filter"}),"Filtros",d&&Object(b.jsxs)("span",{style:{marginLeft:4,color:"#2B7FB9",fontWeight:700},children:["(",s.length+(n?1:0)+(i?1:0),")"]}),Object(b.jsx)("i",{className:"feather icon-chevron-down"})]}),Object(b.jsx)("div",{className:"advanced-filters"+(t?" advanced-filters--open":""),children:Object(b.jsxs)("div",{className:"advanced-filters__body",children:[Object(b.jsxs)("div",{className:"advanced-filters__group",children:[Object(b.jsx)("span",{className:"advanced-filters__label",children:"Estado"}),Object(b.jsx)("div",{className:"advanced-filters__status-row",children:K.map(function(e){var t=-1!==s.indexOf(e);return Object(b.jsx)("div",{className:"filter-status-btn"+(t?" filter-status-btn--active":""),onClick:function(){o(e)},children:Object(b.jsx)(z,{colorx:e})},e)})})]}),Object(b.jsxs)("div",{className:"advanced-filters__group",children:[Object(b.jsx)("span",{className:"advanced-filters__label",children:"De"}),Object(b.jsx)("input",{type:"date",className:"form-control form-control-sm",value:n,onChange:function(e){c(e.target.value)},style:{width:150}})]}),Object(b.jsxs)("div",{className:"advanced-filters__group",children:[Object(b.jsx)("span",{className:"advanced-filters__label",children:"At\xe9"}),Object(b.jsx)("input",{type:"date",className:"form-control form-control-sm",value:i,onChange:function(e){l(e.target.value)},style:{width:150}})]}),d&&Object(b.jsxs)("button",{type:"button",className:"advanced-filters__clear",onClick:r,children:[Object(b.jsx)("i",{className:"feather icon-x",style:{marginRight:3}}),"Limpar"]})]})})]})};a(860);const W="/processos/exclusaointerdicao";function Y(e){let{uploadList:t,columns:a,listAno:n,data:r,modalOpen:d}=e;const[j,u]=Object(o.useState)(""),[p,m]=Object(o.useState)(""),x=Object(o.useRef)(null),{permissoes:_}=Object(v.a)(),[N,D]=Object(o.useState)(),[C,I]=Object(o.useState)(!1),[A,S]=Object(o.useState)([]),[E,R]=Object(o.useState)(""),[T,P]=Object(o.useState)("");var w=Object(o.useMemo)(function(){var e=r;return A.length>0&&(e=e.filter(function(e){return-1!==A.indexOf(e.colorx)})),E&&(e=e.filter(function(e){return e.DATA&&e.DATA>=E})),T&&(e=e.filter(function(e){return e.DATA&&e.DATA<=T})),e},[r,A,E,T]);const{getTableProps:F,getTableBodyProps:k,headerGroups:L,prepareRow:G,globalFilter:U,setGlobalFilter:M,page:q,canPreviousPage:z,canNextPage:B,pageOptions:H,pageCount:V,gotoPage:X,nextPage:J,previousPage:Z,setPageSize:K,state:{pageIndex:Y,pageSize:$}}=Object(O.useTable)({columns:a,data:w,initialState:{pageIndex:0,pageSize:10}},O.useGlobalFilter,O.useSortBy,O.usePagination);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)(i.a,{className:"mb-3",children:[Object(b.jsxs)(c.a,{md:3,className:"d-flex align-items-center",children:["Mostrar",Object(b.jsx)("select",{className:"form-control w-auto mx-2",value:$,onChange:e=>{K(Number(e.target.value))},children:[5,10,20,30,40,50].map(e=>Object(b.jsx)("option",{value:e,children:e},e))})]}),Object(b.jsxs)(c.a,{md:9,className:"d-flex justify-content-end",children:[Object(b.jsxs)("div",{className:"d-flex align-items-center mr-2",children:[Object(b.jsx)("div",{className:"d-flex",children:Object(b.jsxs)("div",{className:"d-flex align-items-center mr-1",children:[Object(b.jsxs)("span",{className:"floating-label",htmlFor:"Name",children:["Ano:",Object(b.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(b.jsxs)("select",{onChange:e=>{var a;a=e.target.value,t(a)},className:"form-control",id:"perfil",required:!0,"aria-required":"true",children:[Object(b.jsx)("option",{value:"",children:" Selecione um Ano "}),n.map(e=>Object(b.jsx)("option",{value:e,children:e},e))]})]})}),""!==j||""!==p?Object(b.jsx)("div",{style:{cursor:"pointer"},onClick:()=>{u(""),m(""),t()},className:"ml-2",children:Object(b.jsx)("i",{className:"feather icon-x-circle"})}):""]}),Object(b.jsx)(h,{filter:U,setFilter:M}),Object(b.jsx)("div",{className:"ml-2",children:Object(b.jsx)(Q,{isOpen:C,onToggle:function(){I(!C)},activeStatuses:A,onStatusToggle:function(e){S(function(t){return-1!==t.indexOf(e)?t.filter(function(t){return t!==e}):t.concat([e])})},dataDe:E,dataAte:T,onDateDeChange:R,onDateAteChange:P,onClear:function(){S([]),R(""),P("")}})}),0==Object(y.s)(W,_,"Criar")?null:Object(b.jsxs)(l.a,{variant:"primary",className:"btn-sm btn-round has-ripple ml-2",onClick:d,children:[Object(b.jsx)("i",{className:"feather icon-plus"})," Adicionar"]})]})]}),Object(b.jsxs)(f.a,Object(s.a)(Object(s.a)({ref:x,striped:!0,bordered:!0,hover:!0,responsive:!0},F()),{},{children:[Object(b.jsx)("thead",{children:L.map(e=>Object(b.jsx)("tr",Object(s.a)(Object(s.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map(e=>Object(b.jsxs)("th",Object(s.a)(Object(s.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),Object(b.jsx)("span",{children:e.isSorted?e.isSortedDesc?Object(b.jsx)("span",{className:"feather icon-arrow-down text-muted float-right"}):Object(b.jsx)("span",{className:"feather icon-arrow-up text-muted float-right"}):""})]})))})))}),Object(b.jsx)("tbody",Object(s.a)(Object(s.a)({},k()),{},{children:q.map((e,t)=>(G(e),Object(b.jsx)("tr",Object(s.a)(Object(s.a)({},e.getRowProps()),{},{children:e.cells.map(e=>{const t=e.column.centered;return Object(b.jsx)("td",Object(s.a)(Object(s.a)({},e.getCellProps()),{},{className:t?"text-center":"text-right",children:e.render("Cell")}))})}))))}))]})),Object(b.jsxs)(i.a,{className:"justify-content-between",children:[Object(b.jsx)(c.a,{children:Object(b.jsxs)("span",{className:"d-flex align-items-center",children:["P\xe1gina"," ",Object(b.jsxs)("strong",{children:[" ",Y+1," de ",H.length," "]})," ","| Ir para a p\xe1gina:"," ",Object(b.jsx)("input",{type:"number",className:"form-control ml-2",defaultValue:Y+1,onChange:e=>{const t=e.target.value?Number(e.target.value)-1:0;X(t)},style:{width:"100px"}})]})}),Object(b.jsx)(c.a,{children:Object(b.jsxs)(g.a,{className:"justify-content-end",children:[Object(b.jsx)(g.a.First,{onClick:()=>X(0),disabled:!z}),Object(b.jsx)(g.a.Prev,{onClick:()=>Z(),disabled:!z}),Object(b.jsx)(g.a.Next,{onClick:()=>J(),disabled:!B}),Object(b.jsx)(g.a.Last,{onClick:()=>X(V-1),disabled:!B})]})})]})]})}t.default=()=>{const{permissoes:e,user:t,popUp_simnao:a}=Object(v.a)(),s=Object(_.i)(),[u,O]=(Object(_.g)(),Object(o.useState)(null)),{popUp_removerItem:h,popUp_alertaOK:g}=Object(v.a)(),[f,C]=Object(o.useState)("");var I=(new Date).toJSON().slice(0,10);const[T,P]=Object(o.useState)(""),[w,k]=Object(o.useState)(!1),[L,G]=Object(o.useState)(!1);let U="";const q=Object(o.useRef)(null),B=Object(o.useRef)(null),H=e=>{},X=n.a.useMemo(()=>[{Header:"Estado",accessor:"COLOR_STATUS",centered:!1},{Header:"Refer\xeancia",accessor:"REF",centered:!1},{Header:"Despacho",accessor:"TIPO_DESPACHO",centered:!0},{Header:"Entidade Decisora",accessor:"ENTIDADEREGISTO",centered:!0},{Header:"Pessoa",accessor:"PESSOAREGISTO",centered:!0},{Header:"Visado",accessor:"PESSOA",centered:!0},{Header:"Data",accessor:"DATA2",centered:!0},{Header:"A\xe7\xf5es",accessor:"action",centered:!0}],[]),[J,K]=Object(o.useState)(""),[Q,$]=Object(o.useState)(""),[ee,te]=Object(o.useState)(""),[ae,se]=Object(o.useState)(""),[oe,ne]=Object(o.useState)([]),[ie,ce]=Object(o.useState)(""),[le,re]=Object(o.useState)(""),[de,je]=Object(o.useState)([]),[ue,pe]=Object(o.useState)({}),[me,Oe]=Object(o.useState)(!1),[be,he]=Object(o.useState)([]);async function ge(){try{const t=await x.a.get("/sgigjpessoa");if("200"==t.status){for(var e=0;e<t.data.length;e++)t.data[e].value=t.data[e].ID,t.data[e].label=t.data[e].NOME;he(t.data)}}catch(t){console.error(t.response)}}const[fe,xe]=Object(o.useState)([]);const[ve,_e]=Object(o.useState)([]);const[ye,Ne]=Object(o.useState)([]);const[De,Ce]=Object(o.useState)([]);const[Ie,Ae]=Object(o.useState)([]);const[Se,Ee]=Object(o.useState)([]);const[Re,Te]=Object(o.useState)([]);const[Pe,we]=Object(o.useState)(""),[Fe,ke]=Object(o.useState)([]);async function Le(t){let a,o=[];try{if(a=t?await x.a.get("/sgigjprocessoexclusao?ENTIDADE_ID=".concat(s.id,"&ano=").concat(t)):await x.a.get("/sgigjprocessoexclusao?ENTIDADE_ID=".concat(s.id)),"200"==a.status){console.log(a.data);for(var i=0;i<a.data.length;i++){var c,l,r,d,j,u,p;const t=a.data[i].ID;a.data[i].id=a.data[i].ID,a.data[i].DATA2=Object(y.f)(a.data[i].DATA);let s=new Date(a.data[i].DATA);s&&!o.includes(s.getFullYear())&&o.push(s.getFullYear()),a.data[i].PESSOA=a.data[i].sgigjrelinterveniente.map(e=>e.sgigjpessoa.NOME).join(", "),a.data[i].ORIGEM=null===(c=a.data[i].sgigjprorigemtp)||void 0===c?void 0:c.DESIG,a.data[i].PESSOAREGISTO=null===(l=a.data[i].sgigjrelpessoaentidade)||void 0===l||null===(r=l.sgigjpessoa)||void 0===r?void 0:r.NOME,a.data[i].ENTIDADEREGISTO=null===(d=a.data[i])||void 0===d||null===(j=d.sgigjentidade)||void 0===j?void 0:j.DESIG;const x=a.data[i];let S="",R="grey",T=!1;try{var O,h,g,f,v,_;const e=a.data[i],t=null===e||void 0===e||null===(O=e.sgigjprocessodespacho)||void 0===O?void 0:O[0],s=null===t||void 0===t||null===(h=t.sgigjrelprocessoinstrutor)||void 0===h?void 0:h[0],o=null===s||void 0===s||null===(g=s.sgigjrelprocessoinstrucao)||void 0===g?void 0:g[0],n=null===e||void 0===e||null===(f=e.sgigjdespachofinal)||void 0===f?void 0:f[0];if("ENCERRADO"==e.ESTADO_ENCERRAMENTO)R="black";else if((null===e||void 0===e||null===(v=e.sgigjprocessodespacho)||void 0===v?void 0:v.length)>0){var N,D;if("I"==(null===t||void 0===t?void 0:t.TIPO_PROCESSO_EXCLUSAO)&&(S="Inqu\xe9rito"),"C"==(null===t||void 0===t?void 0:t.TIPO_PROCESSO_EXCLUSAO)&&(S="Contraordena\xe7\xe3o"),"A"==(null===t||void 0===t?void 0:t.TIPO_PROCESSO_EXCLUSAO)&&(S="Averigua\xe7\xe3o Sum\xe1ria"),null!=(null===t||void 0===t?void 0:t.URL_DOC_GERADO)&&(R="green"),(null===s||void 0===s||null===(N=s.sgigjrelprocessoinstrucao)||void 0===N?void 0:N.length)>0)if(null!=(null===o||void 0===o?void 0:o.RELATORIO_FINAL)&&(R="orange"),(null===o||void 0===o||null===(D=o.sgigjdespachointerrompido)||void 0===D?void 0:D.length)>0){var C,I;T=!0;const e=null===o||void 0===o||null===(C=o.sgigjdespachointerrompido)||void 0===C||null===(I=C[0])||void 0===I?void 0:I.TIPO;"A"!=e&&"P"!=e||(R="blue")}}(null===e||void 0===e||null===(_=e.sgigjdespachofinal)||void 0===_?void 0:_.length)>0&&(null!=(null===n||void 0===n?void 0:n.URL_DOC_GERADO)&&0!=(null===n||void 0===n?void 0:n.ESTADO)&&(R="blue"),S="Despacho Decis\xe3o")}catch(E){var A;console.error("ERRO colorx processo:",null===(A=a.data[i])||void 0===A?void 0:A.ID,E)}a.data[i].TIPO_DESPACHO=S,a.data[i].action=Object(b.jsxs)(n.a.Fragment,{children:[0==Object(y.s)(W,e,"Ler")?null:Object(b.jsx)(m.b,{to:"#",title:Object(y.u)(W,e,"Ler"),onClick:()=>Ze(x),className:"text-primary mx-1",children:Object(b.jsx)("i",{className:"text-primary "+Object(y.t)(W,e,"Ler")})}),0==Object(y.s)(W,e,"Editar")?null:"CONCLUIR"!=a.data[i].ESTADO_DEPACHO_INICIAL&&Object(b.jsx)(m.b,{to:"#",title:Object(y.u)(W,e,"Editar"),onClick:()=>Ke(x),className:"text-primary mx-1",children:Object(b.jsx)("i",{className:"text-primary "+Object(y.t)(W,e,"Editar")})}),null!=(null===(u=x.sgigjprocessodespacho[0])||void 0===u?void 0:u.URL_DOC_GERADO)&&""!=(null===(p=x.sgigjprocessodespacho[0])||void 0===p?void 0:p.URL_DOC_GERADO)&&0==Object(y.s)(W,e,"DespachoFinal")?null:"grey"!=R&&Object(b.jsx)(m.b,{to:"#",title:Object(y.u)(W,e,"Despacho"),onClick:()=>{var e;return window.open((null===(e=x.sgigjprocessodespacho[0])||void 0===e?void 0:e.URL_DOC_GERADO)+"?alt=media&token=0")},className:"text-primary mx-1",children:Object(b.jsx)("i",{className:"text-primary  feather icon-file-text"})}),0==Object(y.s)(W,e,"DespachoFinal")?null:"orange"==R&&Object(b.jsx)(m.b,{to:"#",title:"Despacho Decisao",onClick:()=>vt(x),className:"text-primary mx-1",children:Object(b.jsx)("i",{style:{cursor:"pointer"},className:"text-primary "+Object(y.t)(W,e,"DespachoFinal")})}),0==Object(y.s)(W,e,"DespachoFinal")?null:"orange"==R&&Object(b.jsx)(m.b,{to:"#",title:"Encerrar",onClick:()=>{var e,t,a;mt(null===x||void 0===x?void 0:x.ID),bt(null===x||void 0===x||null===(e=x.sgigjprocessodespacho[0])||void 0===e||null===(t=e.sgigjrelprocessoinstrutor[0])||void 0===t||null===(a=t.sgigjrelprocessoinstrucao[0])||void 0===a?void 0:a.ID),it(!0)},className:"text-primary mx-1",children:Object(b.jsx)("i",{style:{cursor:"pointer"},className:"text-primary feather icon-paperclip"})}),0==Object(y.s)(W,e,"DespachoInicial")?null:"grey"==R&&"CONCLUIR"==a.data[i].ESTADO_DEPACHO_INICIAL&&Object(b.jsx)(m.b,{to:"#",title:Object(y.u)(W,e,"DespachoInicial"),onClick:()=>we(t),className:"text-primary mx-1",children:Object(b.jsx)("i",{className:"text-primary "+Object(y.t)(W,e,"DespachoInicial")})}),T?0==Object(y.s)(W,e,"Interromper")?null:("green"==R||"orange"==R)&&Object(b.jsx)(m.b,{to:"#",title:Object(y.u)(W,e,"Interromper"),onClick:()=>_t(x),className:"text-primary mx-1",children:Object(b.jsx)("i",{className:"text-primary "+Object(y.t)(W,e,"Interromper")})}):0==Object(y.s)(W,e,"Instrucao")?null:("green"==R||"orange"==R)&&Object(b.jsx)(m.b,{to:"#",title:Object(y.u)(W,e,"Instrucao"),onClick:()=>et(x),className:"text-primary mx-1",children:Object(b.jsx)("i",{className:"text-primary "+Object(y.t)(W,e,"Instrucao")})}),0==Object(y.s)(W,e,"Eliminar")?null:Object(b.jsx)(m.b,{to:"#",title:Object(y.u)(W,e,"Eliminar"),onClick:()=>$e(t),className:"text-danger",children:Object(b.jsx)("i",{className:""+Object(y.t)(W,e,"Eliminar")})})]}),a.data[i].colorx=R,a.data[i].COLOR_STATUS=Object(b.jsx)(z,{colorx:R})}var S=a.data.filter(e=>"blue"!=e.colorx&&"black"!=e.colorx);ke(S)}0==oe.length&&ne(o)}catch(R){console.error(R.response)}}const[Ge,Ue]=Object(o.useState)(null),[Me,qe]=Object(o.useState)({}),[ze,Be]=Object(o.useState)("Despacho"),[He,Ve]=Object(o.useState)(""),[Xe,Je]=Object(o.useState)(!1),Ze=async e=>{try{const l=await x.a.get("/sgigjprocessoexclusao/"+e.id);if("200"==l.status&&l.data.length>0){var t,a,s,o,n;l.data[0].id=l.data[0].ID,l.data[0].DATA2=Object(y.f)(l.data[0].DATA),l.data[0].PESSOA=l.data[0].sgigjrelinterveniente.map(e=>e.sgigjpessoa.NOME).join(", "),l.data[0].ORIGEM=null===(t=l.data[0].sgigjprorigemtp)||void 0===t?void 0:t.DESIG,l.data[0].PESSOAREGISTO=null===(a=l.data[0].sgigjrelpessoaentidade)||void 0===a||null===(s=a.sgigjpessoa)||void 0===s?void 0:s.NOME,l.data[0].ENTIDADEREGISTO=null===(o=l.data[0])||void 0===o||null===(n=o.sgigjentidade)||void 0===n?void 0:n.DESIG;let r=null,d=null,j=null;var i,c;if(l.data[0].sgigjprocessodespacho.length>0)if(null!=l.data[0].sgigjprocessodespacho[0].URL_DOC_GERADO&&(r={DATA:Object(y.f)(l.data[0].sgigjprocessodespacho[0].DATA),REFERENCIA:l.data[0].sgigjprocessodespacho[0].REFERENCIA,PRAZO:l.data[0].sgigjprocessodespacho[0].PRAZO,OBS:l.data[0].sgigjprocessodespacho[0].OBS,DOC:l.data[0].sgigjprocessodespacho[0].URL_DOC_GERADO,INSTRUTOR:""}),l.data[0].sgigjprocessodespacho[0].sgigjrelprocessoinstrutor.length>0)r.INSTRUTOR=null===(i=l.data[0].sgigjprocessodespacho[0].sgigjrelprocessoinstrutor[0].sgigjrelpessoaentidade)||void 0===i||null===(c=i.sgigjpessoa)||void 0===c?void 0:c.NOME,l.data[0].sgigjprocessodespacho[0].sgigjrelprocessoinstrutor[0].sgigjrelprocessoinstrucao.length>0&&(d={list:l.data[0].sgigjprocessodespacho[0].sgigjrelprocessoinstrutor[0].sgigjrelprocessoinstrucao[0].sgigjrelinstrutorpeca},l.data[0].sgigjprocessodespacho[0].sgigjrelprocessoinstrutor[0].sgigjrelprocessoinstrucao[0].sgigjprocessodespacho.length>0&&null!=l.data[0].sgigjprocessodespacho[0].sgigjrelprocessoinstrutor[0].sgigjrelprocessoinstrucao[0].sgigjprocessodespacho[0].URL_DOC_GERADO&&(j={DOC:l.data[0].sgigjprocessodespacho[0].sgigjrelprocessoinstrutor[0].sgigjrelprocessoinstrucao[0].sgigjprocessodespacho[0].URL_DOC_GERADO,DATA:Object(y.f)(l.data[0].sgigjprocessodespacho[0].sgigjrelprocessoinstrutor[0].sgigjrelprocessoinstrucao[0].sgigjprocessodespacho[0].DATA),DESICAO:l.data[0].sgigjprocessodespacho[0].sgigjrelprocessoinstrutor[0].sgigjrelprocessoinstrucao[0].sgigjprocessodespacho[0].sgigjprdecisaotp.TIPO}));l.data[0].despacho=r,l.data[0].instrucao=d,l.data[0].despachofinal=j,console.log(d),l.data[0].colorx=e.colorx,Ue(l.data[0]),Je(!0),console.log(l.data[0])}}catch(l){console.error(l)}},Ke=e=>{dt(!0),at(!1),Je(!1),pe(e),K(e.PESSOA_ID),$(e.ENTIDADE_ID),te(e.DESCR),ce(Object(y.e)(e.DATA)),P(e.OBS),re(e.OBS)};async function Qe(e){var t;let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.preventDefault(),Oe(!0);const o={PESSOAS:de.map(e=>e.ID),DESCR:ee,ENTIDADE_ID:s.id,DATA:ie,OBS:null===B||void 0===B||null===(t=B.current)||void 0===t?void 0:t.value,ESTADO_DEPACHO_INICIAL:a?"CONCLUIR":"GUARDAR"};a?(k(!1),G(!0)):(k(!0),G(!1)),console.log(o);try{"200"==(await x.a.put("/sgigjprocessoexclusao/"+ue.ID,o)).status&&(p.a.success("Documento Guardado!",{duration:4e3}),Le(),Oe(!1),dt(!1))}catch(n){Oe(!1),console.error(n.response)}}async function We(e){var t;let a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e&&e.preventDefault(),a?(k(!1),G(!0)):(k(!0),G(!1)),Oe(!0);const o={PESSOAS:de.map(e=>e.ID),DESCR:ee,DATA:ie,ENTIDADE_ID:s.id,OBS:null===q||void 0===q||null===(t=q.current)||void 0===t?void 0:t.value,TIPO:f,ESTADO_DEPACHO_INICIAL:a?"CONCLUIR":"GUARDAR"};console.log(o);try{"200"==(await x.a.post("/sgigjprocessoexclusao",o)).status&&(p.a.success("Documento Guardado!",{duration:4e3}),Le(),Oe(!1),at(!1))}catch(n){Oe(!1),console.error(n.response)}}const Ye=async e=>{let t=!0;try{await x.a.delete("/sgigjprocessoexclusao/"+e)}catch(a){t=!1,console.error(a.response),g("Falha. Tente mais tarde")}return Le(),t},$e=async e=>{h({delete:Ye,id:e})},et=async e=>{O(e)};Object(o.useEffect)(()=>{U='\n        <p class="MsoNormal" align="center" style="margin: 0cm 0cm 8pt; line-height: 16.866667px; font-size: 11pt; font-family: Calibri, sans-serif; caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0); font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none; text-align: center;"><strong><span lang="PT" style="font-size: 20pt; line-height: 18.4px; font-family: Cambria, serif;">'.concat("C"==f?"Comunicado":"Auto de Noticia",'<o:p></o:p></span></strong></p>\n        \n        <p class="MsoNormal" style="margin: 0in; line-height: 107%; text-align: justify; font-size: 15px;"><span style="line-height: 107%; font-size: 24px;">Aos _______ dias do m\xeas de ___ do ano de dois mil e _____ no _____ (identifica\xe7\xe3o do servi\xe7o ou entidade), sito em ______ (localidade), no seguimento de _______ (dilig\xeancia, circunst\xe2ncia ocasional ou den\xfancia), tomei conhecimento e por esta via dou not\xedcia do seguinte:<br>\n        __________________(descri\xe7\xe3o detalhada dos factos com men\xe7\xe3o dos fatores tempo, modo e lugar das ocorr\xeancias).<br>\n        Com os ditos procedimentos os ___________ (autores) incorrem em infra\xe7\xe3o por viola\xe7\xe3o do ____________ (enquadramento legal).<br>\n        \xc9 quanto me cumpre dar not\xed cia e para os devidos e legais efeitos se lavrou o presente auto.<br>\n        A Testemunha: (nome leg\xedvel/n.\xb0 do documento de identifica\xe7\xe3o) ______________________<br>\n        A Testemunha: (nome leg\xedvel/n.\xb0 do documento de identifica\xe7\xe3o) ______________________<br>\n        O (denunciante): ______________________</span></p>'),P(U)},[f]),Object(o.useEffect)(()=>{Le(),ge(),async function(){try{const e=await x.a.get("/sgigjprgenero");"200"==e.status&&xe(e.data)}catch(e){console.error(e.response)}}(),async function(){try{const e=await x.a.get("/sgigjprdecisaotp");"200"==e.status&&Ee(e.data)}catch(e){console.error(e.response)}}(),async function(){try{const e=await x.a.get("/sgigjprestadocivil");"200"==e.status&&_e(e.data)}catch(e){console.error(e.response)}}(),async function(){try{const e=await x.a.get("/glbgeografia");"200"==e.status&&Ne(e.data)}catch(e){console.error(e.response)}}(),async function(){try{const e=await x.a.get("/sgigjprdocumentotp");"200"==e.status&&Ce(e.data)}catch(e){console.error(e.response)}}(),async function(){try{const e=await x.a.get("/sgigjentidade");"200"==e.status&&Te(e.data)}catch(e){console.error(e.response)}}(),async function(){try{const e=await x.a.get("/sgigjprcontactotp");"200"==e.status&&Ae(e.data)}catch(e){console.error(e.response)}}()},[]);const[tt,at]=Object(o.useState)(!1),[st,ot]=Object(o.useState)(!1),[nt,it]=Object(o.useState)(""),[ct,lt]=Object(o.useState)(null),[rt,dt]=Object(o.useState)(!1),[jt,ut]=Object(o.useState)(!1),[pt,mt]=Object(o.useState)(null),[Ot,bt]=Object(o.useState)(null),[ht,gt]=Object(o.useState)({code:0,value:!1}),[ft,xt]=Object(o.useState)(!1);function vt(e){pe(e),xt(!0),console.log("SCV")}function _t(e){pe(e),ot(!0),console.log("SCV")}const[yt,Nt]=Object(o.useState)(!1),[Dt,Ct]=Object(o.useState)([]);const[It,At]=Object(o.useState)(),[St,Et]=Object(o.useState)(!1);return Object(b.jsx)(n.a.Fragment,{children:Object(b.jsx)(i.a,{children:Object(b.jsxs)(c.a,{sm:12,children:[Object(b.jsx)(r.a,{children:Object(b.jsx)(r.a.Body,{children:null==u?Object(b.jsx)(Y,{listAno:oe,uploadList:Le,columns:X,data:Fe,modalOpen:()=>{var a,s,o,n,i;($(""),"Casino"==(null===t||void 0===t||null===(a=t.sgigjrelpessoaentidade)||void 0===a||null===(s=a.sgigjentidade)||void 0===s||null===(o=s.sgigjprentidadetp)||void 0===o?void 0:o.DESIG))&&$(null===t||void 0===t||null===(n=t.sgigjrelpessoaentidade)||void 0===n||null===(i=n.sgigjentidade)||void 0===i?void 0:i.ID);at(!0),dt(!1),Je(!1),K(""),K([]),te(""),ce(""),re(""),0==Object(y.s)(W,e,"Criar_C")?C("N"):C("C"),U='\n        <p class="MsoNormal" align="center" style="margin: 0cm 0cm 8pt; line-height: 16.866667px; font-size: 11pt; font-family: Calibri, sans-serif; caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0); font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none; text-align: center;"><strong><span lang="PT" style="font-size: 12pt; line-height: 18.4px; font-family: Cambria, serif;">'.concat("C"==f?"Comunicado":"Auto de Noticia",'<o:p></o:p></span></strong></p>\n        \n        <p class="MsoNormal" style="margin: 0in; line-height: 107%; text-align: justify; font-size: 15px;"><span style="line-height: 107%; font-size: 24px;">Aos _______ dias do m\xeas de ___ do ano de dois mil e _____ no _____ (identifica\xe7\xe3o do servi\xe7o ou entidade), sito em ______ (localidade), no seguimento de _______ (dilig\xeancia, circunst\xe2ncia ocasional ou den\xfancia), tomei conhecimento e por esta via dou not\xedcia do seguinte:<br>\n        __________________(descri\xe7\xe3o detalhada dos factos com men\xe7\xe3o dos fatores tempo, modo e lugar das ocorr\xeancias).<br>\n        Com os ditos procedimentos os ___________ (autores) incorrem em infra\xe7\xe3o por viola\xe7\xe3o do ____________ (enquadramento legal).<br>\n        \xc9 quanto me cumpre dar not\xedcia e para os devidos e legais efeitos se lavrou o presente auto.<br>\n        A Testemunha: (nome leg\xedvel/n.\xb0 do documento de identifica\xe7\xe3o) ______________________<br>\n        A Testemunha: (nome leg\xedvel/n.\xb0 do documento de identifica\xe7\xe3o) ______________________<br>\n        O (denunciante): ______________________</span></p>'),P(U)},pageAcess:W,permissoes:e}):Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(D.a,{decisaolist:Se,uploadlist:Le,setinstrucaoitem:O,pageAcess:W,permissoes:e,item:u})})})}),Object(b.jsxs)(d.a,{size:"xl",show:tt,onHide:()=>at(!1),children:[Object(b.jsx)(d.a.Header,{closeButton:!0,children:Object(b.jsx)(d.a.Title,{as:"h5",children:"Criar"})}),Object(b.jsx)(d.a.Body,{className:"newuserbox",children:Object(b.jsx)("form",{id:"criarItem",onSubmit:We,children:Object(b.jsxs)(i.a,{children:[Object(b.jsx)(c.a,{sm:12,children:Object(b.jsxs)(j.a.Group,{style:{display:"flex",justifyContent:"center"},children:[Object(b.jsx)(j.a.Check,{inline:!0,custom:!0,required:!0,type:"radio",label:"Comunicado",name:"supportedRadio",id:"group",defaultChecked:"C"==f,disabled:!Object(y.s)(W,e,"Criar_C"),onChange:()=>C("C")}),Object(b.jsx)(j.a.Check,{inline:!0,custom:!0,required:!0,disabled:!Object(y.s)(W,e,"Criar_N"),type:"radio",label:"Auto de Not\xedcia",name:"supportedRadio",id:"collapse",defaultChecked:"N"==f,onChange:()=>C("N")})]})}),Object(b.jsx)(c.a,{sm:4,children:Object(b.jsxs)("div",{className:"form-group fill",children:[Object(b.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Refer\xeancia ",Object(b.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(b.jsx)("input",{disabled:!0,type:"text",className:"form-control",id:"Name",value:"*",required:!0})]})}),Object(b.jsx)(c.a,{sm:6,children:Object(b.jsxs)("div",{className:"form-group fill",children:[Object(b.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Data ",Object(b.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(b.jsx)("input",{max:I,type:"date",onChange:e=>{ce(e.target.value)},defaultValue:ie,className:"form-control",placeholder:"Data...",required:!0})]})}),Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{className:"col-sm-12",children:Object(b.jsx)(A.a,{editorRef:H,value:T,config:{readonly:!1},ref:q,onChange:e=>(U=e,void console.log(U))})})})]})})}),Object(b.jsxs)(d.a.Footer,{children:[Object(b.jsx)(l.a,{variant:"danger",onClick:()=>at(!1),children:"Fechar"}),me?Object(b.jsx)(l.a,{variant:"primary",children:w?"Guardando":"Guardar"}):Object(b.jsx)(l.a,{type:"button",form:"criarItem",variant:"primary",onClick:e=>We(e,!1),children:"Guardar"}),me?Object(b.jsx)(l.a,{variant:"primary",children:L?"Concluindo":"Concluir"}):Object(b.jsx)(l.a,{type:"submit",form:"criarItem",variant:"primary",children:"Concluir"})]})]}),Object(b.jsxs)(d.a,{size:"lg",show:rt,onHide:()=>dt(!1),children:[Object(b.jsx)(d.a.Header,{closeButton:!0,children:Object(b.jsx)(d.a.Title,{as:"h5",children:"Editar"})}),Object(b.jsx)(d.a.Body,{className:"newuserbox",children:Object(b.jsx)("form",{id:"editarItem",onSubmit:Qe,children:Object(b.jsxs)(i.a,{children:[Object(b.jsx)(c.a,{sm:4,children:Object(b.jsxs)("div",{className:"form-group fill",children:[Object(b.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Refer\xeancia ",Object(b.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(b.jsx)("input",{disabled:!0,type:"text",className:"form-control",id:"Name",value:ue.REF,required:!0})]})}),Object(b.jsx)(c.a,{sm:6,children:Object(b.jsxs)("div",{className:"form-group fill",children:[Object(b.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Data ",Object(b.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(b.jsx)("input",{max:I,type:"date",onChange:e=>{ce(e.target.value)},defaultValue:ie,className:"form-control",placeholder:"Data...",required:!0})]})}),Object(b.jsx)("div",{className:"col-sm-12",children:Object(b.jsx)("div",{className:"form-group fill",children:Object(b.jsx)(A.a,{editorRef:H,value:T,config:{readonly:!1},ref:B})})})]})})}),Object(b.jsxs)(d.a.Footer,{children:[Object(b.jsx)(l.a,{variant:"danger",onClick:()=>dt(!1),children:"Fechar"}),me?Object(b.jsx)(l.a,{variant:"primary",children:L?"Concluindo":"Concluir"}):Object(b.jsx)(l.a,{form:"editarItem",variant:"primary",onClick:e=>Qe(e,!0),children:"Concluir"}),me?Object(b.jsx)(l.a,{variant:"primary",children:w?"Guardando":"Guardar"}):Object(b.jsx)(l.a,{type:"submit",form:"editarItem",variant:"primary",children:"Guardar"})]})]}),Object(b.jsxs)(d.a,{size:"lg",show:Xe,onHide:()=>Je(!1),children:[Object(b.jsxs)(d.a.Header,{style:{border:"0"},closeButton:!0,children:[Object(b.jsx)(d.a.Title,{as:"h5"}),Object(b.jsx)(d.a.Title,{as:"h5",children:"Processo"})]}),null!=Ge&&Object(b.jsxs)(d.a.Body,{children:[Object(b.jsx)(V,{colorx:Ge.colorx,variant:"detail"}),Object(b.jsxs)(i.a,{children:[Object(b.jsxs)(c.a,{xl:4,className:"task-detail-right",children:[Object(b.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:Object(b.jsxs)("span",{children:[Object(b.jsx)("i",{className:"feather icon-shield m-r-5"}),"Pedido"]})}),Object(b.jsx)("div",{style:{borderBottom:"1px solid #d2b32a",borderTop:"1px solid #d2b32a",marginBottom:"20px",marginTop:"6px",paddingTop:"20px"},children:Object(b.jsxs)("div",{style:{width:"100%",flexDirection:"column ",display:"flex",justifyContent:"space-between",marginBottom:"15px"},children:[Object(b.jsxs)("span",{children:[Object(b.jsx)("i",{className:"feather icon-map-pin m-r-5"}),"Visado"]}),Object(b.jsx)("span",{style:{color:"#6c757d"},children:Ge.PESSOA})]})}),Object(b.jsxs)("div",{style:{borderBottom:"1px solid #d2b32a",marginBottom:"20px"},children:[Object(b.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",marginBottom:"15px"},children:[Object(b.jsxs)("span",{children:[Object(b.jsx)("i",{className:"feather icon-map-pin m-r-5"}),"Entidade Decisora"]}),Object(b.jsx)("span",{style:{color:"#6c757d"},children:"IGJ"})]}),Object(b.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",marginBottom:"15px"},children:[Object(b.jsxs)("span",{children:[Object(b.jsx)("i",{className:"feather icon-map-pin m-r-5"}),"Pedido por"]}),Object(b.jsx)("span",{style:{color:"#6c757d"},children:Ge.PESSOAREGISTO})]}),Object(b.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",marginBottom:"15px"},children:[Object(b.jsxs)("span",{children:[Object(b.jsx)("i",{className:"feather icon-map-pin m-r-5"}),"Data do Pedido"]}),Object(b.jsx)("span",{style:{color:"#6c757d"},children:Ge.DATA2})]})]}),Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",marginBottom:"15px"},children:[Object(b.jsxs)("span",{children:[Object(b.jsx)("i",{className:"feather icon-phone m-r-5"}),"Descri\xe7\xe3o"]}),Object(b.jsx)("span",{style:{color:"#6c757d"},children:Ge.DESCR})]}),null!=Ge.URL_DOC_GERADO&&Object(b.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",marginBottom:"15px"},children:Object(b.jsx)("a",{target:"_blank",href:(null===Ge||void 0===Ge?void 0:Ge.URL_DOC_GERADO)+"?alt=media&token=0",children:Object(b.jsx)("span",{style:{display:"flex",fontWeight:"bold"},children:"Abrir Pedido"})})})]})]}),Object(b.jsx)(c.a,{xl:8,className:"task-detail-right",children:Object(b.jsx)(Z,{processo:Ge})})]})]}),Object(b.jsx)(d.a.Footer,{children:Object(b.jsx)(l.a,{variant:"danger",onClick:()=>Je(!1),children:"Fechar"})})]}),Object(b.jsxs)(d.a,{size:"lg",show:st,onHide:()=>ot(!1),children:[Object(b.jsx)(d.a.Header,{closeButton:!0,children:Object(b.jsx)(d.a.Title,{as:"h5",children:"Interropido Final"})}),Object(b.jsx)(d.a.Body,{className:"newuserbox w-100",children:Object(b.jsx)("form",{className:"w-100",id:"criarItem",onSubmit:function(e){var s,o,n,i,c,l,r;async function d(e){const t=null===ue||void 0===ue?void 0:ue.sgigjprocessodespacho[0].sgigjrelprocessoinstrutor[0].sgigjrelprocessoinstrucao[0].ID,a={OBS_IG:ae,APLICAR:e};let s=!1;try{"200"==(await x.a.put("/sgigjrelprocessoinstrucao/".concat(t,"/interrompidofinal"),a)).status&&(p.a.success("Documento Guardado!",{duration:4e3}),Le(),ot(!1),s=!0)}catch(o){console.error(o.response)}return s}if(e.preventDefault(),(null===ue||void 0===ue||null===(s=ue.sgigjprocessodespacho)||void 0===s?void 0:s.length)>0&&(null===ue||void 0===ue||null===(o=ue.sgigjprocessodespacho[0])||void 0===o?void 0:o.sgigjrelprocessoinstrutor.length)>0&&(null===ue||void 0===ue||null===(n=ue.sgigjprocessodespacho[0])||void 0===n||null===(i=n.sgigjrelprocessoinstrutor[0])||void 0===i?void 0:i.sgigjrelprocessoinstrucao.length)>0&&(null===ue||void 0===ue||null===(c=ue.sgigjprocessodespacho[0])||void 0===c||null===(l=c.sgigjrelprocessoinstrutor[0])||void 0===l||null===(r=l.sgigjrelprocessoinstrucao[0])||void 0===r?void 0:r.sgigjdespachointerrompido.length)>0){const e=ue.sgigjprocessodespacho[0].sgigjrelprocessoinstrutor[0].sgigjrelprocessoinstrucao[0].sgigjdespachointerrompido[0].TIPO;console.log(e),"P0"==e&&a("Deseja confirmar a prescri\xe7\xe3o?",{sim:()=>d("S"),nao:()=>d("N"),id:null===t||void 0===t?void 0:t.ID}),"A0"==e&&a("Deseja confirmar o arquivamento?",{sim:()=>d("S"),nao:()=>d("N"),id:null===t||void 0===t?void 0:t.ID})}},children:Object(b.jsx)(i.a,{children:Object(b.jsx)("div",{className:"col-sm-12",children:Object(b.jsxs)("div",{className:"form-group fill",children:[Object(b.jsxs)("label",{className:"floating-label",htmlFor:"Address",children:["Descri\xe7\xe3o ",Object(b.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(b.jsx)("textarea",{maxLength:"64000",className:"form-control",onChange:e=>{se(e.target.value)},defaultValue:ae,rows:"3",placeholder:"Descri\xe7\xe3o...",required:!0})]})})})})}),Object(b.jsxs)(d.a.Footer,{children:[Object(b.jsx)(l.a,{variant:"danger",onClick:()=>ot(!1),children:"Fechar"}),me?Object(b.jsx)(l.a,{variant:"primary",children:"Guardando"}):Object(b.jsx)(l.a,{type:"submit",form:"criarItem",variant:"primary",children:"Guardar"})]})]}),Object(b.jsx)(N.a,{generolist:fe,estadocivillist:ve,glbgeografialist:ye,documentolist:De,contactolist:Ie,pessoaopenDO:ht,uploadpessoa:ge}),Object(b.jsx)(R.a,{Open:yt,setOpen:Nt,list:Dt}),Object(b.jsx)(d.a,{size:"xl",show:St,onHide:()=>Et(!1),children:Object(b.jsx)("iframe",{height:1e3,src:"".concat(It),title:"pdf-viewer",width:"100%s"})}),Object(b.jsx)(E,{uploadlist:Le,decisaolist:Se,isdepachofinal:ft,setisdepachofinal:xt,processo:ue}),Object(b.jsx)(F,{}),Object(b.jsx)(S,{decisaolist:Se,pessoalist:be,uploadlist:Le,processo_ID:Pe,setprocesso_ID:we}),Object(b.jsx)(M,{decisaolist:Se,pessoalist:be,uploadlist:Le,processo_ID:pt,isOpenEncerrar:nt,setIsOpenEncerrar:it,instrucao_ID:Ot})]})})})}}}]);
//# sourceMappingURL=5.e28f898a.chunk.js.map