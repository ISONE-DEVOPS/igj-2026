(this["webpackJsonpigj-frontend"]=this["webpackJsonpigj-frontend"]||[]).push([[72],{824:function(e,a,t){"use strict";var s=t(0),i=t.n(s).a.createContext(null);i.displayName="CardContext",a.a=i},839:function(e,a,t){"use strict";var s=t(2),i=t(3),l=t(6),r=t.n(l),c=t(0),o=t.n(c),n=t(9),d=t(35),u=t(241),b=t(824),j=["bsPrefix","className","variant","as"],O=o.a.forwardRef(function(e,a){var t=e.bsPrefix,l=e.className,c=e.variant,d=e.as,u=void 0===d?"img":d,b=Object(i.a)(e,j),O=Object(n.a)(t,"card-img");return o.a.createElement(u,Object(s.a)({ref:a,className:r()(c?O+"-"+c:O,l)},b))});O.displayName="CardImg",O.defaultProps={variant:null};var m=O,f=["bsPrefix","className","bg","text","border","body","children","as"],p=Object(u.a)("h5"),v=Object(u.a)("h6"),g=Object(d.a)("card-body"),h=Object(d.a)("card-title",{Component:p}),x=Object(d.a)("card-subtitle",{Component:v}),y=Object(d.a)("card-link",{Component:"a"}),N=Object(d.a)("card-text",{Component:"p"}),T=Object(d.a)("card-header"),R=Object(d.a)("card-footer"),F=Object(d.a)("card-img-overlay"),U=o.a.forwardRef(function(e,a){var t=e.bsPrefix,l=e.className,d=e.bg,u=e.text,j=e.border,O=e.body,m=e.children,p=e.as,v=void 0===p?"div":p,h=Object(i.a)(e,f),x=Object(n.a)(t,"card"),y=Object(c.useMemo)(function(){return{cardHeaderBsPrefix:x+"-header"}},[x]);return o.a.createElement(b.a.Provider,{value:y},o.a.createElement(v,Object(s.a)({ref:a},h,{className:r()(l,x,d&&"bg-"+d,u&&"text-"+u,j&&"border-"+j)}),O?o.a.createElement(g,null,m):m))});U.displayName="Card",U.defaultProps={body:!1},U.Img=m,U.Title=h,U.Subtitle=x,U.Body=g,U.Link=y,U.Text=N,U.Header=T,U.Footer=R,U.ImgOverlay=F;a.a=U},967:function(e,a,t){"use strict";t.r(a);var s=t(0),i=t.n(s),l=t(812),r=t(404),c=t(839),o=t(173),n=(t(251),t(388)),d=t(24),u=t(22),b=t(32),j=t(83),O=t(176),m=t.n(O),f=t(246),p=t(1);a.default=()=>{const{popUp_removerItem:e,popUp_alertaOK:a,user:t,uploadlistnotificacao:O}=Object(d.a)(),v=Object(u.g)(),[g,h]=Object(s.useState)([]),[x,y]=Object(s.useState)(""),[N,T]=Object(s.useState)(m()().tz(f.a).format()),R=Object(u.h)();function F(e){var a;let t="";if(null!==e&&void 0!==e&&e.URL_FOTO)t=(null===e||void 0===e?void 0:e.URL_FOTO)+"?alt=media&token=0";else if(null!==e&&void 0!==e&&null!==(a=e.autoexclusao)&&void 0!==a&&a.URL_FOTO){var s;t=(null===e||void 0===e||null===(s=e.autoexclusao)||void 0===s?void 0:s.URL_FOTO)+"?alt=media&token=0"}else t=n.a;return t}async function U(){try{const c=await b.a.get("/glbnotificacao");if("200"==c.status){let o=c.data.data;for(var e=0;e<o.length;e++){var a,t,s,i,l,r;if((null===(a=o[e])||void 0===a||null===(t=a.sgigjpessoa)||void 0===t?void 0:t.sgigjrelpessoaentidade.length)>0)if((null===(s=o[e])||void 0===s||null===(i=s.sgigjpessoa)||void 0===i?void 0:i.sgigjrelpessoaentidade[0].glbuser.length)>0)o[e].URL_FOTO=null===(l=o[e])||void 0===l||null===(r=l.sgigjpessoa)||void 0===r?void 0:r.sgigjrelpessoaentidade[0].glbuser[0].URL_FOTO;else o[e].URL_FOTO="";else o[e].URL_FOTO=""}h(o)}console.log(c)}catch(c){console.error(c.response)}}console.log("sssssssssssssss",g);const L=async e=>{let t=!0;try{await b.a.delete("/glbnotificacao/"+e);O(),U()}catch(s){t=!1,console.error(s.response),a("Falha. Tente mais tarde")}return t};return Object(s.useEffect)(()=>{if(void 0===t.URL_FOTO||""==t.URL_FOTO||null==t.URL_FOTO){let e="https://ui-avatars.com/api/?name="+t.USERNAME;y(e)}"0"!=t.FLAG_NOTIFICACAO?v.push("/"):U()},[]),Object(p.jsx)(i.a.Fragment,{children:Object(p.jsx)(l.a,{children:Object(p.jsx)(r.a,{children:Object(p.jsxs)(c.a,{children:[Object(p.jsx)(c.a.Header,{children:Object(p.jsxs)("h4",{style:{marginBottom:"25px"},children:[" ",Object(p.jsx)("i",{className:"feather icon-bell"})," Notifica\xe7\xf5es"]})}),Object(p.jsx)(c.a.Body,{className:"card-body",children:g.map(a=>{var t;return Object(p.jsx)(o.a,{as:"ul",bsPrefix:" ",className:"feed-blog pl-0",children:Object(p.jsxs)(o.a.Item,{as:"li",bsPrefix:" ",className:a.sgigjrelnotificacaovizualizado.length>0?"diactive-feed":"",children:[Object(p.jsxs)("span",{onClick:()=>{!function(e,a){if(void 0==e||null==e)return void v.push(a);let t=JSON.parse(e);if(localStorage.setItem("EXTRA",t.IdAutoexclusao),void 0!==a||null!==a){if(R.pathname===a)return void window.location.reload(!1);v.push(a)}}(a.EXTRA,a.URL)},style:{color:"#555",cursor:"pointer"},children:[Object(p.jsx)("div",{className:"feed-user-img",children:Object(p.jsx)("img",{style:{width:"40px",height:"40px"},src:F(a),className:"img-radius wid-40",alt:"User Profile"})}),Object(p.jsxs)("p",{style:{top:"-12px",position:"absolute"},children:[Object(p.jsx)("b",{children:null===a||void 0===a||null===(t=a.sgigjpessoa)||void 0===t?void 0:t.NOME})," ",Object(p.jsx)("small",{style:{marginLeft:"10px"},className:"text-muted",children:Object(j.v)(a.DT_REGISTO,N)}),Object(p.jsx)("br",{}),a.MSG]})]},a.ID),Object(p.jsxs)("div",{style:{cursor:"pointer",right:"0px",position:"absolute"},className:"text-right",children:["   ",Object(p.jsx)("a",{title:"Eliminar",className:"text-danger",onClick:()=>(async a=>{e({delete:L,id:a})})(a.ID),children:Object(p.jsx)("i",{class:"feather icon-trash-2"})})]})]})})})})]})})})})}}}]);
//# sourceMappingURL=72.dc5ca9a5.chunk.js.map