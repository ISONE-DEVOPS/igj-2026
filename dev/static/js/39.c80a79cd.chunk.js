(this["webpackJsonpigj-frontend"]=this["webpackJsonpigj-frontend"]||[]).push([[39],{819:function(e,t,a){(function(a){var s,i,n;i=[],void 0===(n="function"===typeof(s=function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function s(e,t,a){var s=new XMLHttpRequest;s.open("GET",e),s.responseType="blob",s.onload=function(){c(s.response,t,a)},s.onerror=function(){console.error("could not download file")},s.send()}function i(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function n(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(s){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof a&&a.global===a?a:void 0,l=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(e,t,a){var l=o.URL||o.webkitURL,c=document.createElement("a");t=t||e.name||"download",c.download=t,c.rel="noopener","string"==typeof e?(c.href=e,c.origin===location.origin?n(c):i(c.href)?s(e,t,a):n(c,c.target="_blank")):(c.href=l.createObjectURL(e),setTimeout(function(){l.revokeObjectURL(c.href)},4e4),setTimeout(function(){n(c)},0))}:"msSaveOrOpenBlob"in navigator?function(e,a,o){if(a=a||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,o),a);else if(i(e))s(e,a,o);else{var l=document.createElement("a");l.href=e,l.target="_blank",setTimeout(function(){n(l)})}}:function(e,t,a,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof e)return s(e,t,a);var n="application/octet-stream"===e.type,c=/constructor/i.test(o.HTMLElement)||o.safari,d=/CriOS\/[\d]+/.test(navigator.userAgent);if((d||n&&c||l)&&"undefined"!=typeof FileReader){var r=new FileReader;r.onloadend=function(){var e=r.result;e=d?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=e:location=e,i=null},r.readAsDataURL(e)}else{var j=o.URL||o.webkitURL,p=j.createObjectURL(e);i?i.location=p:location.href=p,i=null,setTimeout(function(){j.revokeObjectURL(p)},4e4)}});o.saveAs=c.saveAs=c,e.exports=c})?s.apply(t,i):s)||(e.exports=n)}).call(this,a(19))},827:function(e,t,a){"use strict";var s=a(0),i=a(404),n=a(403),o=a(812),l=a(30),c=a(26),d=a(1);t.a=e=>{let{documentolist:t,list:a,save:r,item:j,onSendData:p}=e;const{popUp_alertaOK:g}=Object(c.a)(),[h,x]=Object(s.useState)(!1);var[b,O]=Object(s.useState)([{id:""+Math.random(),tipodocumento:"",numero:"",dataemissao:"",datavalidade:"",anexo:{type:0,file:null}}]);async function u(e){var t={status:!1,file:null};try{const a=new FormData;a.append("file",e);const s={headers:{"content-type":"multipart/form-data"}},i=await l.a.post("/upload",a,s);t={status:!0,file:i},console.log(i)}catch(a){console.error(a),t={status:!1,file:null}}return t}return Object(s.useEffect)(()=>{if(0==a.length)x(!0),O([{id:""+Math.random(),tipodocumento:"",numero:"",dataemissao:"",datavalidade:"",anexo:{type:0,file:null}}]);else{x(!1);let e=[];for(let t=0;t<a.length;t++){const s=null!=a[t].DT_EMISSAO?a[t].DT_EMISSAO.substring(0,10):"",i=null!=a[t].DT_VALIDADE?a[t].DT_VALIDADE.substring(0,10):"";e.push({id:""+a[t].ID,tipodocumento:a[t].PR_DOCUMENTO_TP_ID,numero:a[t].NUMERO,dataemissao:s,datavalidade:i,anexo:{type:1,file:a[t].DOC_URL}})}O(e.concat([])),p&&p(b)}console.log(a)},[a]),Object(s.useEffect)(()=>{console.log("ssssssssssssss"+r),""!=j.ID&&null!=j.ID&&async function(){if(1==h){const a=await l.a.delete("/sgigjreldocumento/0?"+(null===j||void 0===j?void 0:j.ENTIDADE)+"="+(null===j||void 0===j?void 0:j.ID));if(console.log(a.status),"200"==a.status||"204"==a.status){console.log(a);for(let a=0;a<b.length;a++)if(""!=b[a].tipodocumento&&""!=b[a].numero){console.log(b);var e="";"1"==b[a].anexo.type&&(e=b[a].anexo.file),"2"==b[a].anexo.type&&(e=(await u(b[a].anexo.file)).file.data),console.log(e);const s={[null===j||void 0===j?void 0:j.ENTIDADE]:null===j||void 0===j?void 0:j.ID,PR_DOCUMENTO_TP_ID:b[a].tipodocumento,NUMERO:b[a].numero,DOC_URL:e,DT_EMISSAO:b[a].dataemissao,DT_VALIDADE:b[a].datavalidade};try{await l.a.post("/sgigjreldocumento",s)}catch(t){console.error(t.response)}}}}}()},[r]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(i.a,{style:{display:"flex",justifyContent:"flex-end"},sm:12,children:Object(d.jsx)(n.a,{onClick:()=>(O(b.concat([{id:""+Math.random(),tipodocumento:"",numero:"",dataemissao:"",datavalidade:"",anexo:{type:0,file:null}}])),void(p&&p(b))),variant:"primary",children:"+"})}),b.map(e=>{var a;return Object(d.jsxs)(o.a,{style:{marginBottom:"12px"},children:[Object(d.jsx)(i.a,{sm:10,children:Object(d.jsxs)(o.a,{children:[Object(d.jsx)(i.a,{sm:6,children:Object(d.jsxs)("div",{className:"form-group fill",children:[Object(d.jsxs)("label",{className:"floating-label",htmlFor:"Phone",children:["Tipo de Documentos ",Object(d.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(d.jsxs)("select",{defaultValue:e.tipodocumento,onChange:t=>{!function(e,t){const a=b.findIndex(e=>e.id===t);b[a]={id:t,tipodocumento:e,numero:b[a].numero,dataemissao:b[a].dataemissao,datavalidade:b[a].datavalidade,anexo:b[a].anexo},x(!0),O(b.concat([])),p&&p(b)}(t.target.value,e.id)},className:"form-control",id:"perfil",required:!0,"aria-required":"true",children:[Object(d.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),t.map(e=>Object(d.jsx)("option",{value:e.ID,children:e.DESIG},e.ID))]})]})}),Object(d.jsx)(i.a,{sm:3,children:Object(d.jsxs)("div",{className:"form-group fill",children:[Object(d.jsxs)("label",{className:"floating-label",htmlFor:"text",children:["N\xfamero ",Object(d.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(d.jsx)("input",{max:"99999999999999",defaultValue:e.numero,onChange:t=>{!function(e,t){const a=b.findIndex(e=>e.id===t);b[a]={id:t,numero:e,tipodocumento:b[a].tipodocumento,dataemissao:b[a].dataemissao,datavalidade:b[a].datavalidade,anexo:b[a].anexo},x(!0),O(b.concat([])),p&&p(b)}(t.target.value,e.id)},type:"number",className:"form-control"})]})}),Object(d.jsxs)("div",{className:"sm-2 paddinhtop28OnlyPC",children:[Object(d.jsxs)("label",{htmlFor:"anexareditar"+e.id,className:"btn",style:{backgroundColor:"#d2b32a",color:"#fff"},children:[null==(null===e||void 0===e||null===(a=e.anexo)||void 0===a?void 0:a.file)?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("i",{className:"feather icon-download"}),Object(d.jsx)(d.Fragment,{children:" Anexar"})]}):"Anexado"," "]}),Object(d.jsx)("input",{id:"anexareditar"+e.id,style:{display:"none"},onChange:t=>function(e,t){const a=b.findIndex(e=>e.id===t);console.log(b[a]),console.log(t),""!=b[a].tipodocumento&&""!=b[a].numero||g("Preencha o campos obrigat\xf3rios"),b[a]={id:t,tipodocumento:b[a].tipodocumento,dataemissao:b[a].dataemissao,datavalidade:b[a].datavalidade,numero:b[a].numero,anexo:{type:2,file:e}},x(!0),O(b.concat([])),p&&p(b)}(t.target.files[0],e.id),accept:"image/x-png,image/jpeg",type:"file"})]}),Object(d.jsx)(i.a,{sm:6,children:Object(d.jsxs)("div",{className:"form-group fill",children:[Object(d.jsx)("label",{className:"floating-label",htmlFor:"date",children:"Data de Emiss\xe3o"}),Object(d.jsx)("input",{defaultValue:e.dataemissao,onChange:t=>{!function(e,t){const a=b.findIndex(e=>e.id===t);b[a]={id:t,dataemissao:e,numero:b[a].numero,tipodocumento:b[a].tipodocumento,datavalidade:b[a].datavalidade,anexo:b[a].anexo},x(!0),O(b.concat([])),p&&p(b)}(t.target.value,e.id)},type:"date",className:"form-control"})]})}),Object(d.jsx)(i.a,{sm:6,children:Object(d.jsxs)("div",{className:"form-group fill",children:[Object(d.jsx)("label",{className:"floating-label",htmlFor:"text",children:"Data de Validade"}),Object(d.jsx)("input",{defaultValue:e.datavalidade,onChange:t=>{!function(e,t){const a=b.findIndex(e=>e.id===t);b[a]={id:t,datavalidade:e,numero:b[a].numero,tipodocumento:b[a].tipodocumento,dataemissao:b[a].dataemissao,anexo:b[a].anexo},x(!0),O(b.concat([])),p&&p(b)}(t.target.value,e.id)},type:"date",className:"form-control"})]})})]})}),b.length>1?Object(d.jsx)("div",{className:"paddinhtop66OnlyPC sm-2",children:Object(d.jsx)(n.a,{onClick:()=>function(e){if(b.length>1){const a=b.findIndex(t=>t.id===e);if(a>-1){var t=b;t.splice(a,1),O(t.concat([])),p&&p(b),x(!0)}}}(e.id),variant:"danger",children:Object(d.jsx)("i",{className:"feather icon-trash-2"})})}):null]},e.id)})]})}},925:function(e,t,a){"use strict";a.r(t);var s=a(8),i=a(0),n=a.n(i),o=a(812),l=a(404),c=a(403),d=a(818),r=a(863),j=a(814),p=a(817),g=a(7),h=a(816),x=a(1);const b=e=>{let{filter:t,setFilter:a}=e;const[s,n]=Object(i.useState)(t),o=Object(h.useAsyncDebounce)(e=>{a(e||void 0)},1e3);return Object(x.jsxs)("span",{className:"d-flex align-items-center justify-content-end",children:["Procurar:"," ",Object(x.jsx)("input",{className:"form-control ml-2 w-auto",value:s||"",onChange:e=>{n(e.target.value),o(e.target.value)}})]})};var O=a(30),u=a(819),m=a(26),f=a(22),y=a(76),v=a(820),w=a.n(v);a(827);function D(e){let{uploadList:t,columns:a,data:n,modalOpen:r}=e;const{user:j}=Object(m.a)(),[g,v]=Object(i.useState)(""),[w,D]=Object(i.useState)(""),{permissoes:S}=Object(m.a)(),I=Object(f.i)(),[E,T]=Object(i.useState)(),N="/eventos/recusados";function A(e){"1"===e?async function(){const e=""===g?void 0:g,t=""===w?void 0:w;try{const a=Object(y.s)(N,S,"LerapenasEP")?await O.a.get("/export-pdf/sgigjentidadeevento_parecer?ENTIDADE_ID=".concat(I.id)+Object(y.q)([["DATA_INICIO",e],["DATA_FIM",t]]),{responseType:"blob"}):await O.a.get("/export-pdf/sgigjentidadeevento?ENTIDADE_ID=".concat(I.id)+Object(y.q)([["DATA_INICIO",e],["DATA_FIM",t]]),{responseType:"blob"});if("200"==a.status){const e=new Blob([a.data],{type:"application/pdf"}),t=URL.createObjectURL(e);window.open().location.href=t}console.log(a)}catch(a){console.error(a.response)}}():"2"===e&&async function(){try{const e=Object(y.s)(N,S,"LerapenasEP")?await O.a.get("/export-csv/sgigjentidadeevento_parecer",{responseType:"blob"}):await O.a.get("/export-csv/sgigjentidadeevento",{responseType:"blob"});if("200"==e.status){new Blob([e.data],{type:"api/csv"});const t=new Blob([e.data],{type:"text/csv"});Object(u.saveAs)(t,"data.csv")}console.log(e)}catch(e){console.error(e.response)}}()}const[C,_]=Object(i.useState)("");const{getTableProps:B,getTableBodyProps:R,headerGroups:P,prepareRow:F,globalFilter:L,setGlobalFilter:M,page:k,canPreviousPage:U,canNextPage:W,pageOptions:G,pageCount:H,gotoPage:V,nextPage:z,previousPage:q,setPageSize:X,state:{pageIndex:K,pageSize:J}}=Object(h.useTable)({columns:a,data:n,initialState:{pageIndex:0,pageSize:10}},h.useGlobalFilter,h.useSortBy,h.usePagination);return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(o.a,{className:"mb-3",children:[Object(x.jsxs)(l.a,{md:3,className:"d-flex align-items-center",children:["Mostrar",Object(x.jsx)("select",{className:"form-control w-auto mx-2",value:J,onChange:e=>{X(Number(e.target.value))},children:[5,10,20,30,40,50].map(e=>Object(x.jsx)("option",{value:e,children:e},e))}),"entradas"]}),Object(x.jsx)(l.a,{md:3,className:"d-flex align-items-center",children:Object(x.jsxs)("select",{onChange:e=>{var a;a=e.target.value,_(a),t(a)},className:"form-control",style:{minWidth:"150px"},children:[Object(x.jsx)("option",{value:"",children:"Todos os anos"}),Array.from({length:(new Date).getFullYear()-2022+1},(e,t)=>2022+t).map(e=>Object(x.jsx)("option",{value:e,children:e},e))]})}),Object(x.jsxs)(l.a,{className:"d-flex justify-content-end",children:[Object(x.jsx)(b,{filter:L,setFilter:M}),0==Object(y.s)(N,S,"Criar")?null:Object(x.jsxs)(c.a,{variant:"primary",className:"btn-sm btn-round has-ripple ml-2",onClick:r,children:[Object(x.jsx)("i",{className:"feather icon-plus"})," Adicionar"]}),Object(x.jsxs)("select",{style:{marginLeft:"10px"},value:E,onChange:e=>{A(e.target.value)},children:[Object(x.jsx)("option",{value:"",children:" Download "}),Object(x.jsx)("option",{value:"1",children:" PDF "}),Object(x.jsx)("option",{value:"2",children:" EXCEL "})]})]})]}),Object(x.jsxs)(p.a,Object(s.a)(Object(s.a)({striped:!0,bordered:!0,hover:!0,responsive:!0},B()),{},{children:[Object(x.jsx)("thead",{children:P.map(e=>Object(x.jsx)("tr",Object(s.a)(Object(s.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map(e=>Object(x.jsxs)("th",Object(s.a)(Object(s.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),Object(x.jsx)("span",{children:e.isSorted?e.isSortedDesc?Object(x.jsx)("span",{className:"feather icon-arrow-down text-muted float-right"}):Object(x.jsx)("span",{className:"feather icon-arrow-up text-muted float-right"}):""})]})))})))}),Object(x.jsx)("tbody",Object(s.a)(Object(s.a)({},R()),{},{children:k.map((e,t)=>(F(e),Object(x.jsx)("tr",Object(s.a)(Object(s.a)({},e.getRowProps()),{},{children:e.cells.map(e=>{const t=e.column.centered;return Object(x.jsx)("td",Object(s.a)(Object(s.a)({},e.getCellProps()),{},{className:t?"text-center":"text-right",children:e.render("Cell")}))})}))))}))]})),Object(x.jsxs)(o.a,{className:"justify-content-between",children:[Object(x.jsx)(l.a,{children:Object(x.jsxs)("span",{className:"d-flex align-items-center",children:["P\xe1gina"," "," ",Object(x.jsxs)("strong",{children:[" ",K+1," de ",G.length," "]})," ","| Ir para a p\xe1gina:"," ",Object(x.jsx)("input",{type:"number",className:"form-control ml-2",defaultValue:K+1,onChange:e=>{const t=e.target.value?Number(e.target.value)-1:0;V(t)},style:{width:"100px"}})]})}),Object(x.jsx)(l.a,{children:Object(x.jsxs)(d.a,{className:"justify-content-end",children:[Object(x.jsx)(d.a.First,{onClick:()=>V(0),disabled:!U}),Object(x.jsx)(d.a.Prev,{onClick:()=>q(),disabled:!U}),Object(x.jsx)(d.a.Next,{onClick:()=>z(),disabled:!W}),Object(x.jsx)(d.a.Last,{onClick:()=>V(H-1),disabled:!W})]})})]})]})}t.default=()=>{var e,t,a,s;const d=Object(f.i)(),p=(Object(i.useRef)(null),Object(i.useRef)(null)),{permissoes:h}=Object(m.a)(),b=Object(f.g)(),u="/eventos/recusados";Object(i.useEffect)(()=>{0==Object(y.l)(u,h)?b.push("/"):(Z(),C(),async function(){try{const e=await O.a.get("/sgigjprdecisaotp");"200"==e.status&&B(e.data)}catch(e){console.error(e.response)}}(),async function(){try{const e=await O.a.get("/sgigjentidade");"200"==e.status&&P(e.data)}catch(e){console.error(e.response)}}(),async function(){try{const e=await O.a.get("/sgigjrelpessoaentidade");"200"==e.status&&L(e.data)}catch(e){console.error(e.response)}}(),async function(){try{const e=await O.a.get("/sgigjprdocumentotp");"200"==e.status&&k(e.data)}catch(e){console.error(e.response)}}())},[]);const{popUp_removerItem:v,popUp_alertaOK:S,popUp_simcancelar:I,user:E}=Object(m.a)(),T=n.a.useMemo(()=>[{Header:"ENTIDADES",accessor:"ENTIDADES",centered:!0},{Header:"DESIGNA\xc7\xc3O",accessor:"DESIG",centered:!0},{Header:"N\xba SORTEIO",accessor:"NUM_SORTEIO_NOITE",centered:!1},{Header:"PESSOA RESPONS\xc1VEL",accessor:"PESSOA",centered:!0},{Header:"TIPO DE EVENTO",accessor:"TIPO",centered:!0},{Header:"PR\xcaMIO",accessor:"PREMIO_FORMATTED",centered:!0,Cell:e=>{let{row:t}=e;return Object(x.jsx)("div",{dangerouslySetInnerHTML:{__html:t.original.PREMIO_FORMATTED}})}},{Header:"TIPO DE DATA DE EVENTO",accessor:"data.TIPO",centered:!0},{Header:"A\xe7\xf5es",accessor:"action",centered:!0}],[]),[N,A]=Object(i.useState)([]);async function C(){try{const e=await O.a.get("/sgigjpreventotp");"200"==e.status&&A(e.data)}catch(e){console.error(e.response)}}const[_,B]=Object(i.useState)([]);const[R,P]=Object(i.useState)([]);const[F,L]=Object(i.useState)([]);const[M,k]=Object(i.useState)([]);function U(e){if(null==e)return;let t=new Date(e).toLocaleDateString("en-GB",{day:"numeric",month:"numeric",year:"numeric"}).split(" ").join("-");return t=t.replace("/","-"),t.replace("/","-")}function W(e){return null==e?"":new Date(e).toISOString().slice(0,10)}const[G,H]=Object(i.useState)([]),[V,z]=Object(i.useState)(!1),[q,X]=Object(i.useState)([]),[K,J]=Object(i.useState)(!1),[Y,Q]=Object(i.useState)([]);async function Z(e){if(e=""===e?void 0:e,Object(y.s)(u,h,"Ler"))try{var t;if("200"==(t=Object(y.s)(u,h,"LerapenasEP")?await O.a.get("/sgigjentidadeevento_parecer?ENTIDADE_ID=".concat(d.id)+Object(y.q)([["ANO",e]])):await O.a.get("/sgigjentidadeevento?ENTIDADE_ID=".concat(d.id)+Object(y.q)([["ANO",e]]))).status){for(var a=0;a<t.data.length;a++){var s;const e=t.data[a].ID;t.data[a].id=t.data[a].ID,t.data[a].ENTIDADES=t.data[a].sgigjentidade.DESIG,t.data[a].PESSOA=t.data[a].sgigjrelpessoaentidade.sgigjpessoa.NOME,t.data[a].TIPO=t.data[a].sgigjpreventotp.DESIG;const i=null===(s=t.data[a].premios)||void 0===s?void 0:s.map(e=>"".concat(e.NUMERO," \xba Pr\xeamio: ").concat(Object(y.g)(e.VALOR))),o=i.sort((e,t)=>parseInt(e.match(/\d+/)[0])-parseInt(t.match(/\d+/)[0])).join("<br>");t.data[a].PREMIO_FORMATTED=o;const l=t.data[a];t.data[a].action=Object(x.jsxs)(n.a.Fragment,{children:[0==Object(y.s)(u,h,"Ler")?null:Object(x.jsx)(g.b,{to:"#",title:Object(y.u)(u,h,"Ler"),onClick:()=>tt(e),className:"text-primary mx-1",children:Object(x.jsx)("i",{className:"text-primary "+Object(y.t)(u,h,"Ler")})}),t.data[a].sgigjreleventodespacho.length>0?Object(x.jsxs)(x.Fragment,{children:[null!=t.data[a].sgigjreleventodespacho[0].URL_DOC_GERADO&&Object(x.jsx)(x.Fragment,{children:0==Object(y.s)(u,h,"DocDesicao")?null:Object(x.jsx)("a",{target:"_blank",href:t.data[a].sgigjreleventodespacho[0].URL_DOC_GERADO+"?alt=media&token=0",children:Object(x.jsx)("i",{title:Object(y.u)(u,h,"DocDesicao"),className:"text-primary "+Object(y.t)(u,h,"DocDesicao")})})}),t.data[a].sgigjreleventodespacho[0].sgigjreleventoparecer.length>0?Object(x.jsx)(x.Fragment,{children:0==Object(y.s)(u,h,"Decisao")?null:Object(x.jsx)(g.b,{to:"#",title:Object(y.u)(u,h,"Decisao"),onClick:()=>Ve(l),className:"text-primary mx-1",children:Object(x.jsx)("i",{className:"text-primary "+Object(y.t)(u,h,"Decisao")})})}):null]}):Object(x.jsx)(x.Fragment,{})]});let c="grey";t.data[a].sgigjreleventodespacho.length>0&&(1==t.data[a].sgigjreleventodespacho[0].sgigjreleventoparecer.length&&("atribuido"==t.data[a].sgigjreleventodespacho[0].sgigjreleventoparecer[t.data[a].sgigjreleventodespacho[0].sgigjreleventoparecer.length-1].STATUS&&(c="#FFD801"),"aceite"==t.data[a].sgigjreleventodespacho[0].sgigjreleventoparecer[t.data[a].sgigjreleventodespacho[0].sgigjreleventoparecer.length-1].STATUS&&(c="orange"),"finalizado"==t.data[a].sgigjreleventodespacho[0].sgigjreleventoparecer[t.data[a].sgigjreleventodespacho[0].sgigjreleventoparecer.length-1].STATUS&&(c="green")),t.data[a].sgigjreleventodespacho[0].sgigjreleventoparecer.length>1&&("atribuido"==t.data[a].sgigjreleventodespacho[0].sgigjreleventoparecer[t.data[a].sgigjreleventodespacho[0].sgigjreleventoparecer.length-1].STATUS&&(c="blue"),"aceite"==t.data[a].sgigjreleventodespacho[0].sgigjreleventoparecer[t.data[a].sgigjreleventodespacho[0].sgigjreleventoparecer.length-1].STATUS&&(c="orange"),"finalizado"==t.data[a].sgigjreleventodespacho[0].sgigjreleventoparecer[t.data[a].sgigjreleventodespacho[0].sgigjreleventoparecer.length-1].STATUS&&(c="green"))),t.data[a].COLOR_STATUS=Object(x.jsx)("div",{style:{backgroundColor:c,width:"20px",height:"20px",borderRadius:"50%"}}),t.data[a].sgigjreleventodespacho.length>0?(null==t.data[a].sgigjreleventodespacho[0].STATUS||""==t.data[a].sgigjreleventodespacho[0].STATUS||null==t.data[a].sgigjreleventodespacho[0].PR_DECISAO_TP_ID||"NAO_APROVADO"!=t.data[a].sgigjreleventodespacho[0].sgigjprdecisaotp.TIPO)&&(t.data[a]=null):t.data[a]=null}var i=t.data.filter(function(e){return null!=e});Q(i)}}catch(o){console.error(o.response)}}const[$,ee]=Object(i.useState)(!1),[te,ae]=Object(i.useState)(!1),[se,ie]=Object(i.useState)(!1),[ne,oe]=Object(i.useState)(""),[le,ce]=Object(i.useState)(""),[de,re]=Object(i.useState)(""),[je,pe]=Object(i.useState)(""),[ge,he]=Object(i.useState)(""),[xe,be]=Object(i.useState)(""),[Oe,ue]=Object(i.useState)(""),[me,fe]=Object(i.useState)(""),[ye,ve]=Object(i.useState)(""),[we,De]=Object(i.useState)(""),[Se,Ie]=Object(i.useState)(""),[Ee,Te]=Object(i.useState)(""),[Ne,Ae]=Object(i.useState)(""),[Ce,_e]=Object(i.useState)(""),[Be,Re]=Object(i.useState)(""),[Pe,Fe]=Object(i.useState)(""),[Le,Me]=Object(i.useState)(""),[ke,Ue]=Object(i.useState)(""),[We,Ge]=Object(i.useState)("");var He="";const Ve=e=>{var t="",a="",s="";He="<p style=\"margin: 0; line-height: 1.6; font-size: 12pt; font-family: 'Times New Roman', serif; text-align: justify;\">Escreva um texto aqui</p>",e.sgigjreleventodespacho.length>0&&(s=e.sgigjreleventodespacho[0].ID,e.sgigjreleventodespacho[0].sgigjreleventoparecer.length>0&&(a=e.sgigjreleventodespacho[0].sgigjreleventoparecer[e.sgigjreleventodespacho[0].sgigjreleventoparecer.length-1].PR_DECISAO_TP_ID,t=W(e.sgigjreleventodespacho[0].sgigjreleventoparecer[e.sgigjreleventodespacho[0].sgigjreleventoparecer.length-1].DATA))),null==e.sgigjreleventodespacho[0].PR_DECISAO_TP_ID?Fe(a):Fe(e.sgigjreleventodespacho[0].PR_DECISAO_TP_ID),null==e.sgigjreleventodespacho[0].DATA?Re(t):Re(W(e.sgigjreleventodespacho[0].DATA)),Ue(e.sgigjreleventodespacho[0].REFERENCIA),Me(s),null!=e.sgigjreleventodespacho[0].DESPACHO&&(He=e.sgigjreleventodespacho[0].DESPACHO),Ht(He),dt(He),ae(!0),ee(!1),ie(!1),Ze(!1)};const[ze,qe]=Object(i.useState)("");const[Xe,Ke]=Object(i.useState)({});const[Je,Ye]=Object(i.useState)(""),[Qe,Ze]=Object(i.useState)(!1),[$e,et]=Object(i.useState)({}),tt=async e=>{try{let a;if(a=Object(y.s)(u,h,"LerapenasEP")?await O.a.get("/sgigjentidadeevento_parecer/"+e):await O.a.get("/sgigjentidadeevento/"+e),"200"==a.status&&a.data.length>0){var t;const e=null===(t=a.data[0].premios)||void 0===t?void 0:t.map(e=>"".concat(e.NUMERO," \xba Pr\xeamio: ").concat(Object(y.g)(e.VALOR))),s=e.sort((e,t)=>parseInt(e.match(/\d+/)[0])-parseInt(t.match(/\d+/)[0])).join("<br>");a.data[0].PREMIO_FORMATTED=s;for(let t=0;t<a.data[0].sgigjentidade.sgigjrelcontacto.length;t++)"undefined"!=typeof a.data[0].sgigjentidade.sgigjrelcontacto[t].sgigjprcontactotp.DESIG&&("Email"==a.data[0].sgigjentidade.sgigjrelcontacto[t].sgigjprcontactotp.DESIG&&(a.data[0].EMAIL=a.data[0].sgigjentidade.sgigjrelcontacto[t].CONTACTO),"Telem\xf3vel"==a.data[0].sgigjentidade.sgigjrelcontacto[t].sgigjprcontactotp.DESIG&&(a.data[0].TELEMOVEL=a.data[0].sgigjentidade.sgigjrelcontacto[t].CONTACTO),"Telefone"==a.data[0].sgigjentidade.sgigjrelcontacto[t].sgigjprcontactotp.DESIG&&(a.data[0].TELEFONE=a.data[0].sgigjentidade.sgigjrelcontacto[t].CONTACTO));let i={};a.data[0].sgigjreleventodespacho.length>0&&null!=a.data[0].sgigjreleventodespacho[0].PR_DECISAO_TP_ID&&(i.dec=a.data[0].sgigjreleventodespacho[0].sgigjprdecisaotp.TIPO,i.url=a.data[0].sgigjreleventodespacho[0].URL_DOC_GERADO,i.pessoa=a.data[0].sgigjreleventodespacho[0].sgigjrelpessoaentidade.sgigjpessoa.NOME),a.data[0].decisaox=i;let n=!1;a.data[0].sgigjreleventodespacho.length>0&&a.data[0].sgigjreleventodespacho[0].sgigjreleventoparecer.length>0&&(n=!0),a.data[0].parecerolist=n;let o=[];for(let t=0;t<a.data[0].sgigjreldocumento.length;t++)o.push({id:a.data[0].sgigjreldocumento[t].ID,nome:a.data[0].sgigjreldocumento[t].sgigjprdocumentotp.DESIG,url:a.data[0].sgigjreldocumento[t].DOC_URL});a.data[0].doclist=o,et(a.data[0]),Ze(!0),ae(!1),ee(!1),ie(!1)}}catch(a){console.error(a)}},[at,st]=Object(i.useState)(!1),[it,nt]=Object(i.useState)(""),[ot,lt]=Object(i.useState)(""),[ct,dt]=Object(i.useState)(""),[rt,jt]=Object(i.useState)("");const[pt,gt]=Object(i.useState)(!1),[ht,xt]=Object(i.useState)(""),[bt,Ot]=Object(i.useState)(""),[ut,mt]=Object(i.useState)("");const[ft,yt]=Object(i.useState)(!1),[vt,wt]=Object(i.useState)(""),[Dt,St]=Object(i.useState)(""),[It,Et]=Object(i.useState)(!1),[Tt,Nt]=Object(i.useState)({});const[At,Ct]=Object(i.useState)(!1),[_t,Bt]=Object(i.useState)(""),[Rt,Pt]=Object(i.useState)("");const[Ft,Lt]=Object(i.useState)("eventos"),[Mt,kt]=Object(i.useState)("eventos"),[Ut,Wt]=Object(i.useState)(!1),[Gt,Ht]=Object(i.useState)(""),[Vt,zt]=Object(i.useState)("");return Object(x.jsx)(n.a.Fragment,{children:Object(x.jsx)(o.a,{children:Object(x.jsxs)(l.a,{sm:12,children:[Object(x.jsx)(r.a,{children:Object(x.jsx)(r.a.Body,{children:Object(x.jsx)(D,{uploadList:Z,columns:T,data:Y,modalOpen:()=>{oe(""),ce(""),re(""),pe(""),he(""),be(""),ue(""),fe(""),ve(""),De(""),H([]),ae(!1),ee(!0),ie(!1),Ze(!1),qe("")}})})}),Object(x.jsxs)(j.a,{size:"lg",show:Qe,onHide:()=>Ze(!1),children:[Object(x.jsxs)(j.a.Header,{closeButton:!0,children:[Object(x.jsx)(j.a.Title,{as:"h5"}),Object(x.jsx)(j.a.Title,{as:"h5",children:"Evento"})]}),0===Object.keys($e).length?null:Object(x.jsx)(j.a.Body,{children:Object(x.jsxs)(o.a,{children:[Object(x.jsxs)(l.a,{xl:4,className:"task-detail-right",children:[Object(x.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:Object(x.jsxs)("span",{children:[Object(x.jsx)("i",{className:"feather icon-user m-r-5"}),"Geral"]})}),Object(x.jsxs)("div",{style:{width:"100%",display:"flex",alignItems:"center",marginBottom:"20px",flexDirection:"column",borderBottom:"1px solid #d2b32a",borderTop:"1px solid #d2b32a",paddingBottom:"15px",paddingTop:"15px",marginTop:"5px"},children:[Object(x.jsx)("i",{className:"feather icon-shield",style:{fontSize:"80px",marginBottom:"15px",marginTop:"10px"}}),Object(x.jsx)("span",{children:$e.sgigjentidade.DESIG})]}),Object(x.jsxs)("div",{style:{borderBottom:"1px solid #d2b32a",marginBottom:"20px"},children:[Object(x.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",marginBottom:"15px"},children:[Object(x.jsxs)("span",{children:[Object(x.jsx)("i",{className:"feather icon-map-pin m-r-5"}),"Tipo de Entidade"]}),Object(x.jsx)("span",{style:{color:"#6c757d"},children:$e.sgigjentidade.sgigjprentidadetp.DESIG})]}),Object(x.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",marginBottom:"15px"},children:[Object(x.jsxs)("span",{children:[Object(x.jsx)("i",{className:"feather icon-map-pin m-r-5"}),"NIF"]}),Object(x.jsx)("span",{style:{color:"#6c757d"},children:$e.sgigjentidade.NIF})]}),Object(x.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",marginBottom:"15px"},children:[Object(x.jsxs)("span",{children:[Object(x.jsx)("i",{className:"feather icon-map-pin m-r-5"}),"In\xedcio de Atividade"]}),Object(x.jsx)("span",{style:{color:"#6c757d"},children:U($e.sgigjentidade.DT_INICIO_ATIVIDADE)})]}),Object(x.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",marginBottom:"15px"},children:[Object(x.jsxs)("span",{children:[Object(x.jsx)("i",{className:"feather icon-map-pin m-r-5"}),"Registo Comercial"]}),Object(x.jsx)("span",{style:{color:"#6c757d"},children:$e.sgigjentidade.REGISTO_COMERCIAL})]})]}),Object(x.jsxs)("div",{style:{borderBottom:"1px solid #d2b32a",marginBottom:"20px"},children:[Object(x.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",marginBottom:"15px"},children:[Object(x.jsxs)("span",{children:[Object(x.jsx)("i",{className:"feather icon-map-pin m-r-5"}),"Capital Social"]}),Object(x.jsx)("span",{style:{color:"#6c757d"},children:$e.sgigjentidade.CAPITAL_SOCIAL})]}),Object(x.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",marginBottom:"15px"},children:[Object(x.jsxs)("span",{children:[Object(x.jsx)("i",{className:"feather icon-map-pin m-r-5"}),"Observa\xe7\xf5es"]}),Object(x.jsx)("span",{style:{color:"#6c757d"},children:$e.sgigjentidade.OBS})]})]}),Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",marginBottom:"15px"},children:[Object(x.jsxs)("span",{children:[Object(x.jsx)("i",{className:"feather icon-phone m-r-5"}),"Telefone"]}),Object(x.jsx)("span",{style:{color:"#6c757d"},children:$e.EMAIL})]}),Object(x.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",marginBottom:"15px"},children:[Object(x.jsxs)("span",{children:[Object(x.jsx)("i",{className:"feather icon-phone m-r-5"}),"Telem\xf3vel"]}),Object(x.jsx)("span",{style:{color:"#6c757d"},children:$e.TELEMOVEL})]}),Object(x.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",marginBottom:"15px"},children:[Object(x.jsxs)("span",{children:[Object(x.jsx)("i",{className:"feather icon-mail m-r-5"}),"Email"]}),Object(x.jsx)("span",{style:{color:"#6c757d"},children:$e.TELEFONE})]})]})]}),Object(x.jsxs)(l.a,{xl:8,className:"task-detail-right",children:[Object(x.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"spaceAround"},children:[Object(x.jsxs)("span",{onClick:()=>kt("eventos"),style:"eventos"==Mt?{paddingBottom:"4px",cursor:"pointer",borderBottom:"2px solid #d2b32a",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}:{paddingBottom:"4px",cursor:"pointer",borderBottom:"1px solid #E5E5E5",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(x.jsx)("i",{className:"feather icon-server m-r-5"}),"Evento"]}),Object(x.jsxs)("span",{onClick:()=>kt("documentos"),style:"documentos"==Mt?{paddingBottom:"4px",cursor:"pointer",borderBottom:"2px solid #d2b32a",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}:{paddingBottom:"4px",cursor:"pointer",borderBottom:"1px solid #E5E5E5",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(x.jsx)("i",{className:"feather icon-file-text m-r-5"}),"Documentos"]}),Object(x.jsxs)("span",{onClick:()=>kt("parecer"),style:"parecer"==Mt?{paddingBottom:"4px",cursor:"pointer",borderBottom:"2px solid #d2b32a",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}:{paddingBottom:"4px",cursor:"pointer",borderBottom:"1px solid #E5E5E5",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(x.jsx)("i",{className:"feather icon-file-text m-r-5"}),"Parecer"]}),Object(x.jsxs)("span",{onClick:()=>kt("decisao"),style:"decisao"==Mt?{paddingBottom:"4px",cursor:"pointer",borderBottom:"2px solid #d2b32a",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}:{paddingBottom:"4px",cursor:"pointer",borderBottom:"1px solid #E5E5E5",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(x.jsx)("i",{className:"feather icon-file-text m-r-5"}),"Decis\xe3o"]})]}),Object(x.jsxs)("span",{style:"eventos"==Mt?{}:{display:"none"},children:[Object(x.jsxs)("div",{style:{flexWrap:"wrap",width:"100%",display:"flex",flexDirection:"row",paddingTop:"20px",paddingBottom:"20px",marginTop:"5px",overflow:"auto",height:"auto"},children:[Object(x.jsxs)("div",{style:{width:"100%",display:"flex",marginBottom:"15px"},children:[Object(x.jsx)("span",{style:{width:"50%",display:"flex",fontWeight:"bold"},children:"Tipo de Evento"}),Object(x.jsx)("span",{style:{width:"50%",display:"flex"},children:$e.sgigjpreventotp.DESIG})]}),Object(x.jsxs)("div",{style:{width:"100%",display:"flex",marginBottom:"15px"},children:[Object(x.jsx)("span",{style:{width:"50%",display:"flex",fontWeight:"bold"},children:"Designa\xe7\xe3o"}),Object(x.jsx)("span",{style:{width:"50%",display:"flex"},children:$e.DESIG})]}),Object(x.jsxs)("div",{style:{width:"100%",display:"flex",marginBottom:"15px"},children:[Object(x.jsx)("span",{style:{width:"50%",display:"flex",fontWeight:"bold"},children:"Pessoa Respons\xe1vel"}),Object(x.jsx)("span",{style:{width:"50%",display:"flex"},children:$e.sgigjrelpessoaentidade.sgigjpessoa.NOME})]}),Object(x.jsxs)("div",{style:{width:"100%",display:"flex",marginBottom:"15px"},children:[Object(x.jsx)("span",{style:{width:"50%",display:"flex",fontWeight:"bold"},children:"N\xba Sorteio"}),Object(x.jsx)("span",{style:{width:"50%",display:"flex"},children:$e.NUM_SORTEIO_NOITE})]}),Object(x.jsxs)("div",{style:{width:"100%",display:"flex",marginBottom:"15px"},children:[Object(x.jsx)("span",{style:{width:"50%",display:"flex",fontWeight:"bold"},children:"Pr\xeamio"}),Object(x.jsx)("div",{style:{width:"50%",display:"flex"},children:Object(x.jsx)("div",{dangerouslySetInnerHTML:{__html:$e.PREMIO_FORMATTED}})})]}),Object(x.jsxs)("div",{style:{width:"100%",display:"flex",marginBottom:"15px"},children:[Object(x.jsx)("span",{style:{width:"50%",display:"flex",fontWeight:"bold"},children:"Tipo Data de Evento"}),Object(x.jsx)("span",{style:{width:"50%",display:"flex"},children:null===(e=$e.data)||void 0===e?void 0:e.TIPO})]}),"ANUAL"==$e.data.TIPO&&Object(x.jsxs)("div",{style:{width:"100%",display:"flex",marginBottom:"15px"},children:[Object(x.jsx)("span",{style:{width:"50%",display:"flex",fontWeight:"bold"},children:"Data In\xedcio"}),Object(x.jsx)("span",{style:{width:"50%",display:"flex"},children:$e.data.DT_INICIO})]}),"FIXO"==$e.data.TIPO&&Object(x.jsxs)("div",{style:{width:"100%",display:"flex",marginBottom:"15px"},children:[Object(x.jsx)("span",{style:{width:"50%",display:"flex",fontWeight:"bold"},children:"Data In\xedcio"}),Object(x.jsx)("span",{style:{width:"50%",display:"flex"},children:$e.data.DT_INICIO})]}),"SEMANAL"==$e.data.TIPO&&Object(x.jsxs)("div",{style:{width:"100%",display:"flex",marginBottom:"15px"},children:[Object(x.jsx)("span",{style:{width:"50%",display:"flex",fontWeight:"bold"},children:"Data In\xedcio"}),Object(x.jsx)("span",{style:{width:"50%",display:"flex"},children:$e.data.DT_INICIO})]}),"MENSAL"==$e.data.TIPO&&Object(x.jsxs)("div",{style:{width:"100%",display:"flex",marginBottom:"15px"},children:[Object(x.jsx)("span",{style:{width:"50%",display:"flex",fontWeight:"bold"},children:"Dia"}),Object(x.jsxs)("span",{style:{width:"50%",display:"flex"},children:[$e.data.DT_INICIO," "]})]}),"FIXO"==$e.data.TIPO&&Object(x.jsxs)("div",{style:{width:"100%",display:"flex",marginBottom:"15px"},children:[Object(x.jsx)("span",{style:{width:"50%",display:"flex",fontWeight:"bold"},children:"Data In\xedcio"}),Object(x.jsx)("span",{style:{width:"50%",display:"flex"},children:U($e.data.DT_INICIO)})]}),"INTERVALO"==$e.data.TIPO&&Object(x.jsxs)("div",{style:{width:"100%",display:"flex",marginBottom:"15px"},children:[Object(x.jsx)("span",{style:{width:"50%",display:"flex",fontWeight:"bold"},children:"Data Fim"}),Object(x.jsx)("span",{style:{width:"50%",display:"flex"},children:U($e.data.DT_FIM)})]}),Object(x.jsxs)("div",{style:{width:"100%",display:"flex",marginBottom:"15px"},children:[Object(x.jsx)("span",{style:{width:"50%",display:"flex",fontWeight:"bold"},children:"Descri\xe7\xe3o"}),Object(x.jsx)("span",{style:{width:"50%",display:"flex"},children:$e.DESCR})]})]}),0===Object.keys($e.decisaox).length?null:Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:Object(x.jsxs)("span",{children:[Object(x.jsx)("i",{className:"feather icon-server m-r-5"}),"Decis\xe3o"]})}),Object(x.jsxs)("div",{style:{flexWrap:"wrap",width:"100%",display:"flex",marginBottom:"15px",flexDirection:"row",borderTop:"1px solid #d2b32a",paddingTop:"20px",paddingBottom:"20px",marginTop:"5px",overflow:"auto",height:"auto"},children:[Object(x.jsxs)("div",{style:{width:"100%",display:"flex",marginBottom:"15px"},children:[Object(x.jsx)("span",{style:{width:"50%",display:"flex",fontWeight:"bold"},children:"Decis\xe3o"}),Object(x.jsx)("span",{style:{display:"flex",backgroundColor:"APROVADO"==$e.decisaox.dec?"#d2b32a":"#FF5370",color:"#fff",paddingTop:"4px",paddingBottom:"4px",paddingLeft:"8px",paddingRight:"8px"},children:$e.decisaox.dec})]}),Object(x.jsxs)("div",{style:{width:"100%",display:"flex",marginBottom:"15px"},children:[Object(x.jsx)("span",{style:{width:"50%",display:"flex",fontWeight:"bold"},children:"Decisor"}),Object(x.jsx)("span",{style:{width:"50%",display:"flex"},children:$e.decisaox.pessoa})]}),null!=$e.decisaox.url?Object(x.jsx)("div",{style:{width:"100%",display:"flex",marginBottom:"15px"},children:Object(x.jsx)("a",{target:"_blank",href:$e.decisaox.url+"?alt=media&token=0",children:Object(x.jsx)("span",{style:{display:"flex",fontWeight:"bold"},children:"Abrir Ficheiro"})})}):null]})]})]}),Object(x.jsx)("span",{style:"parecer"==Mt?{}:{display:"none"},children:Object(x.jsx)("div",{style:{flexWrap:"wrap",width:"100%",display:"flex",flexDirection:"row",paddingTop:"20px",paddingBottom:"20px",marginTop:"5px",overflow:"auto",scroll:"auto",width:"100%",height:"auto",maxHeight:"500px",paddingRight:"20px"},children:1==$e.parecerolist?$e.sgigjreleventodespacho[0].sgigjreleventoparecer.map(e=>Object(x.jsxs)("div",{style:{width:"100%",marginBottom:"20px",borderBottom:"1px solid #6c757d"},children:[Object(x.jsxs)("div",{style:{width:"100%",display:"flex",marginBottom:"15px"},children:[Object(x.jsx)("span",{style:{width:"50%",display:"flex",fontWeight:"bold"},children:"Parecer"}),Object(x.jsx)("span",{style:{width:"50%",display:"flex"},children:"finalizado"!=e.STATUS?"Sem Parecer":"Finalizado"})]}),Object(x.jsxs)("div",{style:{width:"100%",display:"flex",marginBottom:"15px"},children:[Object(x.jsx)("span",{style:{width:"50%",display:"flex",fontWeight:"bold"},children:"Inspetor(a)"}),Object(x.jsx)("span",{style:{width:"50%",display:"flex"},children:null==e.sgigjrelpessoaentidade?"":e.sgigjrelpessoaentidade.sgigjpessoa.NOME})]}),Object(x.jsxs)("div",{style:{width:"100%",display:"flex",marginBottom:"15px"},children:[Object(x.jsx)("span",{style:{width:"50%",display:"flex",fontWeight:"bold"},children:"Data Atribui\xe7\xe3o"}),Object(x.jsx)("span",{style:{width:"50%",display:"flex"},children:U(e.DT_ATRIBUICAO)})]}),Object(x.jsxs)("div",{style:{width:"100%",display:"flex",marginBottom:"15px"},children:[Object(x.jsx)("span",{style:{width:"50%",display:"flex",fontWeight:"bold"},children:"Observa\xe7\xe3o"}),Object(x.jsx)("span",{style:{width:"50%",display:"flex"},children:e.OBS})]}),null!=e.URL_DOC_GERADO?Object(x.jsx)("div",{style:{width:"100%",display:"flex",marginBottom:"15px"},children:Object(x.jsx)("a",{target:"_blank",href:e.URL_DOC_GERADO+"?alt=media&token=0",children:Object(x.jsx)("span",{style:{display:"flex",fontWeight:"bold"},children:"Abrir Ficheiro"})})}):null]},e.ID)):null})}),Object(x.jsx)("span",{style:"decisao"==Mt?{}:{display:"none"},children:Object(x.jsx)("div",{style:{flexWrap:"wrap",width:"100%",display:"flex",flexDirection:"row",paddingTop:"20px",paddingBottom:"20px",marginTop:"5px",overflow:"auto",scroll:"auto",width:"100%",height:"auto",maxHeight:"500px",paddingRight:"20px"},children:1==$e.parecerolist?$e.sgigjreleventodespacho[0].sgigjreleventoparecer.map(e=>Object(x.jsxs)("div",{style:{width:"100%",marginBottom:"20px",borderBottom:"1px solid #6c757d"},children:[Object(x.jsxs)("div",{style:{width:"100%",display:"flex",marginBottom:"15px"},children:[Object(x.jsx)("span",{style:{width:"50%",display:"flex",fontWeight:"bold"},children:"Decis\xe3o"}),Object(x.jsx)("span",{style:{display:"flex",backgroundColor:"APROVADO"==$e.decisaox.dec?"#d2b32a":"#FF5370",color:"#fff",paddingTop:"4px",paddingBottom:"4px",paddingLeft:"8px",paddingRight:"8px"},children:$e.decisaox.dec})]}),Object(x.jsxs)("div",{style:{width:"100%",display:"flex",marginBottom:"15px"},children:[Object(x.jsx)("span",{style:{width:"50%",display:"flex",fontWeight:"bold"},children:"Decisor"}),Object(x.jsx)("span",{style:{width:"50%",display:"flex"},children:$e.decisaox.pessoa})]}),null!=$e.decisaox.url?Object(x.jsx)("div",{style:{width:"100%",display:"flex",marginBottom:"15px"},children:Object(x.jsx)("a",{target:"_blank",href:$e.decisaox.url+"?alt=media&token=0",children:Object(x.jsx)("span",{style:{display:"flex",fontWeight:"bold"},children:"Abrir Ficheiro"})})}):null]},e.ID)):null})}),Object(x.jsxs)("div",{style:"documentos"==Mt?{width:"100%",height:"450px"}:{display:"none"},children:[Object(x.jsx)("div",{style:{width:"100%",borderBottom:"1px solid #d2b32a",paddingTop:"20px",paddingBottom:"20px",marginBottom:"20px",overflow:"auto",height:"70px"},children:"undefined"!=typeof $e.doclist?$e.doclist.map(e=>Object(x.jsx)(g.b,{onClick:()=>Ye(e.url),style:{margin:"2px"},to:"#",className:"mb-1 text-muted d-flex align-items-end text-h-primary",children:"::"+e.nome},e.id)):null}),$e.doclist.length>0?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",marginBottom:"10px"},children:Object(x.jsxs)("span",{children:[Object(x.jsx)("i",{className:"feather icon-eye m-r-5"}),"Pr\xe9-vizualiza\xe7\xe3o"]})}),Object(x.jsx)("a",{href:Je+"?alt=media&token=0",target:"_blank",rel:"noopener noreferrer",children:Object(x.jsx)("div",{className:""==Je?"previewdoc":"previewdoc-img",style:{backgroundImage:'url("'+Je+'?alt=media&token=0")',height:"400px"}})})]}):Object(x.jsx)("p",{className:"text-center",children:"Sem Anexo"})]})]})]})}),Object(x.jsxs)(j.a.Footer,{className:"d-flex justify-content-between",children:[Object(x.jsxs)("span",{children:["Registado por: ",null===$e||void 0===$e||null===(t=$e.criadoPor)||void 0===t||null===(a=t.sgigjrelpessoaentidade)||void 0===a||null===(s=a.sgigjpessoa)||void 0===s?void 0:s.NOME]}),Object(x.jsx)(c.a,{variant:"danger",onClick:()=>Ze(!1),children:"Fechar"})]})]}),Object(x.jsxs)(j.a,{size:"xl",show:te,onHide:()=>ae(!1),children:[Object(x.jsx)(j.a.Header,{closeButton:!0,children:Object(x.jsx)(j.a.Title,{as:"h5",children:"Decis\xe3o"})}),Object(x.jsx)(j.a.Body,{className:"newuserbox",children:Object(x.jsx)("form",{id:"criarDecisao",onSubmit:async function(e){var t;e.preventDefault();const a={DATA:Be,PR_DECISAO_TP_ID:Pe,REFERENCIA:ke,DESPACHO:null===p||void 0===p||null===(t=p.current)||void 0===t?void 0:t.value,STATUS:"atualizar"};try{if("200"==(await O.a.put("/sgigjreleventodespacho/"+Le,a)).status){const e={STATUS:"finalizado"};"200"==(await O.a.put("/sgigjreleventodespacho/"+Le,e)).status&&(Z(),ae(!1),ee(!1),ie(!1),Ze(!1))}}catch(s){"33343345"==s.response.data.code&&S("O tempo limite desse evento j\xe1 foi ultrapassado")}},children:Object(x.jsxs)(o.a,{children:[Object(x.jsx)(l.a,{sm:4,children:Object(x.jsxs)("div",{className:"form-group fill",children:[Object(x.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Data ",Object(x.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(x.jsx)("input",{defaultValue:Be,type:"date",onChange:e=>{Re(e.target.value)},className:"form-control",id:"data",required:!0})]})}),Object(x.jsx)(l.a,{sm:4,children:Object(x.jsxs)("div",{className:"form-group fill",children:[Object(x.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Decis\xe3o ",Object(x.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(x.jsxs)("select",{defaultValue:Pe,className:"form-control",onChange:e=>{Fe(e.target.value)},id:"perfil",required:!0,"aria-required":"true",children:[Object(x.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),_.map(e=>Object(x.jsx)("option",{value:e.ID,children:e.DESIG},e.ID))]})]})}),Object(x.jsx)(l.a,{sm:4,children:Object(x.jsxs)("div",{className:"form-group fill",children:[Object(x.jsx)("label",{className:"floating-label",htmlFor:"Name",children:"Refer\xeancia"}),Object(x.jsx)("input",{defaultValue:ke,type:"number",onChange:e=>{Ue(e.target.value)},className:"form-control",id:"Name"})]})}),Object(x.jsx)(l.a,{sm:12,children:Object(x.jsxs)("div",{className:"form-group fill",children:[Object(x.jsx)("label",{className:"floating-label",htmlFor:"Name",children:"Documento Decis\xe3o"}),Object(x.jsx)(w.a,{editorRef:e=>{},value:Gt,config:{readonly:!1},ref:p,onChange:e=>{He=e}})]})})]})})}),Object(x.jsxs)(j.a.Footer,{children:[Object(x.jsx)(c.a,{variant:"danger",onClick:()=>ae(!1),children:"Fechar"}),Object(x.jsx)(c.a,{variant:"primary",onClick:()=>async function(){var e;const t={DATA:Be,PR_DECISAO_TP_ID:Pe,REFERENCIA:ke,DESPACHO:null===p||void 0===p||null===(e=p.current)||void 0===e?void 0:e.value,STATUS:"atualizar"};try{"200"==(await O.a.put("/sgigjreleventodespacho/"+Le,t)).status&&(Z(),ae(!1),ee(!1),ie(!1),Ze(!1))}catch(a){console.error(a.response)}}(),children:"Guardar"}),Object(x.jsx)(c.a,{type:"submit",form:"criarDecisao",variant:"primary",children:"Concluir"})]})]})]})})})}}}]);
//# sourceMappingURL=39.c80a79cd.chunk.js.map