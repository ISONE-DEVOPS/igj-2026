(this["webpackJsonpigj-frontend"]=this["webpackJsonpigj-frontend"]||[]).push([[26],{817:function(e,t,a){"use strict";var s=a(2),l=a(3),c=a(6),n=a.n(c),i=a(0),o=a.n(i),r=a(9),d=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],j=o.a.forwardRef(function(e,t){var a=e.bsPrefix,c=e.className,i=e.striped,j=e.bordered,b=e.borderless,m=e.hover,h=e.size,x=e.variant,p=e.responsive,O=Object(l.a)(e,d),u=Object(r.a)(a,"table"),g=n()(c,u,x&&u+"-"+x,h&&u+"-"+h,i&&u+"-striped",j&&u+"-bordered",b&&u+"-borderless",m&&u+"-hover"),f=o.a.createElement("table",Object(s.a)({},O,{className:g,ref:t}));if(p){var y=u+"-responsive";return"string"===typeof p&&(y=y+"-"+p),o.a.createElement("div",{className:y},f)}return f});t.a=j},818:function(e,t,a){"use strict";var s=a(2),l=a(3),c=a(6),n=a.n(c),i=a(0),o=a.n(i),r=a(9),d=a(131),j=["active","disabled","className","style","activeLabel","children"],b=["children"],m=o.a.forwardRef(function(e,t){var a=e.active,c=e.disabled,i=e.className,r=e.style,b=e.activeLabel,m=e.children,h=Object(l.a)(e,j),x=a||c?"span":d.a;return o.a.createElement("li",{ref:t,style:r,className:n()(i,"page-item",{active:a,disabled:c})},o.a.createElement(x,Object(s.a)({className:"page-link",disabled:c},h),m,a&&b&&o.a.createElement("span",{className:"sr-only"},b)))});m.defaultProps={active:!1,disabled:!1,activeLabel:"(current)"},m.displayName="PageItem";var h=m;function x(e,t,a){function s(e){var s=e.children,c=Object(l.a)(e,b);return o.a.createElement(m,c,o.a.createElement("span",{"aria-hidden":"true"},s||t),o.a.createElement("span",{className:"sr-only"},a))}return void 0===a&&(a=e),s.displayName=e,s}var p=x("First","\xab"),O=x("Prev","\u2039","Previous"),u=x("Ellipsis","\u2026","More"),g=x("Next","\u203a"),f=x("Last","\xbb"),y=["bsPrefix","className","children","size"],N=o.a.forwardRef(function(e,t){var a=e.bsPrefix,c=e.className,i=e.children,d=e.size,j=Object(l.a)(e,y),b=Object(r.a)(a,"pagination");return o.a.createElement("ul",Object(s.a)({ref:t},j,{className:n()(c,b,d&&b+"-"+d)}),i)});N.First=p,N.Prev=O,N.Ellipsis=u,N.Item=h,N.Next=g,N.Last=f;t.a=N},832:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var s=a(0),l=a(816),c=a(1);const n=e=>{let{filter:t,setFilter:a}=e;const[n,i]=Object(s.useState)(t),o=Object(l.useAsyncDebounce)(e=>{a(e||void 0)},1e3);return Object(c.jsxs)("span",{className:"d-flex align-items-center justify-content-end",children:["Procurar:"," ",Object(c.jsx)("input",{className:"form-control ml-2 w-auto",value:n||"",onChange:e=>{i(e.target.value),o(e.target.value)}})]})}},979:function(e,t,a){"use strict";a.r(t);var s=a(8),l=a(0),c=a.n(l),n=a(812),i=a(404),o=a(403),r=a(818),d=a(839),j=a(814),b=a(817),m=a(7),h=a(832),x=a(816),p=a(32),O=a(26),u=a(22),g=a(76),f=a(1);const y="/entidades/entidades";function N(e){let{columns:t,data:a,modalOpen:l}=e;const{permissoes:c}=Object(O.a)(),{getTableProps:d,getTableBodyProps:j,headerGroups:m,prepareRow:p,globalFilter:u,setGlobalFilter:N,page:v,canPreviousPage:I,canNextPage:D,pageOptions:E,pageCount:C,gotoPage:w,nextPage:S,previousPage:_,setPageSize:T,state:{pageIndex:A,pageSize:G}}=Object(x.useTable)({columns:t,data:a,initialState:{pageIndex:0,pageSize:10}},x.useGlobalFilter,x.useSortBy,x.usePagination);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(n.a,{className:"mb-3",children:[Object(f.jsxs)(i.a,{className:"d-flex align-items-center",children:["Mostrar",Object(f.jsx)("select",{className:"form-control w-auto mx-2",value:G,onChange:e=>{T(Number(e.target.value))},children:[5,10,20,30,40,50].map(e=>Object(f.jsx)("option",{value:e,children:e},e))}),"entradas"]}),Object(f.jsxs)(i.a,{className:"d-flex justify-content-end",children:[Object(f.jsx)(h.a,{filter:u,setFilter:N}),0==Object(g.s)(y,c,"Criar")?null:Object(f.jsxs)(o.a,{variant:"primary",className:"btn-sm btn-round has-ripple ml-2",onClick:l,children:[Object(f.jsx)("i",{className:"feather icon-plus"})," Adicionar"]})]})]}),Object(f.jsxs)(b.a,Object(s.a)(Object(s.a)({striped:!0,bordered:!0,hover:!0,responsive:!0},d()),{},{children:[Object(f.jsx)("thead",{children:m.map(e=>Object(f.jsx)("tr",Object(s.a)(Object(s.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map(e=>Object(f.jsxs)("th",Object(s.a)(Object(s.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),Object(f.jsx)("span",{children:e.isSorted?e.isSortedDesc?Object(f.jsx)("span",{className:"feather icon-arrow-down text-muted float-right"}):Object(f.jsx)("span",{className:"feather icon-arrow-up text-muted float-right"}):""})]})))})))}),Object(f.jsx)("tbody",Object(s.a)(Object(s.a)({},j()),{},{children:v.map((e,t)=>(p(e),Object(f.jsx)("tr",Object(s.a)(Object(s.a)({},e.getRowProps()),{},{children:e.cells.map(e=>{const t=e.column.centered;return Object(f.jsx)("td",Object(s.a)(Object(s.a)({},e.getCellProps()),{},{className:t?"text-center":"text-right",children:e.render("Cell")}))})}))))}))]})),Object(f.jsxs)(n.a,{className:"justify-content-between",children:[Object(f.jsx)(i.a,{children:Object(f.jsxs)("span",{className:"d-flex align-items-center",children:["P\xe1gina"," ",Object(f.jsxs)("strong",{children:[" ",A+1," de ",E.length," "]})," ","| Ir para a p\xe1gina:"," ",Object(f.jsx)("input",{type:"number",className:"form-control ml-2",defaultValue:A+1,onChange:e=>{const t=e.target.value?Number(e.target.value)-1:0;w(t)},style:{width:"100px"}})]})}),Object(f.jsx)(i.a,{children:Object(f.jsxs)(r.a,{className:"justify-content-end",children:[Object(f.jsx)(r.a.First,{onClick:()=>w(0),disabled:!I}),Object(f.jsx)(r.a.Prev,{onClick:()=>_(),disabled:!I}),Object(f.jsx)(r.a.Next,{onClick:()=>S(),disabled:!D}),Object(f.jsx)(r.a.Last,{onClick:()=>w(C-1),disabled:!D})]})})]})]})}t.default=()=>{const{permissoes:e}=Object(O.a)(),t=Object(u.g)(),{popUp_removerItem:a,popUp_alertaOK:s}=Object(O.a)(),[r,b]=Object(l.useState)({}),h=c.a.useMemo(()=>[{Header:"C\xf3digo",accessor:"CODIGO",centered:!1},{Header:"Designa\xe7\xe3o",accessor:"DESIG",centered:!0},{Header:"Localidade",accessor:"LOCALIDADE",centered:!0},{Header:"Registo Comercial",accessor:"REGISTO_COMERCIAL",centered:!0},{Header:"NIF",accessor:"NIF",centered:!1},{Header:"A\xe7\xf5es",accessor:"action",centered:!0}],[]);async function x(e){var t={status:!1,file:null};try{const a=new FormData;a.append("file",e);const s={headers:{"content-type":"multipart/form-data"}},l=await p.a.post("/upload",a,s);t={status:!0,file:l},console.log(l)}catch(a){console.error(a.response),t={status:!1,file:null}}return t}function v(e){if(null==e)return;let t=new Date(e).toLocaleDateString("en-GB",{day:"numeric",month:"numeric",year:"numeric"}).split(" ").join("-");return t=t.replace("/","-"),t.replace("/","-")}const[I,D]=Object(l.useState)([]),[E,C]=Object(l.useState)(!1);async function w(){try{const s=await p.a.get("/sgigjentidade");if(console.log("response - ",s.data),"200"==s.status){for(var t=0;t<s.data.length;t++){const a=s.data[t].ID;s.data[t].id=s.data[t].ID,s.data[t].DT_REGISTO=v(s.data[t].DT_REGISTO),s.data[t].PRENTIDADE=s.data[t].sgigjprentidadetp.DESIG,s.data[t].LOCALIDADE=s.data[t].glbgeografia.NOME;s.data[t];s.data[t].action=Object(f.jsxs)(c.a.Fragment,{children:[0==Object(g.l)("/entidades/entidades/detalhes",e)?null:Object(f.jsx)(m.b,{to:"/entidades/entidades/detalhes/"+a,title:Object(g.n)("/entidades/entidades/detalhes",e),className:"text-primary mx-1",children:Object(f.jsx)("i",{className:""+Object(g.m)("/entidades/entidades/detalhes",e)})}),0==Object(g.s)(y,e,"Eliminar")?null:Object(f.jsx)(m.b,{to:"#",title:Object(g.u)(y,e,"Eliminar"),onClick:()=>Be(a),className:"text-danger",children:Object(f.jsx)("i",{className:""+Object(g.t)(y,e,"Eliminar")})})]}),null==s.data[t].SELF_ID&&(s.data[t]=null)}var a=s.data.filter(function(e){return null!=e});console.log("filtered - ",a),D(a)}}catch(s){console.error(s.response)}}const[S,_]=Object(l.useState)([]);const[T,A]=Object(l.useState)([]);const[G,L]=Object(l.useState)([]);const[B,F]=Object(l.useState)([]);const[P,R]=Object(l.useState)([]);Object(l.useEffect)(()=>{var a;fe("undefined"!=typeof r.doclist?null===r||void 0===r||null===(a=r.doclist[0])||void 0===a?void 0:a.url:""),0==Object(g.l)(y,e)?t.push("/"):(w(),async function(){try{const e=await p.a.get("/glbgeografia");"200"==e.status&&_(e.data)}catch(e){console.error(e.response)}}(),async function(){try{const e=await p.a.get("/sgigjprentidadetp");"200"==e.status&&A(e.data)}catch(e){console.error(e.response)}}(),async function(){try{const e=await p.a.get("/sgigjentidade");"200"==e.status&&L(e.data)}catch(e){console.error(e.response)}}(),async function(){try{const e=await p.a.get("/sgigjprcontactotp");"200"==e.status&&R(e.data)}catch(e){console.error(e.response)}}(),async function(){try{const e=await p.a.get("/sgigjprdocumentotp");"200"==e.status&&F(e.data)}catch(e){console.error(e.response)}}())},[r]);const[q,k]=Object(l.useState)(""),[V,M]=Object(l.useState)(""),[H,U]=Object(l.useState)(""),[z,Q]=Object(l.useState)(""),[J,K]=Object(l.useState)(""),[W,X]=Object(l.useState)(""),[Y,Z]=Object(l.useState)(""),[$,ee]=Object(l.useState)(""),[te,ae]=Object(l.useState)(""),[se,le]=Object(l.useState)(""),[ce,ne]=Object(l.useState)(""),[ie,oe]=Object(l.useState)(""),[re,de]=Object(l.useState)(""),[je,be]=Object(l.useState)(""),[me,he]=Object(l.useState)(""),[xe,pe]=Object(l.useState)(""),[Oe,ue]=Object(l.useState)(""),[ge,fe]=Object(l.useState)(""),[ye,Ne]=Object(l.useState)(0);const[ve,Ie]=Object(l.useState)("colaboradores"),[De,Ee]=Object(l.useState)({}),[Ce,we]=Object(l.useState)({sgigjentidade:{},glbgeografia:{}});function Se(e){return null!=e?e.substring(0,10):""}const[_e,Te]=Object(l.useState)(!1),[Ae,Ge]=Object(l.useState)("");const Le=async e=>{let t=!0;try{await p.a.delete("/sgigjentidade/"+e)}catch(a){t=!1,console.error(a.response),s("Falha. Tente mais tarde")}return w(),t},Be=async e=>{a({delete:Le,id:e})},[Fe,Pe]=Object(l.useState)(!1),[Re,qe]=Object(l.useState)(!1),[ke,Ve]=Object(l.useState)(!1);function Me(e){k(e),M(""),U(""),ee("")}function He(e){M(e),U(""),ee("")}function Ue(e){U(e),ee("")}const[ze,Qe]=Object(l.useState)("geral"),Je="nav-link text-reset",Ke="nav-link text-reset active";var[We,Xe]=Object(l.useState)([{id:""+Math.random(),tipocontacto:"",contacto:""}]);function Ye(){Xe(We.concat([{id:""+Math.random(),tipocontacto:"",contacto:""}]))}function Ze(e){if(We.length>1){const a=We.findIndex(t=>t.id===e);if(a>-1){var t=We;t.splice(a,1),Xe(t.concat([])),et(!0)}}}const[$e,et]=Object(l.useState)(!1);function tt(e,t){const a=We.findIndex(e=>e.id===t);We[a]={id:t,tipocontacto:e,contacto:We[a].contacto},et(!0),Xe(We.concat([]))}function at(e,t){const a=We.findIndex(e=>e.id===t);We[a]={id:t,contacto:e,tipocontacto:We[a].tipocontacto},et(!0),Xe(We.concat([]))}var[st,lt]=Object(l.useState)([{id:""+Math.random(),tipodocumento:"",numero:"",dataemissao:"",datavalidade:"",anexo:{type:0,file:null}}]);function ct(){lt(st.concat([{id:""+Math.random(),tipodocumento:"",numero:"",dataemissao:"",datavalidade:"",anexo:{type:0,file:null}}]))}function nt(e){if(st.length>1){const a=st.findIndex(t=>t.id===e);if(a>-1){var t=st;t.splice(a,1),lt(t.concat([])),ot(!0)}}}const[it,ot]=Object(l.useState)(!1);function rt(e,t){const a=st.findIndex(e=>e.id===t);st[a]={id:t,tipodocumento:e,numero:st[a].numero,dataemissao:st[a].dataemissao,datavalidade:st[a].datavalidade,anexo:st[a].anexo},ot(!0),lt(st.concat([]))}function dt(e,t){const a=st.findIndex(e=>e.id===t);st[a]={id:t,numero:e,tipodocumento:st[a].tipodocumento,dataemissao:st[a].dataemissao,datavalidade:st[a].datavalidade,anexo:st[a].anexo},ot(!0),lt(st.concat([]))}function jt(e,t){const a=st.findIndex(e=>e.id===t);st[a]={id:t,dataemissao:e,numero:st[a].numero,tipodocumento:st[a].tipodocumento,datavalidade:st[a].datavalidade,anexo:st[a].anexo},ot(!0),lt(st.concat([]))}function bt(e,t){const a=st.findIndex(e=>e.id===t);st[a]={id:t,datavalidade:e,numero:st[a].numero,tipodocumento:st[a].tipodocumento,dataemissao:st[a].dataemissao,anexo:st[a].anexo},ot(!0),lt(st.concat([]))}function mt(e,t){const a=st.findIndex(e=>e.id===t);console.log(st[a]),console.log(t),""!=st[a].tipodocumento&&""!=st[a].numero||s("Preencha o campos obrigat\xf3rios"),st[a]={id:t,tipodocumento:st[a].tipodocumento,dataemissao:st[a].dataemissao,datavalidade:st[a].datavalidade,numero:st[a].numero,anexo:{type:2,file:e}},ot(!0),lt(st.concat([]))}return console.log("newdata - ",I),Object(f.jsx)(c.a.Fragment,{children:Object(f.jsx)(n.a,{children:Object(f.jsxs)(i.a,{sm:12,children:[Object(f.jsx)(d.a,{children:Object(f.jsx)(d.a.Body,{children:Object(f.jsx)(N,{columns:h,data:I,modalOpen:()=>{Q(""),K(""),X(""),Z(""),ee(""),ae(""),le(""),ne(""),oe(""),be(""),he(""),pe(""),ue(""),k(""),M(""),U(""),Qe("geral"),Xe([{id:""+Math.random(),tipocontacto:"",contacto:""}]),lt([{id:""+Math.random(),tipodocumento:"",numero:"",dataemissao:"",datavalidade:"",anexo:{type:0,file:null}}]),Pe(!0),qe(!1),Ve(!1)}})})}),Object(f.jsxs)(j.a,{size:"lg",show:Fe,onHide:()=>Pe(!1),children:[Object(f.jsx)(j.a.Header,{style:{border:"0"},closeButton:!0,children:Object(f.jsx)(j.a.Title,{as:"h5",children:"Novo"})}),Object(f.jsxs)("ul",{className:"nav nav-tabs profile-tabs nav-fill",id:"myTab",role:"tablist",children:[Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsxs)(m.b,{to:"#",className:"geral"===ze?Ke:Je,onClick:()=>{Qe("geral")},id:"profile-tab",children:[Object(f.jsx)("i",{className:"feather icon-user mr-2"}),"Perfil"]})}),Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsxs)(m.b,{to:"#",className:"contactos"===ze?Ke:Je,onClick:()=>{Qe("contactos")},id:"contact-tab",children:[Object(f.jsx)("i",{className:"feather icon-phone mr-2"}),"Contactos"]})}),Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsxs)(m.b,{to:"#",className:"documentos"===ze?Ke:Je,onClick:()=>{Qe("documentos")},id:"contact-tab",children:[Object(f.jsx)("i",{className:"feather icon-file-text mr-2"}),"Documentos"]})})]}),Object(f.jsxs)(j.a.Body,{style:"documentos"===ze?{}:{display:"none"},children:[Object(f.jsx)(i.a,{style:{display:"flex",justifyContent:"flex-end"},sm:12,children:Object(f.jsx)(o.a,{onClick:()=>ct(),variant:"primary",children:"+"})}),st.map(e=>{var t;return Object(f.jsxs)(n.a,{style:{marginBottom:"12px"},children:[Object(f.jsx)(i.a,{sm:10,children:Object(f.jsxs)(n.a,{children:[Object(f.jsx)(i.a,{sm:6,children:Object(f.jsxs)("div",{className:"form-group fill",children:[Object(f.jsxs)("label",{className:"floating-label",htmlFor:"Phone",children:["Tipo de Documentos"," ",Object(f.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(f.jsxs)("select",{onChange:t=>{rt(t.target.value,e.id)},className:"form-control",id:"perfil",required:!0,"aria-required":"true",children:[Object(f.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),B.map(e=>Object(f.jsx)("option",{value:e.ID,children:e.DESIG},e.ID))]})]})}),Object(f.jsx)(i.a,{sm:3,children:Object(f.jsxs)("div",{className:"form-group fill",children:[Object(f.jsxs)("label",{className:"floating-label",htmlFor:"text",children:["N\xfamero ",Object(f.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(f.jsx)("input",{max:"99999999999999",onChange:t=>{dt(t.target.value,e.id)},type:"number",className:"form-control"})]})}),Object(f.jsxs)("div",{className:"sm-2 paddinhtop28OnlyPC",children:[Object(f.jsxs)("label",{htmlFor:"anexarcriar"+e.id,className:"btn",style:{backgroundColor:"#d2b32a",color:"#fff"},children:[null==(null===e||void 0===e||null===(t=e.anexo)||void 0===t?void 0:t.file)?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("i",{className:"feather icon-download"}),Object(f.jsx)(f.Fragment,{children:" Anexar"})]}):"Anexado"," "]}),Object(f.jsx)("input",{id:"anexarcriar"+e.id,onChange:t=>mt(t.target.files[0],e.id),accept:"image/x-png,image/jpeg",style:{display:"none"},type:"file"})]}),Object(f.jsx)(i.a,{sm:6,children:Object(f.jsxs)("div",{className:"form-group fill",children:[Object(f.jsx)("label",{className:"floating-label",htmlFor:"date",children:"Data de Emiss\xe3o"}),Object(f.jsx)("input",{onChange:t=>{jt(t.target.value,e.id)},type:"date",className:"form-control"})]})}),Object(f.jsx)(i.a,{sm:6,children:Object(f.jsxs)("div",{className:"form-group fill",children:[Object(f.jsx)("label",{className:"floating-label",htmlFor:"text",children:"Data de Validade"}),Object(f.jsx)("input",{onChange:t=>{bt(t.target.value,e.id)},type:"date",className:"form-control"})]})})]})}),st.length>1?Object(f.jsx)("div",{className:"paddinhtop66OnlyPC sm-2",children:Object(f.jsx)(o.a,{onClick:()=>nt(e.id),variant:"danger",children:Object(f.jsx)("i",{className:"feather icon-trash-2"})})}):null]},e.id)})]}),Object(f.jsxs)(j.a.Body,{style:"contactos"===ze?{}:{display:"none"},children:[Object(f.jsx)(i.a,{style:{display:"flex",justifyContent:"flex-end"},sm:12,children:Object(f.jsx)(o.a,{onClick:()=>Ye(),variant:"primary",children:"+"})}),We.map(e=>Object(f.jsxs)(n.a,{style:{marginBottom:"12px"},children:[Object(f.jsx)(i.a,{sm:5,children:Object(f.jsxs)("div",{className:"form-group fill",children:[Object(f.jsxs)("label",{className:"floating-label",htmlFor:"Phone",children:["Tipo de Contacto ",Object(f.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(f.jsxs)("select",{onChange:t=>{tt(t.target.value,e.id)},className:"form-control",id:"perfil",required:!0,"aria-required":"true",children:[Object(f.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),P.map(e=>Object(f.jsx)("option",{value:e.ID,children:e.DESIG},e.ID))]})]})}),Object(f.jsx)(i.a,{sm:5,children:Object(f.jsxs)("div",{className:"form-group fill",children:[Object(f.jsxs)("label",{className:"floating-label",htmlFor:"text",children:["Contacto ",Object(f.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(f.jsx)("input",{maxLength:"128",onChange:t=>{at(t.target.value,e.id)},type:"text",className:"form-control"})]})}),We.length>1?Object(f.jsx)("div",{className:"sm-2 paddinhtop28OnlyPC",children:Object(f.jsx)(o.a,{onClick:()=>Ze(e.id),variant:"danger",children:Object(f.jsx)("i",{className:"feather icon-trash-2"})})}):null]},e.id))]}),Object(f.jsx)(j.a.Body,{style:"geral"===ze?{}:{display:"none"},children:Object(f.jsx)("form",{id:"criar",onSubmit:async function(e){e.preventDefault(),C(!0);const t={SELF_ID:W,PR_ENTIDADE_TP_ID:Y,GEOGRAFIA_ID:$,DESIG:te,ENDERECO:ce,ENDERECO_COORD:ie,OBS:se,NIF:re,REGISTO_COMERCIAL:je,CAPITAL_SOCIAL:me,LOGO_URL:xe,DT_INICIO_ATIVIDADE:Oe,LOGO_URL:"0"};try{const e=await p.a.post("/sgigjentidade",t);if("200"==e.status){for(let t=0;t<We.length;t++)if(""!=We[t].tipocontacto&&""!=We[t].contacto){console.log(We);const a={ENTIDADE_ID:e.data.ID,PR_CONTACTO_TP_ID:We[t].tipocontacto,CONTACTO:We[t].contacto};try{await p.a.post("/sgigjrelcontacto",a)}catch(s){console.error(s.response)}}for(let t=0;t<st.length;t++)if(""!=st[t].tipodocumento&&""!=st[t].numero){console.log(st);var a="";if("1"==st[t].anexo.type&&(a=st[t].anexo.file),"2"==st[t].anexo.type){a=(await x(st[t].anexo.file)).file.data}console.log(a);const l={ENTIDADE_ID:e.data.ID,PR_DOCUMENTO_TP_ID:st[t].tipodocumento,NUMERO:st[t].numero,DOC_URL:a,DT_EMISSAO:st[t].dataemissao,DT_VALIDADE:st[t].datavalidade};try{await p.a.post("/sgigjreldocumento",l)}catch(s){console.error(s.response)}}w(),C(!1),Pe(!1)}}catch(s){C(!1),console.error(s.response)}},children:Object(f.jsxs)(n.a,{children:[Object(f.jsx)(i.a,{sm:3,children:Object(f.jsxs)("div",{className:"form-group fill",children:[Object(f.jsxs)("label",{className:"floating-label",htmlFor:"text",children:["C\xf3digo ",Object(f.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(f.jsx)("input",{disabled:!0,onChange:()=>{},type:"text",className:"form-control",id:"Name"})]})}),Object(f.jsx)(i.a,{sm:6,children:Object(f.jsxs)("div",{className:"form-group fill",children:[Object(f.jsxs)("label",{className:"floating-label",htmlFor:"Email",children:["Designa\xe7\xe3o ",Object(f.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(f.jsx)("input",{maxLength:"256",defaultValue:"",type:"text",onChange:e=>{ae(e.target.value)},className:"form-control",id:"Nome ",placeholder:"Designa\xe7\xe3o...",required:!0})]})}),Object(f.jsx)(i.a,{sm:3,children:Object(f.jsxs)("div",{className:"form-group fill",children:[Object(f.jsxs)("label",{className:"floating-label",htmlFor:"text",children:["NIF ",Object(f.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(f.jsx)("input",{maxLength:"9",defaultValue:"",type:"number",onChange:e=>{de(e.target.value)},className:"form-control",id:"alcunga",placeholder:"NIF...",required:!0})]})}),Object(f.jsx)(i.a,{sm:4,children:Object(f.jsxs)("div",{className:"form-group fill",children:[Object(f.jsx)("label",{className:"floating-label",htmlFor:"Phone",children:"Entidade Principal"}),Object(f.jsxs)("select",{className:"form-control",onChange:e=>{X(e.target.value)},id:"perfil",children:[Object(f.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),G.map(e=>Object(f.jsx)("option",{value:e.ID,children:e.DESIG},e.ID))]})]})}),Object(f.jsx)(i.a,{sm:4,children:Object(f.jsxs)("div",{className:"form-group fill",children:[Object(f.jsxs)("label",{className:"floating-label",htmlFor:"Phone",children:["Tipo de Entidade"," ",Object(f.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(f.jsxs)("select",{className:"form-control",onChange:e=>{Z(e.target.value)},id:"perfil",required:!0,"aria-required":"true",children:[Object(f.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),T.map(e=>Object(f.jsx)("option",{value:e.ID,children:e.DESIG},e.ID))]})]})}),Object(f.jsx)(i.a,{sm:4,children:Object(f.jsxs)("div",{className:"form-group fill",children:[Object(f.jsxs)("label",{className:"floating-label",htmlFor:"date",children:["Data In\xedcio Atividade"," ",Object(f.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(f.jsx)("input",{type:"date",onChange:e=>{ue(e.target.value)},className:"form-control",id:"data",required:!0})]})}),Object(f.jsx)(i.a,{sm:6,children:Object(f.jsxs)("div",{className:"form-group fill",children:[Object(f.jsxs)("label",{className:"floating-label",htmlFor:"Phone",children:["Registo Comercial"," ",Object(f.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(f.jsx)("input",{maxLength:"25",type:"text",onChange:e=>{be(e.target.value)},className:"form-control",id:"pai",placeholder:"Registo Comercial...",required:!0})]})}),Object(f.jsx)(i.a,{sm:6,children:Object(f.jsxs)("div",{className:"form-group fill",children:[Object(f.jsx)("label",{className:"floating-label",htmlFor:"Phone",children:"Capital Social"}),Object(f.jsx)("input",{max:"99999999999",type:"number",onChange:e=>{he(e.target.value)},className:"form-control",id:"mae",placeholder:"Capital Social..."})]})}),Object(f.jsx)(i.a,{sm:12,children:Object(f.jsxs)("div",{className:"form-group fill",children:[Object(f.jsx)("label",{className:"floating-label",htmlFor:"text",children:"Coordenadas"}),Object(f.jsx)("input",{maxLength:"48",type:"text",onChange:e=>{oe(e.target.value)},className:"form-control",id:"coordenada",placeholder:"Endereco Coord..."})]})}),Object(f.jsx)("div",{className:"col-sm-12",children:Object(f.jsxs)("div",{className:"form-group fill",children:[Object(f.jsxs)("label",{className:"floating-label",htmlFor:"Address",children:["Endere\xe7o ",Object(f.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(f.jsx)("textarea",{maxLength:"256",className:"form-control",onChange:e=>{ne(e.target.value)},id:"endereco",rows:"3",required:!0,placeholder:"Endere\xe7o..."})]})}),Object(f.jsx)(i.a,{sm:3,children:Object(f.jsxs)("div",{className:"form-group fill",children:[Object(f.jsxs)("label",{className:"floating-label",htmlFor:"text",children:["Ilha ",Object(f.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(f.jsxs)("select",{className:"form-control",id:"perfil",onChange:e=>{Me(e.target.value)},required:!0,"aria-required":"true",children:[Object(f.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),S.map(e=>"2"==e.NIVEL_DETALHE?Object(f.jsx)("option",{value:e.ID,children:e.ILHA},e.ID):null)]})]})}),Object(f.jsx)(i.a,{sm:3,children:Object(f.jsxs)("div",{className:"form-group fill",children:[Object(f.jsxs)("label",{className:"floating-label",htmlFor:"text",children:["Concelho ",Object(f.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(f.jsxs)("select",{className:"form-control",id:"perfil",onChange:e=>{He(e.target.value)},required:!0,"aria-required":"true",children:[Object(f.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),S.map(e=>"3"==e.NIVEL_DETALHE&&e.GLB_GEOG_ID==q?Object(f.jsx)("option",{value:e.ID,children:e.CONCELHO},e.ID):null)]})]})}),Object(f.jsx)(i.a,{sm:3,children:Object(f.jsxs)("div",{className:"form-group fill",children:[Object(f.jsxs)("label",{className:"floating-label",htmlFor:"text",children:["Fregu\xeasia ",Object(f.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(f.jsxs)("select",{className:"form-control",id:"perfil",onChange:e=>{Ue(e.target.value)},required:!0,"aria-required":"true",children:[Object(f.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),S.map(e=>"4"==e.NIVEL_DETALHE&&e.GLB_GEOG_ID==V?Object(f.jsx)("option",{value:e.ID,children:e.FREGUESIA},e.ID):null)]})]})}),Object(f.jsx)(i.a,{sm:3,children:Object(f.jsxs)("div",{className:"form-group fill",children:[Object(f.jsxs)("label",{className:"floating-label",htmlFor:"text",children:["Localidade",Object(f.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(f.jsxs)("select",{onChange:e=>{ee(e.target.value)},className:"form-control",id:"perfil",required:!0,"aria-required":"true",children:[Object(f.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),S.map(e=>"5"==e.NIVEL_DETALHE&&e.GLB_GEOG_ID==H?Object(f.jsx)("option",{value:e.ID,children:e.NOME},e.ID):null)]})]})}),Object(f.jsx)("div",{className:"col-sm-12",children:Object(f.jsxs)("div",{className:"form-group fill",children:[Object(f.jsx)("label",{className:"floating-label",htmlFor:"Address",children:"Obs"}),Object(f.jsx)("textarea",{maxLength:"64000",className:"form-control",onChange:e=>{le(e.target.value)},id:"Address",rows:"3",placeholder:"Obs..."})]})})]})})}),Object(f.jsxs)(j.a.Footer,{children:[Object(f.jsx)(o.a,{variant:"danger",onClick:()=>Pe(!1),children:"Fechar"}),E?Object(f.jsx)(o.a,{variant:"primary",children:"Guardando"}):Object(f.jsx)(o.a,{type:"submit",form:"criar",variant:"primary",children:"Guardar"})]})]}),Object(f.jsxs)(j.a,{size:"lg",show:Re,onHide:()=>qe(!1),children:[Object(f.jsx)(j.a.Header,{style:{border:"0"},closeButton:!0,children:Object(f.jsx)(j.a.Title,{as:"h5",children:"Editar"})}),Object(f.jsxs)("ul",{className:"nav nav-tabs profile-tabs nav-fill",id:"myTab",role:"tablist",children:[Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsxs)(m.b,{to:"#",className:"geral"===ze?Ke:Je,onClick:()=>{Qe("geral")},id:"profile-tab",children:[Object(f.jsx)("i",{className:"feather icon-user mr-2"}),"Perfil"]})}),Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsxs)(m.b,{to:"#",className:"contactos"===ze?Ke:Je,onClick:()=>{Qe("contactos")},id:"contact-tab",children:[Object(f.jsx)("i",{className:"feather icon-phone mr-2"}),"Contactos"]})}),Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsxs)(m.b,{to:"#",className:"documentos"===ze?Ke:Je,onClick:()=>{Qe("documentos")},id:"contact-tab",children:[Object(f.jsx)("i",{className:"feather icon-file-text mr-2"}),"Documentos"]})})]}),Object(f.jsxs)(j.a.Body,{style:"documentos"===ze?{}:{display:"none"},children:[Object(f.jsx)(i.a,{style:{display:"flex",justifyContent:"flex-end"},sm:12,children:Object(f.jsx)(o.a,{onClick:()=>ct(),variant:"primary",children:"+"})}),st.map(e=>{var t;return Object(f.jsxs)(n.a,{style:{marginBottom:"12px"},children:[Object(f.jsx)(i.a,{sm:10,children:Object(f.jsxs)(n.a,{children:[Object(f.jsx)(i.a,{sm:6,children:Object(f.jsxs)("div",{className:"form-group fill",children:[Object(f.jsxs)("label",{className:"floating-label",htmlFor:"Phone",children:["Tipo de Documentos"," ",Object(f.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(f.jsxs)("select",{defaultValue:e.tipodocumento,onChange:t=>{rt(t.target.value,e.id)},className:"form-control",id:"perfil",required:!0,"aria-required":"true",children:[Object(f.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),B.map(e=>Object(f.jsx)("option",{value:e.ID,children:e.DESIG},e.ID))]})]})}),Object(f.jsx)(i.a,{sm:3,children:Object(f.jsxs)("div",{className:"form-group fill",children:[Object(f.jsxs)("label",{className:"floating-label",htmlFor:"text",children:["N\xfamero ",Object(f.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(f.jsx)("input",{max:"99999999999999",defaultValue:e.numero,onChange:t=>{dt(t.target.value,e.id)},type:"number",className:"form-control"})]})}),Object(f.jsxs)("div",{className:"sm-2 paddinhtop28OnlyPC",children:[Object(f.jsxs)("label",{htmlFor:"anexareditar"+e.id,className:"btn",style:{backgroundColor:"#d2b32a",color:"#fff"},children:[null==(null===e||void 0===e||null===(t=e.anexo)||void 0===t?void 0:t.file)?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("i",{className:"feather icon-download"}),Object(f.jsx)(f.Fragment,{children:" Anexar"})]}):"Anexado"," "]}),Object(f.jsx)("input",{id:"anexareditar"+e.id,style:{display:"none"},onChange:t=>mt(t.target.files[0],e.id),accept:"image/x-png,image/jpeg",type:"file"})]}),Object(f.jsx)(i.a,{sm:6,children:Object(f.jsxs)("div",{className:"form-group fill",children:[Object(f.jsx)("label",{className:"floating-label",htmlFor:"date",children:"Data de Emiss\xe3o"}),Object(f.jsx)("input",{defaultValue:e.dataemissao,onChange:t=>{jt(t.target.value,e.id)},type:"date",className:"form-control"})]})}),Object(f.jsx)(i.a,{sm:6,children:Object(f.jsxs)("div",{className:"form-group fill",children:[Object(f.jsx)("label",{className:"floating-label",htmlFor:"text",children:"Data de Validade"}),Object(f.jsx)("input",{defaultValue:e.datavalidade,onChange:t=>{bt(t.target.value,e.id)},type:"date",className:"form-control"})]})})]})}),st.length>1?Object(f.jsx)("div",{className:"paddinhtop66OnlyPC sm-2",children:Object(f.jsx)(o.a,{onClick:()=>nt(e.id),variant:"danger",children:Object(f.jsx)("i",{className:"feather icon-trash-2"})})}):null]},e.id)})]}),Object(f.jsxs)(j.a.Body,{style:"contactos"===ze?{}:{display:"none"},children:[Object(f.jsx)(i.a,{style:{display:"flex",justifyContent:"flex-end"},sm:12,children:Object(f.jsx)(o.a,{onClick:()=>Ye(),variant:"primary",children:"+"})}),We.map(e=>Object(f.jsxs)(n.a,{style:{marginBottom:"12px"},children:[Object(f.jsx)(i.a,{sm:5,children:Object(f.jsxs)("div",{className:"form-group fill",children:[Object(f.jsxs)("label",{className:"floating-label",htmlFor:"Phone",children:["Tipo de Contacto ",Object(f.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(f.jsxs)("select",{defaultValue:e.tipocontacto,onChange:t=>{tt(t.target.value,e.id)},className:"form-control",id:"perfil",required:!0,"aria-required":"true",children:[Object(f.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),P.map(e=>Object(f.jsx)("option",{value:e.ID,children:e.DESIG},e.ID))]})]})}),Object(f.jsx)(i.a,{sm:5,children:Object(f.jsxs)("div",{className:"form-group fill",children:[Object(f.jsxs)("label",{className:"floating-label",htmlFor:"text",children:["Contacto ",Object(f.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(f.jsx)("input",{defaultValue:e.contacto,onChange:t=>{at(t.target.value,e.id)},type:"text",className:"form-control"})]})}),We.length>1?Object(f.jsx)("div",{className:"sm-2 paddinhtop28OnlyPC",children:Object(f.jsx)(o.a,{onClick:()=>Ze(e.id),variant:"danger",children:Object(f.jsx)("i",{className:"feather icon-trash-2"})})}):null]},e.id))]}),Object(f.jsx)(j.a.Body,{style:"geral"===ze?{}:{display:"none"},children:Object(f.jsx)("form",{id:"editarItem",onSubmit:async function(e){e.preventDefault(),C(!0);const t={SELF_ID:W,PR_ENTIDADE_TP_ID:Y,GEOGRAFIA_ID:$,DESIG:te,ENDERECO:ce,ENDERECO_COORD:ie,OBS:se,NIF:re,REGISTO_COMERCIAL:je,CAPITAL_SOCIAL:me,LOGO_URL:xe,DT_INICIO_ATIVIDADE:Oe,LOGO_URL:"0"};console.log(t);try{if("200"==(await p.a.put("/sgigjentidade/"+z,t)).status){if(1==$e){const e=await p.a.delete("/sgigjrelcontacto/0?ENTIDADE_ID="+z);if(console.log(e.status),"200"==e.status||"204"==e.status){console.log(We);for(let e=0;e<We.length;e++)if(""!=We[e].tipocontacto&&""!=We[e].contacto){console.log(We);const t={ENTIDADE_ID:z,PR_CONTACTO_TP_ID:We[e].tipocontacto,CONTACTO:We[e].contacto};try{await p.a.post("/sgigjrelcontacto",t)}catch(s){console.error(s.response)}}}}if(1==it){const e=await p.a.delete("/sgigjreldocumento/0?ENTIDADE_ID="+z);if(console.log(e.status),"200"==e.status||"204"==e.status){console.log(We);for(let e=0;e<st.length;e++)if(""!=st[e].tipodocumento&&""!=st[e].numero){console.log(st);var a="";if("1"==st[e].anexo.type&&(a=st[e].anexo.file),"2"==st[e].anexo.type){a=(await x(st[e].anexo.file)).file.data}console.log(a);const t={ENTIDADE_ID:z,PR_DOCUMENTO_TP_ID:st[e].tipodocumento,NUMERO:st[e].numero,DOC_URL:a,DT_EMISSAO:st[e].dataemissao,DT_VALIDADE:st[e].datavalidade};try{await p.a.post("/sgigjreldocumento",t)}catch(s){console.error(s.response)}}}}w(),C(!1),qe(!1)}}catch(s){C(!1),console.error(s.response)}},children:Object(f.jsxs)(n.a,{children:[Object(f.jsx)(i.a,{sm:3,children:Object(f.jsxs)("div",{className:"form-group fill",children:[Object(f.jsxs)("label",{className:"floating-label",htmlFor:"text",children:["C\xf3digo ",Object(f.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(f.jsx)("input",{disabled:!0,onChange:()=>{},defaultValue:Ce.CODIGO,type:"text",className:"form-control",id:"Name"})]})}),Object(f.jsx)(i.a,{sm:6,children:Object(f.jsxs)("div",{className:"form-group fill",children:[Object(f.jsxs)("label",{className:"floating-label",htmlFor:"Email",children:["Designa\xe7\xe3o ",Object(f.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(f.jsx)("input",{maxLength:"256",defaultValue:Ce.DESIG,type:"text",onChange:e=>{ae(e.target.value)},className:"form-control",id:"Nome ",placeholder:"Designa\xe7\xe3o...",required:!0})]})}),Object(f.jsx)(i.a,{sm:3,children:Object(f.jsxs)("div",{className:"form-group fill",children:[Object(f.jsxs)("label",{className:"floating-label",htmlFor:"text",children:["NIF ",Object(f.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(f.jsx)("input",{maxLength:"9",defaultValue:Ce.NIF,type:"number",onChange:e=>{de(e.target.value)},className:"form-control",id:"alcunga",placeholder:"NIF...",required:!0})]})}),Object(f.jsx)(i.a,{sm:4,children:Object(f.jsxs)("div",{className:"form-group fill",children:[Object(f.jsx)("label",{className:"floating-label",htmlFor:"Phone",children:"Entidade Principal"}),Object(f.jsxs)("select",{defaultValue:Ce.SELF_ID,className:"form-control",onChange:e=>{X(e.target.value)},id:"perfil",children:[Object(f.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),G.map(e=>e.ID!=Ce.ID?Object(f.jsx)("option",{value:e.ID,children:e.DESIG},e.ID):null)]})]})}),Object(f.jsx)(i.a,{sm:4,children:Object(f.jsxs)("div",{className:"form-group fill",children:[Object(f.jsxs)("label",{className:"floating-label",htmlFor:"Phone",children:["Tipo de Entidade",Object(f.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(f.jsxs)("select",{defaultValue:Ce.PR_ENTIDADE_TP_ID,className:"form-control",onChange:e=>{Z(e.target.value)},id:"perfil",required:!0,"aria-required":"true",children:[Object(f.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),T.map(e=>Object(f.jsx)("option",{value:e.ID,children:e.DESIG},e.ID))]})]})}),Object(f.jsx)(i.a,{sm:4,children:Object(f.jsxs)("div",{className:"form-group fill",children:[Object(f.jsxs)("label",{className:"floating-label",htmlFor:"date",children:["Data In\xedcio Atividade"," ",Object(f.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(f.jsx)("input",{defaultValue:Oe,type:"date",onChange:e=>{ue(e.target.value)},className:"form-control",id:"data",required:!0})]})}),Object(f.jsx)(i.a,{sm:6,children:Object(f.jsxs)("div",{className:"form-group fill",children:[Object(f.jsxs)("label",{className:"floating-label",htmlFor:"Phone",children:["Registo Comercial"," ",Object(f.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(f.jsx)("input",{maxLength:"25",defaultValue:Ce.REGISTO_COMERCIAL,type:"text",onChange:e=>{be(e.target.value)},className:"form-control",id:"pai",placeholder:"Registo Comercial...",required:!0})]})}),Object(f.jsx)(i.a,{sm:6,children:Object(f.jsxs)("div",{className:"form-group fill",children:[Object(f.jsx)("label",{className:"floating-label",htmlFor:"Phone",children:"Capital Social"}),Object(f.jsx)("input",{max:"99999999999",defaultValue:Ce.CAPITAL_SOCIAL,type:"number",onChange:e=>{he(e.target.value)},className:"form-control",id:"mae",placeholder:"Capital Social..."})]})}),Object(f.jsx)(i.a,{sm:12,children:Object(f.jsxs)("div",{className:"form-group fill",children:[Object(f.jsx)("label",{className:"floating-label",htmlFor:"text",children:"Coordenadas"}),Object(f.jsx)("input",{maxLength:"48",defaultValue:Ce.ENDERECO_COORD,type:"text",onChange:e=>{oe(e.target.value)},className:"form-control",id:"coordenada",placeholder:"Endereco Coord..."})]})}),Object(f.jsx)("div",{className:"col-sm-12",children:Object(f.jsxs)("div",{className:"form-group fill",children:[Object(f.jsxs)("label",{className:"floating-label",htmlFor:"Address",children:["Endere\xe7o ",Object(f.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(f.jsx)("textarea",{maxLength:"256",defaultValue:Ce.ENDERECO,className:"form-control",onChange:e=>{ne(e.target.value)},id:"endereco",rows:"3",required:!0,placeholder:"Endere\xe7o..."})]})}),Object(f.jsx)(i.a,{sm:3,children:Object(f.jsxs)("div",{className:"form-group fill",children:[Object(f.jsxs)("label",{className:"floating-label",htmlFor:"text",children:["Ilha ",Object(f.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(f.jsxs)("select",{defaultValue:q,className:"form-control",id:"perfil",onChange:e=>{Me(e.target.value)},required:!0,"aria-required":"true",children:[Object(f.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),S.map(e=>"2"==e.NIVEL_DETALHE?Object(f.jsx)("option",{value:e.ID,children:e.ILHA},e.ID):null)]})]})}),Object(f.jsx)(i.a,{sm:3,children:Object(f.jsxs)("div",{className:"form-group fill",children:[Object(f.jsxs)("label",{className:"floating-label",htmlFor:"text",children:["Concelho ",Object(f.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(f.jsxs)("select",{defaultValue:V,className:"form-control",id:"perfil",onChange:e=>{He(e.target.value)},required:!0,"aria-required":"true",children:[Object(f.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),S.map(e=>"3"==e.NIVEL_DETALHE&&e.GLB_GEOG_ID==q?Object(f.jsx)("option",{value:e.ID,children:e.CONCELHO},e.ID):null)]})]})}),Object(f.jsx)(i.a,{sm:3,children:Object(f.jsxs)("div",{className:"form-group fill",children:[Object(f.jsxs)("label",{className:"floating-label",htmlFor:"text",children:["Fregu\xeasia ",Object(f.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(f.jsxs)("select",{defaultValue:H,className:"form-control",id:"perfil",onChange:e=>{Ue(e.target.value)},required:!0,"aria-required":"true",children:[Object(f.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),S.map(e=>"4"==e.NIVEL_DETALHE&&e.GLB_GEOG_ID==V?Object(f.jsx)("option",{value:e.ID,children:e.FREGUESIA},e.ID):null)]})]})}),Object(f.jsx)(i.a,{sm:3,children:Object(f.jsxs)("div",{className:"form-group fill",children:[Object(f.jsxs)("label",{className:"floating-label",htmlFor:"text",children:["Localidade",Object(f.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(f.jsxs)("select",{defaultValue:Ce.GEOGRAFIA_ID,onChange:e=>{ee(e.target.value)},className:"form-control",id:"perfil",required:!0,"aria-required":"true",children:[Object(f.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),S.map(e=>"5"==e.NIVEL_DETALHE&&e.GLB_GEOG_ID==H?Object(f.jsx)("option",{value:e.ID,children:e.NOME},e.ID):null)]})]})}),Object(f.jsx)("div",{className:"col-sm-12",children:Object(f.jsxs)("div",{className:"form-group fill",children:[Object(f.jsx)("label",{className:"floating-label",htmlFor:"Address",children:"Obs"}),Object(f.jsx)("textarea",{maxLength:"64000",defaultValue:Ce.OBS,className:"form-control",onChange:e=>{le(e.target.value)},id:"Address",rows:"3",placeholder:"Obs..."})]})})]})})}),Object(f.jsxs)(j.a.Footer,{children:[Object(f.jsx)(o.a,{variant:"danger",onClick:()=>qe(!1),children:"Fechar"}),E?Object(f.jsx)(o.a,{variant:"primary",children:"Guardando"}):Object(f.jsx)(o.a,{type:"submit",form:"editarItem",variant:"primary",children:"Guardar"})]})]}),Object(f.jsxs)(j.a,{size:"lg",show:ke,onHide:()=>Ve(!1),children:[Object(f.jsxs)(j.a.Header,{style:{border:"0"},closeButton:!0,children:[Object(f.jsx)(j.a.Title,{as:"h5"}),Object(f.jsx)(j.a.Title,{as:"h5",children:"Entidade"})]}),0===Object.keys(r).length?null:Object(f.jsx)(j.a.Body,{children:Object(f.jsxs)(n.a,{children:[Object(f.jsxs)(i.a,{xl:4,className:"task-detail-right",children:[Object(f.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:Object(f.jsxs)("span",{children:[Object(f.jsx)("i",{className:"feather icon-shield m-r-5"}),"Geral"]})}),Object(f.jsxs)("div",{style:{width:"100%",display:"flex",alignItems:"center",marginBottom:"20px",flexDirection:"column",borderBottom:"1px solid #d2b32a",borderTop:"1px solid #d2b32a",paddingBottom:"15px",paddingTop:"15px",marginTop:"5px"},children:[Object(f.jsx)("i",{className:"feather icon-shield",style:{fontSize:"80px",marginBottom:"15px",marginTop:"10px"}}),Object(f.jsx)("span",{children:r.DESIG})]}),Object(f.jsxs)("div",{style:{borderBottom:"1px solid #d2b32a",marginBottom:"20px"},children:[Object(f.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",marginBottom:"15px"},children:[Object(f.jsxs)("span",{children:[Object(f.jsx)("i",{className:"feather icon-map-pin m-r-5"}),"Tipo de Entidade"]}),Object(f.jsx)("span",{style:{color:"#6c757d"},children:r.sgigjprentidadetp.DESIG})]}),Object(f.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",marginBottom:"15px"},children:[Object(f.jsxs)("span",{children:[Object(f.jsx)("i",{className:"feather icon-map-pin m-r-5"}),"NIF"]}),Object(f.jsx)("span",{style:{color:"#6c757d"},children:r.NIF})]}),Object(f.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",marginBottom:"15px"},children:[Object(f.jsxs)("span",{children:[Object(f.jsx)("i",{className:"feather icon-map-pin m-r-5"}),"In\xedcio de Atividade"]}),Object(f.jsx)("span",{style:{color:"#6c757d"},children:Se(r.DT_INICIO_ATIVIDADE)})]}),Object(f.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",marginBottom:"15px"},children:[Object(f.jsxs)("span",{children:[Object(f.jsx)("i",{className:"feather icon-map-pin m-r-5"}),"Registo Comercial"]}),Object(f.jsx)("span",{style:{color:"#6c757d"},children:r.REGISTO_COMERCIAL})]})]}),Object(f.jsxs)("div",{style:{borderBottom:"1px solid #d2b32a",marginBottom:"20px"},children:[Object(f.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",marginBottom:"15px"},children:[Object(f.jsxs)("span",{children:[Object(f.jsx)("i",{className:"feather icon-map-pin m-r-5"}),"Capital Social"]}),Object(f.jsx)("span",{style:{color:"#6c757d"},children:r.CAPITAL_SOCIAL})]}),Object(f.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",marginBottom:"15px"},children:[Object(f.jsxs)("span",{children:[Object(f.jsx)("i",{className:"feather icon-map-pin m-r-5"}),"Observa\xe7\xf5es"]}),Object(f.jsx)("span",{style:{color:"#6c757d"},children:r.OBS})]})]}),Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",marginBottom:"15px"},children:[Object(f.jsxs)("span",{children:[Object(f.jsx)("i",{className:"feather icon-phone m-r-5"}),"Telefone"]}),Object(f.jsx)("span",{style:{color:"#6c757d"},children:r.TEL})]}),Object(f.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",marginBottom:"15px"},children:[Object(f.jsxs)("span",{children:[Object(f.jsx)("i",{className:"feather icon-phone m-r-5"}),"Telem\xf3vel"]}),Object(f.jsx)("span",{style:{color:"#6c757d"},children:r.TEM})]}),Object(f.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",marginBottom:"15px"},children:[Object(f.jsxs)("span",{children:[Object(f.jsx)("i",{className:"feather icon-mail m-r-5"}),"Email"]}),Object(f.jsx)("span",{style:{color:"#6c757d"},children:r.EMAIL})]})]})]}),Object(f.jsxs)(i.a,{xl:8,className:"task-detail-right",children:[Object(f.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"spaceAround"},children:[Object(f.jsxs)("span",{onClick:()=>Ie("colaboradores"),style:"colaboradores"==ve?{paddingBottom:"4px",cursor:"pointer",borderBottom:"2px solid #d2b32a",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}:{paddingBottom:"4px",cursor:"pointer",borderBottom:"1px solid #E5E5E5",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(f.jsx)("i",{className:"feather icon-film m-r-5"}),"Colaboradores"]}),Object(f.jsxs)("span",{onClick:()=>Ie("equipamentos"),style:"equipamentos"==ve?{paddingBottom:"4px",cursor:"pointer",borderBottom:"2px solid #d2b32a",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}:{paddingBottom:"4px",cursor:"pointer",borderBottom:"1px solid #E5E5E5",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(f.jsx)("i",{className:"feather icon-voicemail m-r-5"}),"Equipamentos"]}),Object(f.jsxs)("span",{onClick:()=>Ie("documentos"),style:"documentos"==ve?{paddingBottom:"4px",cursor:"pointer",borderBottom:"2px solid #d2b32a",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}:{paddingBottom:"4px",cursor:"pointer",borderBottom:"1px solid #E5E5E5",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(f.jsx)("i",{className:"feather icon-file-text m-r-5"}),"Documentos"]})]}),Object(f.jsxs)("div",{style:{width:"66%",display:"flex",justifyContent:"spaceAround",marginTop:"10px"},children:[Object(f.jsxs)("span",{onClick:()=>Ie("maquinas"),style:"maquinas"==ve?{paddingBottom:"4px",cursor:"pointer",borderBottom:"2px solid #d2b32a",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}:{paddingBottom:"4px",cursor:"pointer",borderBottom:"1px solid #E5E5E5",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(f.jsx)("i",{className:"feather icon-at-sign m-r-5"}),"M\xe1quinas"]}),Object(f.jsxs)("span",{onClick:()=>Ie("bancas"),style:"bancas"==ve?{paddingBottom:"4px",cursor:"pointer",borderBottom:"2px solid #d2b32a",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}:{paddingBottom:"4px",cursor:"pointer",borderBottom:"1px solid #E5E5E5",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(f.jsx)("i",{className:"feather icon-wind m-r-5"}),"Bancas"]})]}),Object(f.jsx)("div",{style:"colaboradores"==ve?{width:"100%",height:"450px",overflow:"auto"}:{display:"none"},children:Object(f.jsxs)("div",{style:{width:"100%",paddingTop:"20px",marginTop:"20px"},children:[Object(f.jsxs)("div",{style:{padding:"5px",borderBottom:"1px solid #d2b32a",width:"100%",display:"flex",marginBottom:"10px"},children:[Object(f.jsx)("span",{style:{color:"#6c757d",width:"30%"},children:"Nome"}),Object(f.jsx)("span",{style:{color:"#6c757d",width:"25%"},children:"Categoria Prof."}),Object(f.jsx)("span",{style:{color:"#6c757d",width:"25%"},children:"Escolaridade"}),Object(f.jsx)("span",{style:{color:"#6c757d",width:"20%"},children:"Dt. In\xedcio"})]}),r.sgigjrelpessoaentidade.map(e=>Object(f.jsxs)("div",{onMouseOver:()=>function(e){Te(!0),Ge(e)}(e.ID),onMouseOut:()=>Te(!1),style:{padding:"7px",width:"100%",display:"flex",borderBottom:"1px solid #E5E5E5",marginBottom:"10px",position:"relative"},children:[Object(f.jsx)("span",{style:{color:"#6c757d",width:"30%"},children:e.sgigjpessoa.NOME}),Object(f.jsx)("span",{style:{color:"#6c757d",width:"25%"},children:e.sgigjprcategoriaprofissional.DESIG}),Object(f.jsx)("span",{style:{color:"#6c757d",width:"25%"},children:e.sgigjprnivelescolaridade.DESIG}),Object(f.jsx)("span",{style:{color:"#6c757d",width:"20%"},children:Se(e.DT_INICIO)}),e.sgigjrelpessoaentidadelingua.length<1?null:Object(f.jsxs)("div",{style:1==_e&&Ae==e.ID?{display:"inline",position:"absolute",backgroundColor:"#EFEFEF",padding:"10px",top:"38px",borderRadius:"8px",zIndex:"8",boxShadow:"0px 0px 19px -16px #000000"}:{display:"none"},children:[Object(f.jsxs)("div",{style:{display:"flex",width:"250px",justifyContent:"space-between",borderBottom:"1px solid #d2b32a",paddingBottom:"4px",marginBottom:"8px"},children:[Object(f.jsx)("span",{children:"L\xedngua"}),Object(f.jsx)("span",{children:"N\xedvel"})]}),e.sgigjrelpessoaentidadelingua.map(t=>Ae!=e.ID?null:Object(f.jsxs)("div",{style:{display:"flex",width:"250px",justifyContent:"space-between"},children:[Object(f.jsx)("span",{children:t.sgigjprlingua.DESIG}),Object(f.jsx)("span",{children:t.sgigjprnivellinguistico.DESIG})]},t.ID))]})]},e.ID))]})}),Object(f.jsx)("div",{style:"maquinas"==ve?{width:"100%",height:"450px",overflow:"auto"}:{display:"none"},children:Object(f.jsxs)("div",{style:{width:"100%",paddingTop:"20px",marginTop:"20px"},children:[Object(f.jsxs)("div",{style:{padding:"5px",borderBottom:"1px solid #d2b32a",width:"100%",display:"flex",marginBottom:"10px"},children:[Object(f.jsx)("span",{style:{color:"#6c757d",width:"37%"},children:"Designa\xe7\xe3o"}),Object(f.jsx)("span",{style:{color:"#6c757d",width:"29%"},children:"Tipo"}),Object(f.jsx)("span",{style:{color:"#6c757d",width:"10%"},children:"Qtd"}),Object(f.jsx)("span",{style:{color:"#6c757d",width:"23%"},children:"Num_Serie"})]}),r.sgigjentidademaquina.map(e=>Object(f.jsxs)("div",{style:{padding:"7px",width:"100%",display:"flex",borderBottom:"1px solid #E5E5E5",marginBottom:"10px"},children:[Object(f.jsx)("span",{style:{color:"#6c757d",width:"37%"},children:e.MAQUINA}),Object(f.jsx)("span",{style:{color:"#6c757d",width:"29%"},children:e.sgigjprmaquinatp.DESIG}),Object(f.jsx)("span",{style:{color:"#6c757d",width:"10%"},children:e.QUANT}),Object(f.jsx)("span",{style:{color:"#6c757d",width:"23%"},children:e.NUM_SERIE})]},e.ID))]})}),Object(f.jsx)("div",{style:"bancas"==ve?{width:"100%",height:"450px",overflow:"auto"}:{display:"none"},children:Object(f.jsxs)("div",{style:{width:"100%",paddingTop:"20px",marginTop:"20px"},children:[Object(f.jsxs)("div",{style:{padding:"5px",borderBottom:"1px solid #d2b32a",width:"100%",display:"flex",marginBottom:"10px"},children:[Object(f.jsx)("span",{style:{color:"#6c757d",width:"40%"},children:"Designa\xe7\xe3o"}),Object(f.jsx)("span",{style:{color:"#6c757d",width:"33%"},children:"Tipo"}),Object(f.jsx)("span",{style:{color:"#6c757d",width:"26%"},children:"Num_Serie"})]}),r.sgigjentidadebanca.map(e=>Object(f.jsxs)("div",{style:{padding:"7px",width:"100%",display:"flex",borderBottom:"1px solid #E5E5E5",marginBottom:"10px"},children:[Object(f.jsx)("span",{style:{color:"#6c757d",width:"40%"},children:e.BANCA}),Object(f.jsx)("span",{style:{color:"#6c757d",width:"33%"},children:e.sgigjprbancatp.DESIG}),Object(f.jsx)("span",{style:{color:"#6c757d",width:"26%"},children:e.NUM_SERIE})]},e.ID))]})}),Object(f.jsx)("div",{style:"equipamentos"==ve?{width:"100%",height:"450px",overflow:"auto"}:{display:"none"},children:Object(f.jsxs)("div",{style:{width:"100%",paddingTop:"20px",marginTop:"20px"},children:[Object(f.jsxs)("div",{style:{padding:"5px",borderBottom:"1px solid #d2b32a",width:"100%",display:"flex",marginBottom:"10px"},children:[Object(f.jsx)("span",{style:{color:"#6c757d",width:"32%"},children:"Designa\xe7\xe3o"}),Object(f.jsx)("span",{style:{color:"#6c757d",width:"28%"},children:"Tipo"}),Object(f.jsx)("span",{style:{color:"#6c757d",width:"10%"},children:"Qtd"}),Object(f.jsx)("span",{style:{color:"#6c757d",width:"20%"},children:"Pre\xe7o"}),Object(f.jsx)("span",{style:{color:"#6c757d",width:"10%"},children:"Ano"})]}),r.sgigjentidadeequipamento.map(e=>Object(f.jsxs)("div",{style:{padding:"7px",width:"100%",display:"flex",borderBottom:"1px solid #E5E5E5",marginBottom:"10px"},children:[Object(f.jsx)("span",{style:{color:"#6c757d",width:"32%"},children:e.DESIG}),Object(f.jsx)("span",{style:{color:"#6c757d",width:"28%"},children:e.sgigjprequipamentotp.DESIG}),Object(f.jsx)("span",{style:{color:"#6c757d",width:"10%"},children:e.QUANT}),Object(f.jsx)("span",{style:{color:"#6c757d",width:"20%"},children:e.PRECO}),Object(f.jsx)("span",{style:{color:"#6c757d",width:"10%"},children:e.ANO})]},e.ID))]})}),Object(f.jsxs)("div",{style:"documentos"==ve?{width:"100%",height:"450px"}:{display:"none"},children:[Object(f.jsx)("div",{style:{width:"100%",borderBottom:"1px solid #d2b32a",paddingTop:"20px",paddingBottom:"20px",marginBottom:"20px",overflow:"auto",height:"70px"},children:"undefined"!=typeof r.doclist?r.doclist.map((e,t)=>Object(f.jsx)(m.b,{onClick:()=>function(e,t){Ne(e),fe(t)}(t,e.url),style:{margin:"2px",color:t===ye?"#d2b32a":"#6c757d"},to:"#",className:"mb-1  d-flex align-items-end text-h-primary",children:"::"+e.nome},e.id)):null}),Object(f.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",marginBottom:"10px"},children:Object(f.jsxs)("span",{children:[Object(f.jsx)("i",{className:"feather icon-eye m-r-5"}),"Pr\xe9-vizualiza\xe7\xe3o"]})}),"pdf"!==(null===ge||void 0===ge?void 0:ge.substring((null===ge||void 0===ge?void 0:ge.lastIndexOf("."))+1))?Object(f.jsx)("a",{href:ge+"?alt=media&token=0",target:"_blank",rel:"noopener noreferrer",children:Object(f.jsx)("div",{className:""==ge?"previewdoc":"previewdoc-img",style:{backgroundImage:'url("'+ge+'?alt=media&token=0")',height:"450px"}})}):Object(f.jsx)("object",{data:"".concat(ge+"?alt=media&token=0"),type:"application/pdf",width:"100%",height:"450px",children:Object(f.jsxs)("p",{children:["Alternative text - include a link ",Object(f.jsx)("a",{href:"myfile.pdf",children:"to the PDF!"})]})})]})]})]})}),Object(f.jsxs)(j.a.Footer,{children:[Object(f.jsx)(o.a,{variant:"danger",onClick:()=>Ve(!1),children:"Fechar"}),Object(f.jsx)(o.a,{variant:"primary",onClick:()=>(async e=>{Pe(!1),Ve(!1),we(e),Q(e.ID),K(e.CODIGO),X(e.SELF_ID),Z(e.PR_ENTIDADE_TP_ID),ee(e.GEOGRAFIA_ID),ae(e.DESIG),le(e.OBS),de(e.NIF),ne(e.ENDERECO),oe(e.ENDERECO_COORD),be(e.REGISTO_COMERCIAL),he(e.CAPITAL_SOCIAL),pe(e.LOGO_URL),ue(e.DT_INICIO_ATIVIDADE.slice(0,10)),Pe(!1),Ve(!1),Qe("geral");var t="",a="",s="";for(let n=0;n<S.length;n++){const t=S[n];t.ID==e.GEOGRAFIA_ID&&(s=t.GLB_GEOG_ID)}for(let n=0;n<S.length;n++){const e=S[n];e.ID==s&&(a=e.GLB_GEOG_ID)}for(let n=0;n<S.length;n++){const e=S[n];e.ID==a&&(t=e.GLB_GEOG_ID)}const l=await p.a.get("/glbgeografia");if("200"==l.status){t="",a="",s="";const c=l.data;for(let t=0;t<c.length;t++){const a=c[t];a.ID==e.GEOGRAFIA_ID&&(s=a.GLB_GEOG_ID)}for(let e=0;e<c.length;e++){const t=c[e];t.ID==s&&(a=t.GLB_GEOG_ID)}for(let e=0;e<c.length;e++){const s=c[e];s.ID==a&&(t=s.GLB_GEOG_ID)}k(t),M(a),U(s)}We=[];try{const t=await p.a.get("/sgigjrelcontacto?ENTIDADE_ID="+e.ID);if("200"==t.status)for(let e=0;e<t.data.length;e++)We.push({id:""+t.data[e].ID,tipocontacto:""+t.data[e].PR_CONTACTO_TP_ID,contacto:""+t.data[e].CONTACTO}),console.log(t.data),console.log(t.data[e])}catch(c){console.error(c.response2)}Xe(We.concat([])),st=[];try{const t=await p.a.get("/sgigjreldocumento?ENTIDADE_ID="+e.ID);if("200"==t.status)for(let e=0;e<t.data.length;e++){const a=null!=t.data[e].DT_EMISSAO?t.data[e].DT_EMISSAO.substring(0,10):"",s=null!=t.data[e].DT_VALIDADE?t.data[e].DT_VALIDADE.substring(0,10):"";st.push({id:""+t.data[e].ID,tipodocumento:t.data[e].PR_DOCUMENTO_TP_ID,numero:t.data[e].NUMERO,dataemissao:a,datavalidade:s,anexo:{type:1,file:t.data[e].DOC_URL}}),console.log(t.data),console.log(t.data[e])}}catch(c){console.error(c.response3)}lt(st.concat([])),qe(!0),qe(!0)})(r),children:"Editar"})]})]})]})})})}}}]);
//# sourceMappingURL=26.8e51998c.chunk.js.map