(this["webpackJsonpigj-frontend"]=this["webpackJsonpigj-frontend"]||[]).push([[40],{1021:function(e,t,a){"use strict";a.r(t);var s=a(8),c=a(0),o=a.n(c),n=a(812),i=a(404),l=a(863),d=a(814),r=a(403),j=(a(240),a(824),a(7)),u=a(30),O=a(26),h=a(816),b=a(1);const p=e=>{let{filter:t,setFilter:a}=e;const[s,o]=Object(c.useState)(t),n=Object(h.useAsyncDebounce)(e=>{a(e||void 0)},1e3);return Object(b.jsxs)("span",{className:"d-flex align-items-center justify-content-end",children:["Procurar:"," ",Object(b.jsx)("input",{className:"form-control ml-2 w-auto",value:s||"",onChange:e=>{o(e.target.value),n(e.target.value)}})]})};a(820);var m=a(818),g=a(817),x=a(22),v=a(76);a(825);const f="/processos/contraordenacao";function D(e){let{columns:t,listAno:a,data:o,uploadList:l}=e;const[d,r]=Object(c.useState)(""),[j,u]=Object(c.useState)(""),x=Object(c.useRef)(null),{permissoes:v}=Object(O.a)(),{getTableProps:f,getTableBodyProps:D,headerGroups:N,prepareRow:E,globalFilter:y,setGlobalFilter:S,page:I,canPreviousPage:C,canNextPage:A,pageOptions:R,pageCount:T,gotoPage:P,nextPage:_,previousPage:k,setPageSize:w,state:{pageIndex:F,pageSize:G}}=Object(h.useTable)({columns:t,data:o,initialState:{pageIndex:0,pageSize:10}},h.useGlobalFilter,h.useSortBy,h.usePagination);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)(n.a,{className:"mb-3",children:[Object(b.jsxs)(i.a,{md:3,className:"d-flex align-items-center",children:["Mostrar",Object(b.jsx)("select",{className:"form-control w-auto mx-2",value:G,onChange:e=>{w(Number(e.target.value))},children:[5,10,20,30,40,50].map(e=>Object(b.jsx)("option",{value:e,children:e},e))}),"entradas"]}),Object(b.jsxs)(i.a,{md:9,className:"d-flex justify-content-end",children:[Object(b.jsx)("div",{className:"d-flex align-items-center mr-2",children:Object(b.jsx)("div",{className:"d-flex",children:Object(b.jsxs)("div",{className:"d-flex align-items-center mr-1",children:[Object(b.jsxs)("span",{className:"floating-label",htmlFor:"Name",children:["Ano:",Object(b.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(b.jsxs)("select",{onChange:e=>{var t;t=e.target.value,l(t)},className:"form-control",id:"perfil",required:!0,"aria-required":"true",children:[Object(b.jsx)("option",{value:"",children:" Selecione um Ano "}),a.map(e=>Object(b.jsx)("option",{value:e,children:e},e))]})]})})}),Object(b.jsx)(p,{filter:y,setFilter:S})]})]}),Object(b.jsxs)(g.a,Object(s.a)(Object(s.a)({ref:x,striped:!0,bordered:!0,hover:!0,responsive:!0},f()),{},{children:[Object(b.jsx)("thead",{children:N.map(e=>Object(b.jsx)("tr",Object(s.a)(Object(s.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map(e=>Object(b.jsxs)("th",Object(s.a)(Object(s.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),Object(b.jsx)("span",{children:e.isSorted?e.isSortedDesc?Object(b.jsx)("span",{className:"feather icon-arrow-down text-muted float-right"}):Object(b.jsx)("span",{className:"feather icon-arrow-up text-muted float-right"}):""})]})))})))}),Object(b.jsx)("tbody",Object(s.a)(Object(s.a)({},D()),{},{children:I.map((e,t)=>(E(e),Object(b.jsx)("tr",Object(s.a)(Object(s.a)({},e.getRowProps()),{},{children:e.cells.map(e=>{const t=e.column.centered;return Object(b.jsx)("td",Object(s.a)(Object(s.a)({},e.getCellProps()),{},{className:t?"text-center":"text-right",children:e.render("Cell")}))})}))))}))]})),Object(b.jsxs)(n.a,{className:"justify-content-between",children:[Object(b.jsx)(i.a,{children:Object(b.jsxs)("span",{className:"d-flex align-items-center",children:["P\xe1gina"," ",Object(b.jsxs)("strong",{children:[" ",F+1," de ",R.length," "]})," ","| Ir para a p\xe1gina:"," ",Object(b.jsx)("input",{type:"number",className:"form-control ml-2",defaultValue:F+1,onChange:e=>{const t=e.target.value?Number(e.target.value)-1:0;P(t)},style:{width:"100px"}})]})}),Object(b.jsx)(i.a,{children:Object(b.jsxs)(m.a,{className:"justify-content-end",children:[Object(b.jsx)(m.a.First,{onClick:()=>P(0),disabled:!C}),Object(b.jsx)(m.a.Prev,{onClick:()=>k(),disabled:!C}),Object(b.jsx)(m.a.Next,{onClick:()=>_(),disabled:!A}),Object(b.jsx)(m.a.Last,{onClick:()=>P(T-1),disabled:!A})]})})]})]})}t.default=()=>{const{permissoes:e,user:t,popUp_removerItem:a,popUp_alertaOK:s,popUp_simcancelar:h}=Object(O.a)(),p=(Object(x.g)(),o.a.useMemo(()=>[{Header:"Estado",accessor:"COLOR_STATUS",centered:!0},{Header:"Refer\xeancia",accessor:"REF",centered:!1},{Header:"Despacho",accessor:"TIPO_DESPACHO",centered:!0},{Header:"Entidade Decisora",accessor:"ENTIDADEREGISTO",centered:!0},{Header:"Visado",accessor:"PESSOA",centered:!0},{Header:"Data",accessor:"DATA2",centered:!0},{Header:"A\xe7\xf5es",accessor:"action",centered:!0}],[])),[m,N]=Object(c.useState)([]),[E,y]=Object(c.useState)([]),[S,I]=Object(c.useState)(!1),[C,A]=Object(c.useState)(!1),[R,T]=Object(c.useState)(null),[P,_]=Object(c.useState)("Despacho");async function k(t){let s,c=[];try{if(s=t?await u.a.get("/sgigjprocessoexclusao?ano=".concat(t)):await u.a.get("/sgigjprocessoexclusao"),"200"==s.status){for(var n=0;n<s.data.length;n++){var i,l,d,r,O,h,p,m;s.data[n].id=s.data[n].ID,s.data[n].DATA2=Object(v.f)(s.data[n].DATA);let t=new Date(s.data[n].DATA);t&&!c.includes(t.getFullYear())&&c.push(t.getFullYear()),s.data[n].PESSOA=s.data[n].sgigjrelinterveniente.map(e=>e.sgigjpessoa.NOME).join(", "),s.data[n].ORIGEM=null===(i=s.data[n].sgigjprorigemtp)||void 0===i?void 0:i.DESIG,s.data[n].PESSOAREGISTO=null===(l=s.data[n].sgigjrelpessoaentidade)||void 0===l||null===(d=l.sgigjpessoa)||void 0===d?void 0:d.NOME,s.data[n].ENTIDADEREGISTO=null===(r=s.data[n])||void 0===r||null===(O=r.sgigjentidade)||void 0===O?void 0:O.DESIG;const u=s.data[n];let N="",E="grey",y=!1;var g,x;if(null!==(h=s.data[n])&&void 0!==h&&h.sgigjdespachofinal&&(null===(p=s.data[n])||void 0===p?void 0:p.sgigjdespachofinal.length)>0)null!=(null===(g=s.data[n])||void 0===g||null===(x=g.sgigjdespachofinal[0])||void 0===x?void 0:x.URL_DOC_GERADO)&&(E="blue"),N="Despacho Decis\xe3o";else if((null===(m=s.data[n])||void 0===m?void 0:m.sgigjprocessodespacho.length)>0){var D,S,I,C,A,R,T,P,_,F,G,U,L;if("C"==(null===(D=s.data[n])||void 0===D||null===(S=D.sgigjprocessodespacho[0])||void 0===S?void 0:S.TIPO_PROCESSO_EXCLUSAO)&&(N="Contraordena\xe7\xe3o",y=!0),null!=(null===(I=s.data[n])||void 0===I||null===(C=I.sgigjprocessodespacho[0])||void 0===C?void 0:C.URL_DOC_GERADO)&&(E="green"),(null===(A=s.data[n])||void 0===A||null===(R=A.sgigjprocessodespacho[0])||void 0===R?void 0:R.sgigjrelprocessoinstrutor.length)>0)if((null===(T=s.data[n])||void 0===T||null===(P=T.sgigjprocessodespacho[0])||void 0===P||null===(_=P.sgigjrelprocessoinstrutor[0])||void 0===_?void 0:_.sgigjrelprocessoinstrucao.length)>0)null!=(null===(F=s.data[n])||void 0===F||null===(G=F.sgigjprocessodespacho[0])||void 0===G||null===(U=G.sgigjrelprocessoinstrutor[0])||void 0===U||null===(L=U.sgigjrelprocessoinstrucao[0])||void 0===L?void 0:L.RELATORIO_FINAL)&&(E="orange")}s.data[n].TIPO_DESPACHO=N,s.data[n].isContraordenacao=y,s.data[n].action=Object(b.jsxs)(o.a.Fragment,{children:[0==Object(v.s)(f,e,"Ler")?null:Object(b.jsx)(j.b,{to:"#",title:"Ver detalhes",onClick:()=>w(u),className:"mx-1",children:Object(b.jsx)("i",{className:"feather icon-eye text-primary"})}),0==Object(v.s)(f,e,"Editar")?null:Object(b.jsx)(j.b,{to:"/processos/exclusaointerdicao",title:"Editar processo",className:"mx-1",children:Object(b.jsx)("i",{className:"feather icon-edit text-success"})}),0==Object(v.s)(f,e,"Eliminar")?null:Object(b.jsx)(j.b,{to:"#",title:"Eliminar",onClick:()=>{a&&a(u.id,"sgigjprocessoexclusao",()=>k())},className:"mx-1",children:Object(b.jsx)("i",{className:"feather icon-trash-2 text-danger"})})]});let M="Pendente",B="#6c757d";"green"===E?(M="Despachado",B="#28a745"):"blue"===E?(M="Decis\xe3o Final",B="#007bff"):"orange"===E?(M="Relat\xf3rio Final",B="#fd7e14"):"grey"===E&&(M="Pendente",B="#6c757d"),s.data[n].COLOR_STATUS=Object(b.jsx)("span",{style:{backgroundColor:B,color:"#fff",padding:"4px 10px",borderRadius:"12px",fontSize:"11px",fontWeight:"600",whiteSpace:"nowrap"},children:M})}var M=s.data.filter(e=>e.isContraordenacao);N(M)}0==E.length&&y(c)}catch(B){console.error(B.response)}}const w=async e=>{try{const d=await u.a.get("/sgigjprocessoexclusao/"+e.id);if("200"==d.status&&d.data.length>0){var t,a,s,c,o,n;d.data[0].id=d.data[0].ID,d.data[0].DATA2=Object(v.f)(d.data[0].DATA),d.data[0].PESSOA=null===(t=d.data[0].sgigjrelinterveniente)||void 0===t?void 0:t.map(e=>{var t;return null===(t=e.sgigjpessoa)||void 0===t?void 0:t.NOME}).join(", "),d.data[0].ORIGEM=null===(a=d.data[0].sgigjprorigemtp)||void 0===a?void 0:a.DESIG,d.data[0].PESSOAREGISTO=null===(s=d.data[0].sgigjrelpessoaentidade)||void 0===s||null===(c=s.sgigjpessoa)||void 0===c?void 0:c.NOME,d.data[0].ENTIDADEREGISTO=null===(o=d.data[0])||void 0===o||null===(n=o.sgigjentidade)||void 0===n?void 0:n.DESIG;let e=null,r=null;var i,l;if(d.data[0].sgigjprocessodespacho.length>0)if(null!=d.data[0].sgigjprocessodespacho[0].URL_DOC_GERADO&&(e={DATA:Object(v.f)(d.data[0].sgigjprocessodespacho[0].DATA),REFERENCIA:d.data[0].sgigjprocessodespacho[0].REFERENCIA,PRAZO:d.data[0].sgigjprocessodespacho[0].PRAZO,OBS:d.data[0].sgigjprocessodespacho[0].OBS,DOC:d.data[0].sgigjprocessodespacho[0].URL_DOC_GERADO,INSTRUTOR:""}),d.data[0].sgigjprocessodespacho[0].sgigjrelprocessoinstrutor.length>0)e&&(e.INSTRUTOR=null===(i=d.data[0].sgigjprocessodespacho[0].sgigjrelprocessoinstrutor[0].sgigjrelpessoaentidade)||void 0===i||null===(l=i.sgigjpessoa)||void 0===l?void 0:l.NOME),d.data[0].sgigjprocessodespacho[0].sgigjrelprocessoinstrutor[0].sgigjrelprocessoinstrucao.length>0&&(r={list:d.data[0].sgigjprocessodespacho[0].sgigjrelprocessoinstrutor[0].sgigjrelprocessoinstrucao[0].sgigjrelinstrutorpeca});d.data[0].despacho=e,d.data[0].instrucao=r,T(d.data[0]),A(!0)}}catch(d){console.error(d)}};return Object(c.useEffect)(()=>{k()},[]),Object(b.jsxs)(o.a.Fragment,{children:[Object(b.jsx)(n.a,{children:Object(b.jsx)(i.a,{children:Object(b.jsxs)(l.a,{children:[Object(b.jsx)(l.a.Header,{children:Object(b.jsx)(l.a.Title,{as:"h5",children:"Processos de Contraordena\xe7\xe3o"})}),Object(b.jsx)(l.a.Body,{children:Object(b.jsx)(D,{columns:p,data:m,listAno:E,uploadList:k})})]})})}),Object(b.jsxs)(d.a,{show:C,onHide:()=>A(!1),size:"xl",centered:!0,children:[Object(b.jsx)(d.a.Header,{closeButton:!0,children:Object(b.jsx)(d.a.Title,{children:"Detalhes do Processo de Contraordena\xe7\xe3o"})}),Object(b.jsx)(d.a.Body,{children:R&&Object(b.jsxs)("div",{children:[Object(b.jsxs)("ul",{className:"nav nav-tabs mb-3",id:"myTab",role:"tablist",children:[Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)("a",{className:"Despacho"===P?"nav-link active":"nav-link",onClick:()=>_("Despacho"),style:{cursor:"pointer"},children:"Dados Gerais"})}),R.despacho&&Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)("a",{className:"Instrucao"===P?"nav-link active":"nav-link",onClick:()=>_("Instrucao"),style:{cursor:"pointer"},children:"Despacho"})}),R.instrucao&&Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)("a",{className:"Pecas"===P?"nav-link active":"nav-link",onClick:()=>_("Pecas"),style:{cursor:"pointer"},children:"Instru\xe7\xe3o / Pe\xe7as"})})]}),"Despacho"===P&&Object(b.jsxs)("div",{children:[Object(b.jsxs)(n.a,{className:"mb-3",children:[Object(b.jsxs)(i.a,{md:6,children:[Object(b.jsx)("strong",{children:"Refer\xeancia:"})," ",R.REF]}),Object(b.jsxs)(i.a,{md:6,children:[Object(b.jsx)("strong",{children:"Data:"})," ",R.DATA2]})]}),Object(b.jsxs)(n.a,{className:"mb-3",children:[Object(b.jsxs)(i.a,{md:6,children:[Object(b.jsx)("strong",{children:"Entidade:"})," ",R.ENTIDADEREGISTO]}),Object(b.jsxs)(i.a,{md:6,children:[Object(b.jsx)("strong",{children:"Visado:"})," ",R.PESSOA]})]}),Object(b.jsxs)(n.a,{className:"mb-3",children:[Object(b.jsxs)(i.a,{md:6,children:[Object(b.jsx)("strong",{children:"Origem:"})," ",R.ORIGEM]}),Object(b.jsxs)(i.a,{md:6,children:[Object(b.jsx)("strong",{children:"Registado por:"})," ",R.PESSOAREGISTO]})]})]}),"Instrucao"===P&&R.despacho&&Object(b.jsxs)("div",{children:[Object(b.jsxs)(n.a,{className:"mb-3",children:[Object(b.jsxs)(i.a,{md:6,children:[Object(b.jsx)("strong",{children:"Data do Despacho:"})," ",R.despacho.DATA]}),Object(b.jsxs)(i.a,{md:6,children:[Object(b.jsx)("strong",{children:"Refer\xeancia:"})," ",R.despacho.REFERENCIA]})]}),Object(b.jsxs)(n.a,{className:"mb-3",children:[Object(b.jsxs)(i.a,{md:6,children:[Object(b.jsx)("strong",{children:"Prazo:"})," ",R.despacho.PRAZO," dias"]}),Object(b.jsxs)(i.a,{md:6,children:[Object(b.jsx)("strong",{children:"Instrutor:"})," ",R.despacho.INSTRUTOR]})]}),R.despacho.OBS&&Object(b.jsx)(n.a,{className:"mb-3",children:Object(b.jsxs)(i.a,{md:12,children:[Object(b.jsx)("strong",{children:"Observa\xe7\xf5es:"}),Object(b.jsx)("p",{children:R.despacho.OBS})]})}),R.despacho.DOC&&Object(b.jsx)(n.a,{className:"mb-3",children:Object(b.jsx)(i.a,{md:12,children:Object(b.jsxs)("a",{href:R.despacho.DOC+"?alt=media&token=0",target:"_blank",rel:"noreferrer",className:"btn btn-sm btn-outline-primary",children:[Object(b.jsx)("i",{className:"feather icon-file mr-1"}),"Ver Documento do Despacho"]})})})]}),"Pecas"===P&&R.instrucao&&Object(b.jsxs)("div",{children:[Object(b.jsx)("h6",{children:"Pe\xe7as Processuais da Instru\xe7\xe3o"}),R.instrucao.list&&R.instrucao.list.length>0?Object(b.jsxs)(g.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Pe\xe7a Processual"}),Object(b.jsx)("th",{children:"Data"}),Object(b.jsx)("th",{children:"Documentos"})]})}),Object(b.jsx)("tbody",{children:R.instrucao.list.map((e,t)=>{var a;return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:(null===(a=e.sgigjprpecasprocessual)||void 0===a?void 0:a.DESIG)||""}),Object(b.jsx)("td",{children:Object(v.f)(e.DT_REGISTO)}),Object(b.jsx)("td",{children:e.sgigjreldocumento&&e.sgigjreldocumento.length>0?e.sgigjreldocumento.map((e,t)=>{var a;return Object(b.jsxs)("a",{href:e.DOC_URL+"?alt=media&token=0",target:"_blank",rel:"noreferrer",className:"btn btn-sm btn-outline-secondary mr-1 mb-1",children:[Object(b.jsx)("i",{className:"feather icon-file mr-1"}),(null===(a=e.sgigjprdocumentotp)||void 0===a?void 0:a.DESIG)||"Documento"]},t)}):Object(b.jsx)("span",{className:"text-muted",children:"Sem documentos"})})]},t)})})]}):Object(b.jsx)("p",{className:"text-muted",children:"Sem pe\xe7as processuais registadas."})]})]})}),Object(b.jsx)(d.a.Footer,{children:Object(b.jsx)(r.a,{variant:"secondary",onClick:()=>A(!1),children:"Fechar"})})]})]})}},824:function(e,t,a){"use strict";var s=a(0),c=a(404),o=a(403),n=a(812),i=a(818),l=a(30),d=a(26),r=a(1);t.a=e=>{let{documentolist:t,list:a,save:j,item:u,onSendData:O,hidden:h,required:b}=e;const{popUp_alertaOK:p}=Object(d.a)(),[m,g]=Object(s.useState)(!1);var[x,v]=Object(s.useState)([{id:""+Math.random(),tipodocumento:"",numero:"",dataemissao:"",datavalidade:"",anexo:{type:0,file:null}}]);async function f(e){var t={status:!1,file:null};try{const a=new FormData;a.append("file",e);const s={headers:{"content-type":"multipart/form-data"}},c=await l.a.post("/upload",a,s);t={status:!0,file:c},console.log(c)}catch(a){console.error(a),t={status:!1,file:null}}return t}Object(s.useEffect)(()=>{if(0==a.length)g(!0),v([{id:""+Math.random(),tipodocumento:"",numero:"",dataemissao:"",datavalidade:"",anexo:{type:0,file:null}}]);else{g(!1);let e=[];for(let t=0;t<a.length;t++){const s=null!=a[t].DT_EMISSAO?a[t].DT_EMISSAO.substring(0,10):"",c=null!=a[t].DT_VALIDADE?a[t].DT_VALIDADE.substring(0,10):"";e.push({id:""+a[t].ID,tipodocumento:a[t].PR_DOCUMENTO_TP_ID,numero:a[t].NUMERO,dataemissao:s,datavalidade:c,anexo:{type:1,file:a[t].DOC_URL}})}v(e.concat([])),O&&O(x)}console.log(a)},[a]),Object(s.useEffect)(()=>{console.log("ssssssssssssss"+j),""!=u.ID&&null!=u.ID&&async function(){if(1==m){const a=await l.a.delete("/sgigjreldocumento/0?"+(null===u||void 0===u?void 0:u.ENTIDADE)+"="+(null===u||void 0===u?void 0:u.ID));if(console.log(a.status),"200"==a.status||"204"==a.status){console.log(a);for(let a=0;a<x.length;a++)if(""!=x[a].tipodocumento&&(!h&&""!=x[a].numero||h)){console.log(x);var e="";"1"==x[a].anexo.type&&(e=x[a].anexo.file),"2"==x[a].anexo.type&&(e=(await f(x[a].anexo.file)).file.data),console.log(e);const s={[null===u||void 0===u?void 0:u.ENTIDADE]:null===u||void 0===u?void 0:u.ID,PR_DOCUMENTO_TP_ID:x[a].tipodocumento,NUMERO:h?1:x[a].numero,DOC_URL:e,DT_EMISSAO:x[a].dataemissao,DT_VALIDADE:x[a].datavalidade};try{await l.a.post("/sgigjreldocumento",s)}catch(t){console.error(t.response)}}}}}()},[j]);const[D,N]=Object(s.useState)(0);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(c.a,{style:{display:"flex",justifyContent:"flex-end"},sm:12,children:Object(r.jsx)(o.a,{onClick:()=>(v(x.concat([{id:""+Math.random(),tipodocumento:"",numero:"",dataemissao:"",datavalidade:"",anexo:{type:0,file:null}}])),void(O&&O(x))),variant:"primary",children:"+"})}),x.map((e,a)=>{var s;if(a==D)return Object(r.jsxs)(n.a,{style:{marginBottom:"12px"},children:[Object(r.jsx)(c.a,{sm:10,children:Object(r.jsxs)(n.a,{children:[Object(r.jsx)(c.a,{sm:6,children:Object(r.jsxs)("div",{className:"form-group fill",children:[Object(r.jsxs)("label",{className:"floating-label",htmlFor:"Phone",children:["Tipo de Documentos"," ",b&&Object(r.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(r.jsxs)("select",{defaultValue:e.tipodocumento,onChange:t=>{!function(e,t){const a=x.findIndex(e=>e.id===t);x[a]={id:t,tipodocumento:e,numero:x[a].numero,dataemissao:x[a].dataemissao,datavalidade:x[a].datavalidade,anexo:x[a].anexo},g(!0),v(x.concat([])),O&&O(x)}(t.target.value,e.id)},className:"form-control",id:"perfil",required:b,"aria-required":"true",children:[Object(r.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),t.map(e=>Object(r.jsx)("option",{value:e.ID,children:e.DESIG},e.ID))]})]})}),!h&&Object(r.jsx)(c.a,{sm:3,children:Object(r.jsxs)("div",{className:"form-group fill",children:[Object(r.jsx)("label",{className:"floating-label",htmlFor:"text",children:"N\xfamero   "}),Object(r.jsx)("input",{defaultValue:e.numero,onChange:t=>{!function(e,t){const a=x.findIndex(e=>e.id===t);x[a]={id:t,numero:e,tipodocumento:x[a].tipodocumento,dataemissao:x[a].dataemissao,datavalidade:x[a].datavalidade,anexo:x[a].anexo},g(!0),v(x.concat([])),O&&O(x)}(t.target.value,e.id)},type:"text",className:"form-control"})]})}),Object(r.jsxs)("div",{className:"sm-2 paddinhtop28OnlyPC",children:[Object(r.jsxs)("label",{htmlFor:"anexareditar"+e.id,className:"btn",style:{backgroundColor:"#d2b32a",color:"#fff"},children:[null==(null===e||void 0===e||null===(s=e.anexo)||void 0===s?void 0:s.file)?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("i",{className:"feather icon-download"}),Object(r.jsx)(r.Fragment,{children:" Anexar"})]}):"Anexado"," "]}),Object(r.jsx)("input",{id:"anexareditar"+e.id,style:{display:"none"},onChange:t=>function(e,t,a){const s=x.findIndex(e=>e.id===t);if(console.log(x[s]),console.log(t),""==x[s].tipodocumento)return p("Preencha o campos obrigat\xf3rios"),void(a.target.value="");x[s]={id:t,tipodocumento:x[s].tipodocumento,dataemissao:x[s].dataemissao,datavalidade:x[s].datavalidade,numero:x[s].numero,anexo:{type:2,file:e}},g(!0),v(x.concat([])),O&&O(x)}(t.target.files[0],e.id,t),accept:h?void 0:"image/x-png,image/jpeg,.mp4",type:"file"})]}),!h&&Object(r.jsx)(c.a,{sm:6,children:Object(r.jsxs)("div",{className:"form-group fill",children:[Object(r.jsx)("label",{className:"floating-label",htmlFor:"date",children:"Data de Emiss\xe3o"}),Object(r.jsx)("input",{defaultValue:e.dataemissao,onChange:t=>{!function(e,t){const a=x.findIndex(e=>e.id===t);x[a]={id:t,dataemissao:e,numero:x[a].numero,tipodocumento:x[a].tipodocumento,datavalidade:x[a].datavalidade,anexo:x[a].anexo},g(!0),v(x.concat([])),O&&O(x)}(t.target.value,e.id)},type:"date",className:"form-control"})]})}),!h&&Object(r.jsx)(c.a,{sm:6,children:Object(r.jsxs)("div",{className:"form-group fill",children:[Object(r.jsx)("label",{className:"floating-label",htmlFor:"text",children:"Data de Validade"}),Object(r.jsx)("input",{defaultValue:e.datavalidade,onChange:t=>{!function(e,t){const a=x.findIndex(e=>e.id===t);x[a]={id:t,datavalidade:e,numero:x[a].numero,tipodocumento:x[a].tipodocumento,dataemissao:x[a].dataemissao,anexo:x[a].anexo},g(!0),v(x.concat([])),O&&O(x)}(t.target.value,e.id)},type:"date",className:"form-control"})]})})]})}),x.length>1?Object(r.jsx)("div",{className:"paddinhtop66OnlyPC sm-2",children:Object(r.jsx)(o.a,{onClick:()=>function(e){if(x.length>1){const a=x.findIndex(t=>t.id===e);if(a>-1){var t=x;t.splice(a,1),v(t.concat([])),O&&O(x),g(!0)}}}(e.id),variant:"danger",children:Object(r.jsx)("i",{className:"feather icon-trash-2"})})}):null]},e.id)}),Object(r.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(r.jsxs)(i.a,{className:"justify-content-end",children:[Object(r.jsx)(i.a.First,{onClick:()=>N(0)}),Object(r.jsx)(i.a.Prev,{onClick:()=>N(D>0?D-1:0)}),Object(r.jsx)("span",{style:{display:"flex",padding:"8px 20px",alignItems:"center",justifyContent:"center"},children:D+1}),Object(r.jsx)(i.a.Next,{onClick:()=>N(D>=x.length-1?x.length-1:D+1)}),Object(r.jsx)(i.a.Last,{onClick:()=>N(x.length-1)})]})})]})}},825:function(e,t,a){"use strict";var s=a(0),c=a(814),o=a(812),n=a(404),i=a(403),l=a(7),d=a(1);t.a=e=>{let{Open:t,setOpen:a,list:r}=e;const[j,u]=Object(s.useState)(""),[O,h]=Object(s.useState)("");return Object(s.useEffect)(()=>{u("")},[r]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)(c.a,{size:"lg",show:t,onHide:()=>a(!1),children:[Object(d.jsx)(c.a.Body,{children:Object(d.jsx)(o.a,{children:Object(d.jsxs)(n.a,{xl:12,className:"task-detail-right",children:[Object(d.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"spaceAround"},children:Object(d.jsxs)("span",{style:{paddingBottom:"4px",cursor:"pointer",borderBottom:"2px solid #d2b32a",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(d.jsx)("i",{className:"feather icon-file-text m-r-5"}),"Anexos"]})}),Object(d.jsxs)("div",{style:{width:"100%",height:"500px"},children:[Object(d.jsx)("div",{style:{width:"100%",borderBottom:"1px solid #d2b32a",paddingTop:"20px",paddingBottom:"20px",marginBottom:"20px",overflow:"auto",height:"70px"},children:"undefined"!=typeof r?r.map(e=>{var t;return Object(d.jsx)(l.b,{onClick:()=>{var t,a,s,c;"PDF"==(null===(t=e.DOC_URL)||void 0===t?void 0:t.substring((null===(a=e.DOC_URL)||void 0===a?void 0:a.lastIndexOf("."))+1))||"pdf"==(null===(s=e.DOC_URL)||void 0===s?void 0:s.substring((null===(c=e.DOC_URL)||void 0===c?void 0:c.lastIndexOf("."))+1))?h(e.DOC_URL):u(e.DOC_URL)},style:{margin:"2px"},to:"#",className:"mb-1 text-muted d-flex align-items-end text-h-primary",children:"::"+(null===e||void 0===e||null===(t=e.sgigjprdocumentotp)||void 0===t?void 0:t.DESIG)},e.ID)}):null}),Object(d.jsx)("div",{style:{width:"100%",display:j?"flex":"none",justifyContent:"center",marginBottom:"10px"},children:Object(d.jsxs)("span",{children:[Object(d.jsx)("i",{className:"feather icon-eye m-r-5"}),"Pr\xe9-vizualiza\xe7\xe3o"]})}),Object(d.jsx)("a",{style:{display:j?"block":"none"},href:j+"?alt=media&token=0",target:"_blank",rel:"noopener noreferrer",children:Object(d.jsx)("div",{className:""==j?"previewdoc":"previewdoc-img",style:{backgroundImage:'url("'+j+'?alt=media&token=0")',height:"350px"}})})]})]})})}),Object(d.jsx)(c.a.Footer,{children:Object(d.jsx)(i.a,{variant:"danger",onClick:()=>a(!1),children:"Fechar"})})]}),Object(d.jsx)(c.a,{size:"xl",show:O,onHide:()=>{h(null),setTimeout(()=>a(!0),150)},children:Object(d.jsx)("iframe",{height:1e3,src:O+"?alt=media&token=0",title:"pdf-viewer",width:"100%s"})})]})}}}]);
//# sourceMappingURL=40.8a692bdb.chunk.js.map