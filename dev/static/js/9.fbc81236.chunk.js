(this["webpackJsonpigj-frontend"]=this["webpackJsonpigj-frontend"]||[]).push([[9],{928:function(e,s,t){"use strict";t.r(s);var a=t(8),o=t(0),l=t.n(o),i=t(812),c=t(404),d=t(864),n=t(814),r=t(403),j=t(807),p=t(7),u=t(821),b=t(824),O=t(816),h=t(1);const g=e=>{let{filter:s,setFilter:t}=e;const[a,l]=Object(o.useState)(s),i=Object(O.useAsyncDebounce)(e=>{t(e||void 0)},1e3);return Object(h.jsxs)("span",{className:"d-flex align-items-center justify-content-end",children:["Procurar:"," ",Object(h.jsx)("input",{className:"form-control ml-2 w-auto",value:a||"",onChange:e=>{l(e.target.value),i(e.target.value)}})]})};var x=t(818),m=t(817),v=t(30),f=t(26),y=t(22),D=t(76),S=t(240),C=t.n(S),N=t(822),A=t(825),T=t(820),R=t.n(T),E=t(829);t(828);const w="/processos/exclusaointerdicao";function I(e){let{uploadList:s,columns:t,listAno:l,data:d,modalOpen:n}=e;const[r,j]=Object(o.useState)(""),[p,u]=Object(o.useState)(""),b=Object(o.useRef)(null),{permissoes:v}=Object(f.a)(),[y,D]=Object(o.useState)(),{getTableProps:S,getTableBodyProps:C,headerGroups:N,prepareRow:A,globalFilter:T,setGlobalFilter:R,page:E,canPreviousPage:w,canNextPage:I,pageOptions:_,pageCount:P,gotoPage:k,nextPage:B,previousPage:L,setPageSize:U,state:{pageIndex:G,pageSize:F}}=Object(O.useTable)({columns:t,data:d,initialState:{pageIndex:0,pageSize:10}},O.useGlobalFilter,O.useSortBy,O.usePagination);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(i.a,{className:"mb-3",children:[Object(h.jsxs)(c.a,{md:3,className:"d-flex align-items-center",children:["Mostrar",Object(h.jsx)("select",{className:"form-control w-auto mx-2",value:F,onChange:e=>{U(Number(e.target.value))},children:[5,10,20,30,40,50].map(e=>Object(h.jsx)("option",{value:e,children:e},e))}),"entradas"]}),Object(h.jsxs)(c.a,{md:9,className:"d-flex justify-content-end",children:[Object(h.jsxs)("div",{className:"d-flex align-items-center mr-2",children:[Object(h.jsx)("div",{className:"d-flex",children:Object(h.jsxs)("div",{className:"d-flex align-items-center mr-1",children:[Object(h.jsxs)("span",{className:"floating-label",htmlFor:"Name",children:["Ano:",Object(h.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(h.jsxs)("select",{onChange:e=>{var t;t=e.target.value,s(t)},className:"form-control",id:"perfil",required:!0,"aria-required":"true",children:[Object(h.jsx)("option",{value:"",children:" Selecione um Ano "}),l.map(e=>Object(h.jsx)("option",{value:e,children:e},e))]})]})}),""!==r||""!==p?Object(h.jsx)("div",{style:{cursor:"pointer"},onClick:()=>{j(""),u(""),s()},className:"ml-2",children:Object(h.jsx)("i",{className:"feather icon-x-circle"})}):""]}),Object(h.jsx)(g,{filter:T,setFilter:R})]})]}),Object(h.jsxs)(m.a,Object(a.a)(Object(a.a)({ref:b,striped:!0,bordered:!0,hover:!0,responsive:!0},S()),{},{children:[Object(h.jsx)("thead",{children:N.map(e=>Object(h.jsx)("tr",Object(a.a)(Object(a.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map(e=>Object(h.jsxs)("th",Object(a.a)(Object(a.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),Object(h.jsx)("span",{children:e.isSorted?e.isSortedDesc?Object(h.jsx)("span",{className:"feather icon-arrow-down text-muted float-right"}):Object(h.jsx)("span",{className:"feather icon-arrow-up text-muted float-right"}):""})]})))})))}),Object(h.jsx)("tbody",Object(a.a)(Object(a.a)({},C()),{},{children:E.map((e,s)=>(A(e),Object(h.jsx)("tr",Object(a.a)(Object(a.a)({},e.getRowProps()),{},{children:e.cells.map(e=>{const s=e.column.centered;return Object(h.jsx)("td",Object(a.a)(Object(a.a)({},e.getCellProps()),{},{className:s?"text-center":"text-right",children:e.render("Cell")}))})}))))}))]})),Object(h.jsxs)(i.a,{className:"justify-content-between",children:[Object(h.jsx)(c.a,{children:Object(h.jsxs)("span",{className:"d-flex align-items-center",children:["P\xe1gina"," ",Object(h.jsxs)("strong",{children:[" ",G+1," de ",_.length," "]})," ","| Ir para a p\xe1gina:"," ",Object(h.jsx)("input",{type:"number",className:"form-control ml-2",defaultValue:G+1,onChange:e=>{const s=e.target.value?Number(e.target.value)-1:0;k(s)},style:{width:"100px"}})]})}),Object(h.jsx)(c.a,{children:Object(h.jsxs)(x.a,{className:"justify-content-end",children:[Object(h.jsx)(x.a.First,{onClick:()=>k(0),disabled:!w}),Object(h.jsx)(x.a.Prev,{onClick:()=>L(),disabled:!w}),Object(h.jsx)(x.a.Next,{onClick:()=>B(),disabled:!I}),Object(h.jsx)(x.a.Last,{onClick:()=>k(P-1),disabled:!I})]})})]})]})}s.default=()=>{var e,s,t,a,O,g,x,m,S,T,_,P,k,B,L,U,G,F,H,M,q,z;const{permissoes:V,user:W,popUp_simcancelar:J}=Object(f.a)(),X=Object(y.i)(),[Z,Y]=(Object(y.g)(),Object(o.useState)(null)),{popUp_removerItem:K,popUp_alertaOK:Q}=Object(f.a)();Object(o.useRef)(null);const $=l.a.useMemo(()=>[{Header:"EST",accessor:"COLOR_STATUS",centered:!1},{Header:"Refer\xeancia",accessor:"REF",centered:!1},{Header:"Despacho",accessor:"TIPO_DESPACHO",centered:!0},{Header:"Entidade Decisora",accessor:"ENTIDADEREGISTO",centered:!0},{Header:"Pessoa",accessor:"PESSOAREGISTO",centered:!0},{Header:"Visado",accessor:"PESSOA",centered:!0},{Header:"Data",accessor:"DATA2",centered:!0},{Header:"A\xe7\xf5es",accessor:"action",centered:!0}],[]),[ee,se]=Object(o.useState)([]),[te,ae]=Object(o.useState)(""),[oe,le]=Object(o.useState)(""),[ie,ce]=Object(o.useState)(""),[de,ne]=Object(o.useState)([]),[re,je]=Object(o.useState)("dados"),[pe,ue]=Object(o.useState)(null),[be,Oe]=Object(o.useState)(null),[he,ge]=Object(o.useState)([]),[xe,me]=Object(o.useState)([]),[ve,fe]=Object(o.useState)(!1),[ye,De]=Object(o.useState)(!1);var Se=(new Date).toJSON().slice(0,10);const[Ce,Ne]=Object(o.useState)({}),[Ae,Te]=Object(o.useState)([]);async function Re(){try{const s=await v.a.get("/sgigjpessoa");if("200"==s.status){for(var e=0;e<s.data.length;e++)s.data[e].value=s.data[e].ID,s.data[e].label=s.data[e].NOME;Te(s.data)}}catch(s){console.error(s.response)}}const[Ee,we]=Object(o.useState)([]);const[Ie,_e]=Object(o.useState)([]);const[Pe,ke]=Object(o.useState)([]);const[Be,Le]=Object(o.useState)([]);const[Ue,Ge]=Object(o.useState)([]);const[Fe,He]=Object(o.useState)([]);const[Me,qe]=Object(o.useState)([]);async function ze(e){let s,t=[];try{if(s=e?await v.a.get("/sgigjprocessoexclusao?ENTIDADE_ID=".concat(X.id,"&ano=").concat(e)):await v.a.get("/sgigjprocessoexclusao?ENTIDADE_ID=".concat(X.id)),"200"==s.status){console.log(s.data);for(var a=0;a<s.data.length;a++){var o,i,c,d,n,r;s.data[a].ID;s.data[a].id=s.data[a].ID,s.data[a].DATA2=Object(D.f)(s.data[a].DATA);let e=new Date(s.data[a].DATA);e&&!t.includes(e.getFullYear())&&t.push(e.getFullYear()),s.data[a].PESSOA=s.data[a].sgigjrelinterveniente.map(e=>e.sgigjpessoa.NOME).join(", "),s.data[a].ORIGEM=null===(o=s.data[a].sgigjprorigemtp)||void 0===o?void 0:o.DESIG,s.data[a].PESSOAREGISTO=null===(i=s.data[a].sgigjrelpessoaentidade)||void 0===i||null===(c=i.sgigjpessoa)||void 0===c?void 0:c.NOME,s.data[a].ENTIDADEREGISTO=null===(d=s.data[a])||void 0===d||null===(n=d.sgigjentidade)||void 0===n?void 0:n.DESIG;const v=s.data[a];let N="grey",T="";try{var j,u,b,O,g,x;const e=s.data[a],t=null===e||void 0===e||null===(j=e.sgigjprocessodespacho)||void 0===j?void 0:j[0],o=null===t||void 0===t||null===(u=t.sgigjrelprocessoinstrutor)||void 0===u?void 0:u[0],l=null===o||void 0===o||null===(b=o.sgigjrelprocessoinstrucao)||void 0===b?void 0:b[0],i=null===e||void 0===e||null===(O=e.sgigjdespachofinal)||void 0===O?void 0:O[0];if("ENCERRADO"==e.ESTADO_ENCERRAMENTO)N="black";else if((null===e||void 0===e||null===(g=e.sgigjprocessodespacho)||void 0===g?void 0:g.length)>0){var m,f;if("I"==(null===t||void 0===t?void 0:t.TIPO_PROCESSO_EXCLUSAO)&&(T="Inqu\xe9rito"),"C"==(null===t||void 0===t?void 0:t.TIPO_PROCESSO_EXCLUSAO)&&(T="Contraordena\xe7\xe3o"),"A"==(null===t||void 0===t?void 0:t.TIPO_PROCESSO_EXCLUSAO)&&(T="Averigua\xe7\xe3o Sum\xe1ria"),null!=(null===t||void 0===t?void 0:t.URL_DOC_GERADO)&&(N="green"),(null===o||void 0===o||null===(m=o.sgigjrelprocessoinstrucao)||void 0===m?void 0:m.length)>0)if(null!=(null===l||void 0===l?void 0:l.RELATORIO_FINAL)&&(N="orange"),(null===l||void 0===l||null===(f=l.sgigjdespachointerrompido)||void 0===f?void 0:f.length)>0){var y,S;const e=null===l||void 0===l||null===(y=l.sgigjdespachointerrompido)||void 0===y||null===(S=y[0])||void 0===S?void 0:S.TIPO;"A"!=e&&"P"!=e||(N="blue")}}(null===e||void 0===e||null===(x=e.sgigjdespachofinal)||void 0===x?void 0:x.length)>0&&(null!=(null===i||void 0===i?void 0:i.URL_DOC_GERADO)&&0!=(null===i||void 0===i?void 0:i.ESTADO)&&(N="blue"),T="Despacho Decis\xe3o")}catch(A){var C;console.error("ERRO colorx processo:",null===(C=s.data[a])||void 0===C?void 0:C.ID,A)}s.data[a].TIPO_DESPACHO=T,s.data[a].action=Object(h.jsxs)(l.a.Fragment,{children:[0==Object(D.s)(w,V,"Editar")?null:Object(h.jsx)(p.b,{to:"#",title:"Decis\xe3o Tribunal",onClick:()=>{rs(!0),Ne(v)},className:"text-primary mx-1",children:Object(h.jsx)("i",{className:"text-primary  feather icon-file"})}),0==Object(D.s)(w,V,"Editar")?null:Object(h.jsx)(p.b,{to:"#",title:"Notifica\xe7\xe3o",onClick:()=>as(v),className:"text-primary mx-1",children:Object(h.jsx)("i",{className:"text-primary  feather icon-mail"})}),null!=(null===(r=v.sgigjprocessodespacho[0])||void 0===r?void 0:r.URL_DOC_GERADO)&&0==Object(D.s)(w,V,"DespachoFinal")?null:"grey"!=N&&Object(h.jsx)(p.b,{to:"#",title:"Documento",onClick:()=>{var e;return window.open((null===(e=v.sgigjprocessodespacho[0])||void 0===e?void 0:e.URL_DOC_GERADO)+"?alt=media&token=0")},className:"text-primary mx-1",children:Object(h.jsx)("i",{className:"text-primary  feather icon-file-text"})}),0==Object(D.s)(w,V,"Ler")?null:Object(h.jsx)(p.b,{to:"#",title:Object(D.u)(w,V,"Ler"),onClick:()=>ss(v),className:"text-primary mx-1",children:Object(h.jsx)("i",{className:"text-primary "+Object(D.t)(w,V,"Ler")})}),"black"!=N&&0!=Object(D.s)(w,V,"Instrucao")&&Object(h.jsx)(p.b,{to:"#",title:"Instru\xe7\xe3o",onClick:()=>os(v),className:"text-primary mx-1",children:Object(h.jsx)("i",{className:"text-primary "+Object(D.t)(w,V,"Instrucao")})})]}),s.data[a].colorx=N,s.data[a].COLOR_STATUS=Object(h.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(h.jsx)("div",{style:{backgroundColor:"red",width:"20px",height:"20px",borderRadius:"50%"}}),Object(h.jsx)("div",{style:{backgroundColor:"orange",width:"20px",height:"20px",borderRadius:"50%"}}),Object(h.jsx)("div",{style:{backgroundColor:"yellow",width:"20px",height:"20px",borderRadius:"50%"}}),Object(h.jsx)("div",{style:{backgroundColor:"green",width:"20px",height:"20px",borderRadius:"50%"}}),Object(h.jsx)("div",{style:{backgroundColor:"#fff",width:"20px",height:"20px",borderRadius:"50%",border:"2px solid blue"}}),Object(h.jsx)("div",{style:{backgroundColor:"#fff",width:"20px",height:"20px",borderRadius:"50%",border:"2px solid brown"}}),Object(h.jsx)("div",{style:{backgroundColor:"#fff",width:"20px",height:"20px",borderRadius:"50%",border:"2px solid purple"}})]})}var N=s.data.filter(e=>"black"==e.colorx||"blue"==e.colorx||"orange"==e.colorx);qe(N)}0==de.length&&ne(t)}catch(T){console.error(T.response)}}const[Ve,We]=Object(o.useState)(null),[Je,Xe]=Object(o.useState)({}),[Ze,Ye]=Object(o.useState)("Despacho"),[Ke,Qe]=Object(o.useState)(""),[$e,es]=Object(o.useState)(!1),ss=async e=>{try{const n=await v.a.get("/sgigjprocessoexclusao/"+e.id);if("200"==n.status&&n.data.length>0){var s,t,a,o,l,i;n.data[0].id=n.data[0].ID,n.data[0].id=n.data[0].ID,n.data[0].DATA2=Object(D.f)(n.data[0].DATA),n.data[0].PESSOA=null===(s=n.data[0].sgigjpessoa)||void 0===s?void 0:s.NOME,n.data[0].ORIGEM=null===(t=n.data[0].sgigjprorigemtp)||void 0===t?void 0:t.DESIG,n.data[0].PESSOAREGISTO=null===(a=n.data[0].sgigjrelpessoaentidade)||void 0===a||null===(o=a.sgigjpessoa)||void 0===o?void 0:o.NOME,n.data[0].ENTIDADEREGISTO=null===(l=n.data[0])||void 0===l||null===(i=l.sgigjentidade)||void 0===i?void 0:i.DESIG;let e=null,r=null,j=null;var c,d;if(n.data[0].sgigjprocessodespacho.length>0)if(null!=n.data[0].sgigjprocessodespacho[0].URL_DOC_GERADO&&(e={DATA:Object(D.f)(n.data[0].sgigjprocessodespacho[0].DATA),REFERENCIA:n.data[0].sgigjprocessodespacho[0].REFERENCIA,PRAZO:n.data[0].sgigjprocessodespacho[0].PRAZO,OBS:n.data[0].sgigjprocessodespacho[0].OBS,DOC:n.data[0].sgigjprocessodespacho[0].URL_DOC_GERADO,INSTRUTOR:""}),e&&n.data[0].sgigjprocessodespacho[0].sgigjrelprocessoinstrutor.length>0)e.INSTRUTOR=null===(c=n.data[0].sgigjprocessodespacho[0].sgigjrelprocessoinstrutor[0].sgigjrelpessoaentidade)||void 0===c||null===(d=c.sgigjpessoa)||void 0===d?void 0:d.NOME,n.data[0].sgigjprocessodespacho[0].sgigjrelprocessoinstrutor[0].sgigjrelprocessoinstrucao.length>0&&(r={list:n.data[0].sgigjprocessodespacho[0].sgigjrelprocessoinstrutor[0].sgigjrelprocessoinstrucao[0].sgigjrelinstrutorpeca},n.data[0].sgigjprocessodespacho[0].sgigjrelprocessoinstrutor[0].sgigjrelprocessoinstrucao[0].sgigjprocessodespacho.length>0&&null!=n.data[0].sgigjprocessodespacho[0].sgigjrelprocessoinstrutor[0].sgigjrelprocessoinstrucao[0].sgigjprocessodespacho[0].URL_DOC_GERADO&&(j={DOC:n.data[0].sgigjprocessodespacho[0].sgigjrelprocessoinstrutor[0].sgigjrelprocessoinstrucao[0].sgigjprocessodespacho[0].URL_DOC_GERADO,DATA:Object(D.f)(n.data[0].sgigjprocessodespacho[0].sgigjrelprocessoinstrutor[0].sgigjrelprocessoinstrucao[0].sgigjprocessodespacho[0].DATA),DESICAO:n.data[0].sgigjprocessodespacho[0].sgigjrelprocessoinstrutor[0].sgigjrelprocessoinstrucao[0].sgigjprocessodespacho[0].sgigjprdecisaotp.TIPO}));n.data[0].sgigjdespachofinal.length>0&&null!=n.data[0].sgigjdespachofinal[0].URL_DOC_GERADO&&(j={DOC:n.data[0].sgigjdespachofinal[0].URL_DOC_GERADO,DATA:Object(D.f)(n.data[0].sgigjdespachofinal[0].DATA),DESICAO:n.data[0].sgigjdespachofinal[0].sgigjprdecisaotp.TIPO}),console.log(j),n.data[0].despacho=e,n.data[0].instrucao=r,n.data[0].despachofinal=j,console.log(r),We(n.data[0]),es(!0),console.log(n.data[0])}}catch(n){console.error(n)}};async function ts(e){var s={status:!1,file:null};try{const t=new FormData;t.append("file",e);const a={headers:{"content-type":"multipart/form-data"}};s={status:!0,file:await v.a.post("/upload",t,a)}}catch(t){console.error(t.response),s={status:!1,file:null}}return s}const as=e=>{is(!0),Ne(e),ds("")};const os=async e=>{Y(e)};Object(o.useEffect)(()=>{ze(),Re(),async function(){try{const e=await v.a.get("/sgigjprdocumentotp");"200"==e.status&&Le(e.data)}catch(e){console.error(e.response)}}()},[]);const[ls,is]=Object(o.useState)(!1),[cs,ds]=Object(o.useState)(""),[ns,rs]=Object(o.useState)(!1),[js,ps]=Object(o.useState)(null),[us,bs]=Object(o.useState)(!1),[Os,hs]=Object(o.useState)(!1),[gs,xs]=Object(o.useState)(!1);const[ms,vs]=Object(o.useState)({code:0,value:!1}),[fs,ys]=Object(o.useState)(!1),[Ds,Ss]=Object(o.useState)(""),[Cs,Ns]=Object(o.useState)(""),[As,Ts]=Object(o.useState)(""),[Rs,Es]=Object(o.useState)(""),[ws,Is]=Object(o.useState)(""),[_s,Ps]=Object(o.useState)(""),[ks,Bs]=Object(o.useState)(""),[Ls,Us]=Object(o.useState)(""),[Gs,Fs]=Object(o.useState)(""),[Hs,Ms]=Object(o.useState)("");(new Date).toISOString().substring(0,10);const[qs,zs]=Object(o.useState)(!1),[Vs,Ws]=Object(o.useState)(!1),[Js,Xs]=Object(o.useState)([]);function Zs(e){var s=[];s=null===e||void 0===e?void 0:e.sgigjreldocumento,console.log("Roberto",e),null==e.URL_DOC&&null==e.URL_DOC_GERADO||s.push({DOC_URL:e.URL_DOC?e.URL_DOC:e.URL_DOC_GERADO,sgigjprdocumentotp:{DESIG:"Documento gerado"}}),Ws(!0),Xs(null===e||void 0===e?void 0:e.sgigjreldocumento)}const[Ys,Ks]=Object(o.useState)(),[Qs,$s]=Object(o.useState)(!1);async function et(e){let s=[];try{const o=await v.a.get("/sgigjprocessoexclusao/"+e);"200"==o.status&&o.data.length>0&&(o.data[0].id=o.data[0].ID,o.data[0].sgigjprocessodespacho.length>0&&o.data[0].sgigjprocessodespacho[0].sgigjrelprocessoinstrutor.length>0&&o.data[0].sgigjprocessodespacho[0].sgigjrelprocessoinstrutor[0].sgigjrelprocessoinstrucao.length>0&&(s=o.data[0].sgigjprocessodespacho[0].sgigjrelprocessoinstrutor[0].sgigjrelprocessoinstrucao[0].sgigjrelinstrutorpeca));var t=[];if(s.length>0)for(let e=0;e<s.length;e++){const a=s[e];for(let e=0;e<a.sgigjreldocumento.length;e++){const s=a.sgigjreldocumento[e];t.push(s.DOC_URL)}null!=a.URL_DOC&&t.push(a.URL_DOC)}console.log("GO_ER");const l=await v.a.get("/juntada/"+e);if("200"==l.status){const e=l.data.buffer.data,s=new Uint8Array(e).buffer;var a=new Blob([s],{type:"application/pdf"});const t=URL.createObjectURL(a);console.log(a),Ks(t),$s(!0)}}catch(o){console.error(o)}}return Object(h.jsx)(l.a.Fragment,{children:Object(h.jsx)(i.a,{children:Object(h.jsxs)(c.a,{sm:12,children:[Object(h.jsx)(d.a,{children:Object(h.jsx)(d.a.Body,{children:null==Z?Object(h.jsx)(I,{listAno:de,uploadList:ze,columns:$,data:Me,modalOpen:()=>{bs(!0),hs(!1),es(!1),se([]),ae(""),le(""),ce("")},pageAcess:w,permissoes:V}):Object(h.jsx)(E.a,{decisaolist:Fe,uploadlist:ze,setinstrucaoitem:Y,pageAcess:w,permissoes:V,item:Z})})}),Object(h.jsxs)(n.a,{size:"lg",show:$e,onHide:()=>es(!1),scrollable:!0,centered:!0,children:[Object(h.jsx)(n.a.Header,{className:"modal-header--processo",closeButton:!0,children:Object(h.jsx)(n.a.Title,{as:"h5",children:"Processo"})}),null!=Ve&&Object(h.jsx)(n.a.Body,{children:Object(h.jsxs)(i.a,{children:[Object(h.jsxs)(c.a,{xl:4,className:"task-detail-right",children:[Object(h.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{className:"feather icon-shield m-r-5"}),"Pedido"]})}),Object(h.jsx)("div",{style:{borderBottom:"1px solid #d2b32a",borderTop:"1px solid #d2b32a",marginBottom:"20px",marginTop:"6px",paddingTop:"20px"},children:Object(h.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",marginBottom:"15px"},children:[Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{className:"feather icon-map-pin m-r-5"}),"Visado"]}),Object(h.jsx)("span",{style:{color:"#6c757d"},children:Ve.PESSOA})]})}),Object(h.jsxs)("div",{style:{borderBottom:"1px solid #d2b32a",marginBottom:"20px"},children:[Object(h.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",marginBottom:"15px"},children:[Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{className:"feather icon-map-pin m-r-5"}),"Entidade Decisora"]}),Object(h.jsx)("span",{style:{color:"#6c757d"},children:"IGJ"})]}),Object(h.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",marginBottom:"15px"},children:[Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{className:"feather icon-map-pin m-r-5"}),"Pedido por"]}),Object(h.jsx)("span",{style:{color:"#6c757d"},children:Ve.PESSOAREGISTO})]}),Object(h.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",marginBottom:"15px"},children:[Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{className:"feather icon-map-pin m-r-5"}),"Data do Pedido"]}),Object(h.jsx)("span",{style:{color:"#6c757d"},children:Ve.DATA2})]})]}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",marginBottom:"15px"},children:[Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{className:"feather icon-phone m-r-5"}),"Descri\xe7\xe3o"]}),Object(h.jsx)("span",{style:{color:"#6c757d"},children:Ve.DESCR})]}),null!=Ve.URL_DOC_GERADO&&Object(h.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",marginBottom:"15px"},children:Object(h.jsx)("a",{target:"_blank",href:(null===Ve||void 0===Ve?void 0:Ve.URL_DOC_GERADO)+"?alt=media&token=0",children:Object(h.jsx)("span",{style:{display:"flex",fontWeight:"bold"},children:"Abrir Pedido"})})})]})]}),Object(h.jsxs)(c.a,{xl:8,className:"task-detail-right",children:[Object(h.jsxs)("div",{className:"processo-modal-tabs",children:[Object(h.jsxs)("span",{className:"processo-modal-tab ".concat("Despacho"==Ze?"processo-modal-tab--active":""),onClick:()=>Ye("Despacho"),children:[Object(h.jsx)("i",{className:"feather icon-send"})," Despacho"]}),Object(h.jsxs)("span",{className:"processo-modal-tab ".concat("Instrucao"==Ze?"processo-modal-tab--active":""),onClick:()=>Ye("Instrucao"),children:[Object(h.jsx)("i",{className:"feather icon-clipboard"})," Instru\xe7\xe3o"]}),Object(h.jsxs)("span",{className:"processo-modal-tab ".concat("Despachofinal"==Ze?"processo-modal-tab--active":""),onClick:()=>Ye("Despachofinal"),children:[Object(h.jsx)("i",{className:"feather icon-check-square"})," Despacho Decis\xe3o"]})]}),Object(h.jsxs)("div",{className:"processo-modal-tabs",style:{marginTop:"12px"},children:[Object(h.jsxs)("span",{className:"processo-modal-tab ".concat("Notificacao"==Ze?"processo-modal-tab--active":""),onClick:()=>Ye("Notificacao"),children:[Object(h.jsx)("i",{className:"feather icon-bell"})," Notifica\xe7\xe3o"]}),Object(h.jsxs)("span",{className:"processo-modal-tab ".concat("DesicaoTutela"==Ze?"processo-modal-tab--active":""),onClick:()=>Ye("DesicaoTutela"),children:[Object(h.jsx)("i",{className:"feather icon-shield"})," Decis\xe3o Tutela"]}),Object(h.jsxs)("span",{className:"processo-modal-tab ".concat("DesicaoTribunal"==Ze?"processo-modal-tab--active":""),onClick:()=>Ye("DesicaoTribunal"),children:[Object(h.jsx)("i",{className:"feather icon-briefcase"})," Decis\xe3o Tribunal"]})]}),Object(h.jsx)("div",{style:"Despacho"==Ze?{width:"100%",height:"450px",overflow:"auto"}:{display:"none"},children:null!=(null===Ve||void 0===Ve?void 0:Ve.despacho)&&Object(h.jsxs)("div",{style:{width:"100%",paddingTop:"20px",marginTop:"20px"},children:[Object(h.jsxs)("div",{style:{padding:"5px",borderBottom:"1px solid #d2b32a",width:"100%",display:"flex",marginBottom:"10px"},children:[Object(h.jsx)("span",{style:{color:"#6c757d",width:"37%"},children:"Refer\xeancia"}),Object(h.jsx)("span",{style:{color:"#6c757d",width:"37%"},children:null===Ve||void 0===Ve||null===(e=Ve.despacho)||void 0===e?void 0:e.REFERENCIA})]}),Object(h.jsxs)("div",{style:{padding:"5px",borderBottom:"1px solid #d2b32a",width:"100%",display:"flex",marginBottom:"10px"},children:[Object(h.jsx)("span",{style:{color:"#6c757d",width:"37%"},children:"Data"}),Object(h.jsx)("span",{style:{color:"#6c757d",width:"37%"},children:null===Ve||void 0===Ve||null===(s=Ve.despacho)||void 0===s?void 0:s.DATA})]}),Object(h.jsxs)("div",{style:{padding:"5px",borderBottom:"1px solid #d2b32a",width:"100%",display:"flex",marginBottom:"10px"},children:[Object(h.jsx)("span",{style:{color:"#6c757d",width:"37%"},children:"Prazo"}),Object(h.jsx)("span",{style:{color:"#6c757d",width:"37%"},children:null===Ve||void 0===Ve||null===(t=Ve.despacho)||void 0===t?void 0:t.PRAZO})]}),Object(h.jsxs)("div",{style:{padding:"5px",borderBottom:"1px solid #d2b32a",width:"100%",display:"flex",marginBottom:"10px"},children:[Object(h.jsx)("span",{style:{color:"#6c757d",width:"37%"},children:"Instrutor"}),Object(h.jsx)("span",{style:{color:"#6c757d",width:"37%"},children:null===Ve||void 0===Ve||null===(a=Ve.despacho)||void 0===a?void 0:a.INSTRUTOR})]}),Object(h.jsxs)("div",{style:{padding:"5px",borderBottom:"1px solid #d2b32a",width:"100%",display:"flex",marginBottom:"10px"},children:[Object(h.jsx)("span",{style:{color:"#6c757d",width:"37%"},children:"Observa\xe7\xe3o"}),Object(h.jsx)("span",{style:{color:"#6c757d",width:"37%"},children:null===Ve||void 0===Ve||null===(O=Ve.despacho)||void 0===O?void 0:O.OBS})]}),null!=(null===Ve||void 0===Ve||null===(g=Ve.despacho)||void 0===g?void 0:g.DOC)&&Object(h.jsx)("div",{style:{width:"100%",display:"flex",marginBottom:"15px",display:"flex",justifyContent:"center"},children:Object(h.jsx)("a",{target:"_blank",href:(null===Ve||void 0===Ve||null===(x=Ve.despacho)||void 0===x?void 0:x.DOC)+"?alt=media&token=0",children:Object(h.jsx)("span",{style:{display:"flex",fontWeight:"bold"},children:"Abrir Documento"})})})]})}),Object(h.jsx)("div",{style:"Instrucao"==Ze?{width:"100%",height:"450px",overflow:"auto"}:{display:"none"},children:null!=(null===Ve||void 0===Ve||null===(m=Ve.sgigjprocessodespacho[0])||void 0===m||null===(S=m.sgigjrelprocessoinstrutor[0])||void 0===S||null===(T=S.sgigjrelprocessoinstrucao[0])||void 0===T?void 0:T.sgigjrelinstrutorpeca)&&Object(h.jsxs)("div",{style:{width:"100%",paddingTop:"20px",marginTop:"20px"},children:[null===Ve||void 0===Ve||null===(_=Ve.sgigjprocessodespacho[0])||void 0===_||null===(P=_.sgigjrelprocessoinstrutor[0])||void 0===P||null===(k=P.sgigjrelprocessoinstrucao[0])||void 0===k||null===(B=k.sgigjrelinstrutorpeca)||void 0===B?void 0:B.map(e=>Object(h.jsxs)("div",{style:{padding:"5px",borderBottom:"1px solid #d2b32a",width:"100%",display:"flex",marginBottom:"10px"},children:[Object(h.jsx)("span",{style:{color:"#6c757d"},children:null===e||void 0===e?void 0:e.sgigjprpecasprocessual.DESIG}),Object(h.jsx)("span",{style:{color:"#6c757d"},children:Object(h.jsx)(p.b,{to:"#",onClick:()=>Zs(e),children:Object(h.jsx)("i",{className:"feather icon-file"})})})]})),Object(h.jsx)("div",{style:{width:"100%",display:"flex",marginBottom:"15px",display:"flex",justifyContent:"center"},children:Object(h.jsx)("a",{href:"#",children:Object(h.jsx)("span",{onClick:()=>et(Ve.ID),style:{display:"flex",fontWeight:"bold"},children:"Juntada"})})})]})}),Object(h.jsx)("div",{style:"Despachofinal"==Ze?{width:"100%",height:"450px",overflow:"auto"}:{display:"none"},children:null!=(null===Ve||void 0===Ve?void 0:Ve.despachofinal)&&Object(h.jsxs)("div",{style:{width:"100%",paddingTop:"20px",marginTop:"20px"},children:[Object(h.jsxs)("div",{style:{padding:"5px",borderBottom:"1px solid #d2b32a",width:"100%",display:"flex",marginBottom:"10px"},children:[Object(h.jsx)("span",{style:{color:"#6c757d",width:"37%"},children:"Decis\xe3o"}),Object(h.jsx)("span",{style:{color:"#6c757d",width:"37%"},children:null===Ve||void 0===Ve||null===(L=Ve.despachofinal)||void 0===L?void 0:L.DESICAO})]}),Object(h.jsxs)("div",{style:{padding:"5px",borderBottom:"1px solid #d2b32a",width:"100%",display:"flex",marginBottom:"10px"},children:[Object(h.jsx)("span",{style:{color:"#6c757d",width:"37%"},children:"Data"}),Object(h.jsx)("span",{style:{color:"#6c757d",width:"37%"},children:null===Ve||void 0===Ve||null===(U=Ve.despachofinal)||void 0===U?void 0:U.DATA})]}),null!=(null===Ve||void 0===Ve||null===(G=Ve.despachofinal)||void 0===G?void 0:G.DOC)&&Object(h.jsx)("div",{style:{width:"100%",display:"flex",marginBottom:"15px",display:"flex",justifyContent:"center"},children:Object(h.jsx)("a",{target:"_blank",href:(null===Ve||void 0===Ve||null===(F=Ve.despachofinal)||void 0===F?void 0:F.DOC)+"?alt=media&token=0",children:Object(h.jsx)("span",{style:{display:"flex",fontWeight:"bold"},children:"Abrir Documento"})})})]})}),Object(h.jsx)("div",{style:"Notificacao"==Ze?{width:"100%",height:"450px",overflow:"auto"}:{display:"none"},children:null!=(null===Ve||void 0===Ve?void 0:Ve.notificacao)&&Object(h.jsxs)("div",{style:{width:"100%",paddingTop:"20px",marginTop:"20px"},children:[null===Ve||void 0===Ve||null===(H=Ve.notificacao)||void 0===H?void 0:H.map(e=>{var s;return console.log("okokok",e),Object(h.jsx)("div",{children:null===(s=e.visados)||void 0===s?void 0:s.map((s,t)=>{var a;return Object(h.jsx)("div",{style:{padding:"5px",borderBottom:"1px solid #d2b32a",width:"100%",display:"flex",marginBottom:"10px"},children:Object(h.jsxs)("span",{style:{color:"#6c757d"},children:[":: Notif."," ",null===Ae||void 0===Ae||null===(a=Ae.find(e=>e.value==s.VISADO_ID))||void 0===a?void 0:a.label,null!=e.URL_DOC_GERADO||e.sgigjreldocumento.length>0?Object(h.jsx)(p.b,{to:"#",onClick:()=>Zs(e),children:Object(h.jsx)("i",{className:"feather icon-file"})},t):""]})})})})}),Object(h.jsx)("div",{style:{width:"100%",display:"flex",marginBottom:"15px",display:"flex",justifyContent:"center"},children:Object(h.jsx)("a",{href:"#",children:Object(h.jsx)("span",{onClick:()=>et(Ve.ID),style:{display:"flex",fontWeight:"bold"},children:"Juntada"})})})]})}),Object(h.jsx)("div",{style:"DesicaoTutela"==Ze||"DesicaoTribunal"==Ze?{width:"100%",height:"450px",overflow:"auto"}:{display:"none"},children:null!=("DesicaoTutela"==Ze?null===Ve||void 0===Ve?void 0:Ve.decisaoTutelar:"DesicaoTribunal"==Ze?null===Ve||void 0===Ve?void 0:Ve.decisaoTribunal:null)&&Object(h.jsxs)("div",{style:{width:"100%",paddingTop:"20px",marginTop:"20px"},children:[null===(M="DesicaoTutela"==Ze?null===Ve||void 0===Ve?void 0:Ve.decisaoTutelar:null===Ve||void 0===Ve?void 0:Ve.decisaoTribunal)||void 0===M?void 0:M.map((e,s)=>{var t;return Object(h.jsx)("div",{style:{padding:"5px",borderBottom:"1px solid #d2b32a",width:"100%",display:"flex",marginBottom:"10px"},children:null===e||void 0===e||null===(t=e.sgigjreldocumento)||void 0===t?void 0:t.map((e,t)=>{var a;return Object(h.jsxs)("span",{style:{color:"#6c757d"},children:[":: Anexo"," ",(null===(a="DesicaoTutela"==Ze?null===Ve||void 0===Ve?void 0:Ve.decisaoTutelar:null===Ve||void 0===Ve?void 0:Ve.decisaoTribunal)||void 0===a?void 0:a.slice(0,s).reduce((e,s,t)=>{var a;return null!==(a=s.sgigjreldocumento)&&void 0!==a&&a.length?e+1:e},0))+(t+1)+" ",Object(h.jsx)(p.b,{to:"#",onClick:()=>Zs(e.DOC_URL),children:Object(h.jsx)("i",{className:"feather icon-file"})})]})})})}),Object(h.jsx)("div",{style:{width:"100%",display:"flex",marginBottom:"15px",display:"flex",justifyContent:"center"},children:Object(h.jsx)("a",{href:"#",children:Object(h.jsx)("span",{onClick:()=>et(Ve.ID),style:{display:"flex",fontWeight:"bold"},children:"Juntada"})})})]})})]})]})}),Object(h.jsx)(n.a.Footer,{children:Object(h.jsx)(r.a,{variant:"danger",onClick:()=>es(!1),children:"Fechar"})})]}),Object(h.jsx)(N.a,{generolist:Ee,estadocivillist:Ie,glbgeografialist:Pe,documentolist:Be,contactolist:Ue,pessoaopenDO:ms,uploadpessoa:Re}),Object(h.jsx)(A.a,{Open:Vs,setOpen:Ws,list:Js}),Object(h.jsx)(n.a,{size:"xl",show:Qs,onHide:()=>$s(!1),children:Object(h.jsx)("iframe",{height:1e3,src:"".concat(Ys),title:"pdf-viewer",width:"100%"})}),Object(h.jsxs)(n.a,{size:"lg",show:ls,onHide:()=>is(!1),scrollable:!0,centered:!0,children:[Object(h.jsx)(n.a.Header,{className:"modal-header--processo",closeButton:!0,children:Object(h.jsx)(n.a.Title,{as:"h5",children:"Notifica\xe7\xe3o"})}),Object(h.jsxs)(n.a.Body,{style:"dados"===re?{}:{display:"none"},children:[Object(h.jsx)("form",{id:"notificate",onSubmit:async function(e){if(e.preventDefault(),null==ee||0==ee.length)Q("Escolha uma Pessoa");else{De(!0);var s=[];if(pe)for(let a=0;a<pe.length;a++){var t;const e=pe[a],o=await ts(e.anexo.file);s.push({PR_DOCUMENTO_TP_ID:e.tipodocumento,NUMERO:e.numero,DOC_URL:null===o||void 0===o||null===(t=o.file)||void 0===t?void 0:t.data,DT_EMISSAO:e.dataemissao,DT_VALIDADE:e.datavalidade,MAIN:"0"})}console.log(X);const e={PROCESSO_EXCLUSAO_ID:Ce.ID,CORPO:te,documentos:s||[],visados:ee,DATA:oe,TIPO_NOTIFICACAO:cs};console.log(e);try{"200"==(await v.a.post("/notificacao-processos",e)).status&&(ze(),fe(!ve),C.a.success("Todos os dados foram gravados com sucesso!",{duration:4e3}),De(!1),is(!1))}catch(a){De(!1),console.error(a.response)}}},children:Object(h.jsxs)(i.a,{children:[Object(h.jsx)(c.a,{sm:12,children:Object(h.jsxs)(i.a,{children:[Object(h.jsx)(c.a,{sm:3,children:Object(h.jsxs)("div",{className:"form-group fill",children:[Object(h.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Refer\xeancia ",Object(h.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(h.jsx)("input",{disabled:!0,type:"text",className:"form-control",id:"Name",value:Ce.REF,required:!0})]})}),Object(h.jsx)(c.a,{sm:3,children:Object(h.jsxs)("div",{className:"form-group fill",children:[Object(h.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Data ",Object(h.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(h.jsx)("input",{type:"date",max:Se,onChange:e=>{le(e.target.value)},defaultValue:oe,className:"form-control",placeholder:"Data...",required:!0})]})}),Object(h.jsx)(c.a,{sm:3,children:Object(h.jsxs)("div",{className:"form-group fill",children:[Object(h.jsxs)("label",{className:"floating-label",htmlFor:"tipoNotificacao",children:["Tipo de Notifica\xe7\xe3o ",Object(h.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(h.jsxs)("select",{className:"form-control",value:cs,onChange:e=>ds(e.target.value),required:!0,children:[Object(h.jsx)("option",{value:"",children:"Selecionar..."}),Object(h.jsx)("option",{value:"PESSOAL",children:"Pessoal"}),Object(h.jsx)("option",{value:"POSTAL",children:"Postal"}),Object(h.jsx)("option",{value:"PUBLICACAO",children:"Publica\xe7\xe3o"})]})]})}),Object(h.jsxs)(c.a,{sm:6,children:[Object(h.jsxs)("label",{className:"floating-label",htmlFor:"text",children:["Visado(s) ",Object(h.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(h.jsx)("div",{style:{display:"flex"},children:Object(h.jsx)("div",{className:"form-group fill",style:{width:"100%"},children:Object(h.jsx)(u.a,{className:"basic-single",classNamePrefix:"select",onChange:e=>se(s=>{let t=ee.indexOf(e.value);return-1!=t?s.splice(t,1):s.push(e.value),s}),name:"pessoa",options:Ae,defaultValue:Ae.map(e=>ee.includes(e.ID)?e:null),required:!0,menuPlacement:"auto",menuPosition:"fixed",placeholder:"Pessoa..."})})})]})]})}),Object(h.jsx)("div",{className:"col-sm-12",children:Object(h.jsxs)("div",{className:"form-group fill",children:[Object(h.jsxs)("label",{className:"floating-label",htmlFor:"Address",children:["Notifica\xe7\xe3o ",Object(h.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(h.jsx)(R.a,{onChange:e=>ae(e)})]})})]})}),Object(h.jsx)("div",{children:null!==Ce&&void 0!==Ce&&Ce.sgigjdespachofinal&&null!==Ce&&void 0!==Ce&&null!==(q=Ce.sgigjdespachofinal[0])&&void 0!==q&&q.URL_DOC_GERADO?Object(h.jsx)("a",{target:"_blank",href:(null===Ce||void 0===Ce||null===(z=Ce.sgigjdespachofinal[0])||void 0===z?void 0:z.URL_DOC_GERADO)+"?alt=media&token=0",children:Object(h.jsxs)("span",{style:{display:"flex",fontWeight:"bold"},children:[Object(h.jsx)("i",{className:"feather icon-file",style:{alignContent:"center"}}),"Documentos de Decis\xe3o"]})}):null})]}),Object(h.jsxs)(n.a.Footer,{children:[Object(h.jsx)(r.a,{variant:"danger",onClick:()=>is(!1),children:"Fechar"}),ye?Object(h.jsx)(r.a,{variant:"primary",children:"Guardando"}):Object(h.jsx)(r.a,{type:"submit",form:"notificate",variant:"primary",children:"Guardar"})]})]}),Object(h.jsxs)(n.a,{size:"lg",show:1==ns,onHide:()=>rs(!1),scrollable:!0,centered:!0,children:[Object(h.jsx)(n.a.Header,{className:"modal-header--processo",closeButton:!0,children:Object(h.jsx)(n.a.Title,{as:"h5",children:"T"==js?"Decis\xe3o Tutela":"Decis\xe3o Tribunal"})}),Object(h.jsx)("ul",{className:"nav nav-tabs profile-tabs nav-fill",id:"myTab",role:"tablist"}),Object(h.jsx)(n.a.Body,{children:Object(h.jsxs)("form",{id:"tutelaform",onSubmit:async function(e){e.preventDefault(),De(!0);var s=[];for(let l=0;l<be.length;l++){var t;const e=be[l],a=await ts(e.anexo.file);s.push({PR_DOCUMENTO_TP_ID:e.tipodocumento,NUMERO:e.numero,DOC_URL:null===a||void 0===a||null===(t=a.file)||void 0===t?void 0:t.data,DT_EMISSAO:e.dataemissao,DT_VALIDADE:e.datavalidade,MAIN:"0"})}console.log(X);const a={PROCESSO_EXCLUSAO_ID:Ce.ID,CORPO:te,documentos:s||[]};console.log(a);try{"200"==(await v.a.post("T"==js?"/decisao-tutelar-processos":"/decisao-tribunal-processos",a)).status&&(ze(),fe(!ve),C.a.success("Todos os dados foram gravados com sucesso!",{duration:4e3}),De(!1),rs(!1))}catch(o){De(!1),console.error(o.response)}},children:[Object(h.jsx)(c.a,{sm:12,children:Object(h.jsxs)(j.a.Group,{style:{display:"flex",justifyContent:"center",flexWrap:"wrap"},children:[Object(h.jsx)(j.a.Check,{inline:!0,custom:!0,required:!0,type:"radio",label:"Decis\xe3o Tutela",name:"supportedRadio",id:"averiguacao",checked:"T"==js,onChange:()=>ps("T")}),Object(h.jsx)(j.a.Check,{inline:!0,custom:!0,required:!0,type:"radio",label:"Decis\xe3o Tribunal",name:"supportedRadio",id:"contraordenacao",checked:"TR"==js,onChange:()=>ps("TR")})]})}),Object(h.jsx)(b.a,{onSendData:Oe,documentolist:Be,list:xe,save:ve,item:{ID:Ce.ID,ENTIDADE:"TUTELA_ID"}})]})}),Object(h.jsxs)(n.a.Footer,{children:[Object(h.jsx)(r.a,{variant:"danger",onClick:()=>rs(!1),children:"Fechar"}),ye?Object(h.jsx)(r.a,{variant:"primary",children:"Guardando"}):Object(h.jsx)(r.a,{type:"submit",form:"tutelaform",variant:"primary",children:"Guardar"})]})]}),Object(h.jsx)(n.a,{size:"lg",show:gs,onHide:()=>xs(!1),children:Object(h.jsxs)(n.a.Footer,{children:[Object(h.jsx)(r.a,{variant:"danger",onClick:()=>xs(!1),children:"Fechar"}),Object(h.jsx)(r.a,{variant:"primary",children:"Guardar"})]})})]})})})}}}]);
//# sourceMappingURL=9.fbc81236.chunk.js.map