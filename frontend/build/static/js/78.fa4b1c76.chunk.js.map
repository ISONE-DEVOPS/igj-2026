{"version":3,"sources":["pages/processos/reclamacao/GlobalFilter.js","pages/processos/reclamacao/index.js","../node_modules/react-bootstrap/esm/Table.js","../node_modules/react-bootstrap/esm/PageItem.js","../node_modules/react-bootstrap/esm/Pagination.js"],"names":["GlobalFilter","_ref","filter","setFilter","value","setValue","useState","onChange","useAsyncDebounce","undefined","_jsxs","className","children","_jsx","e","target","pageAcess","Table","columns","data","modalOpen","uploadList","permissoes","useAuth","tableRef","useRef","getTableProps","getTableBodyProps","headerGroups","prepareRow","globalFilter","setGlobalFilter","page","canPreviousPage","canNextPage","pageOptions","pageCount","gotoPage","nextPage","previousPage","setPageSize","state","pageIndex","pageSize","useTable","initialState","useGlobalFilter","useSortBy","usePagination","_Fragment","Row","Col","md","Number","map","BTable","_objectSpread","ref","striped","bordered","hover","responsive","headerGroup","getHeaderGroupProps","headers","column","getHeaderProps","getSortByToggleProps","render","isSorted","isSortedDesc","row","i","getRowProps","cells","cell","isCentered","centered","getCellProps","length","type","defaultValue","style","width","Pagination","First","onClick","disabled","Prev","Next","Last","Reclamacoes","user","popUp_removerItem","popUp_alertaOK","useHistory","React","useMemo","Header","accessor","newdata","setnewdata","isLoading","setIsLoading","isVerOpen","setVerOpen","itemSelectedver","setitemSelectedver","async","uploadlist","response","api","get","status","processo","sgigjprocessoexclusao","entidade","sgigjentidade","intervenientes","sgigjrelinterveniente","visado","sgigjpessoa","pessoa","sgigjrelpessoaentidade","PROCESSO_REF","REF","VISADO_NOME","NOME","ENTIDADE_NOME","DESIG","DATA_FORMATADA","createDateToUser","DATA","REGISTADO_POR","itemx","action","Fragment","taskEnable","Link","to","title","taskEnableTitle","openVerHandler","taskEnableIcon","err","console","error","idx","ID","pecas","sgigjrelreclamacaopeca","p","_p$sgigjprpecasproces","sgigjprpecasprocessual","useEffect","Card","Title","as","Button","variant","url","window","open","toast","success","duration","responseType","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","body","appendChild","click","remove","Body","Modal","show","onHide","size","closeButton","CODIGO","OBS","peca","Footer","_excluded","forwardRef","bsPrefix","borderless","props","_objectWithoutPropertiesLoose","decoratedBsPrefix","useBootstrapPrefix","classes","classNames","table","_extends","responsiveClass","_excluded2","PageItem","active","activeLabel","Component","SafeAnchor","defaultProps","displayName","createButton","name","label","_ref2","Ellipsis","Item"],"mappings":"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","file":"static/js/78.fa4b1c76.chunk.js","sourcesContent":["import React, { useState } from 'react'\nimport { useAsyncDebounce } from 'react-table'\n\nexport const GlobalFilter = ({ filter, setFilter }) => {\n  const [value, setValue] = useState(filter)\n  const onChange = useAsyncDebounce(value => {\n    setFilter(value || undefined)\n  }, 1000)\n  return (\n    <span className=\"d-flex align-items-center justify-content-end\">\n      Procurar:{' '}\n      <input\n        className='form-control ml-2 w-auto'\n        value={value || ''}\n        onChange={e => {\n          setValue(e.target.value);\n          onChange(e.target.value);\n        }}\n      />\n    </span>\n  )\n}","import React, { useState, useEffect, useRef } from \"react\";\nimport { Row, Col, Card, Button, Modal, Form } from \"react-bootstrap\";\nimport toast from \"react-hot-toast\";\n\nimport { Link } from \"react-router-dom\";\n\nimport api from \"../../../services/api\";\n\nimport useAuth from \"../../../hooks/useAuth\";\n\nimport { GlobalFilter } from \"./GlobalFilter\";\n\nimport {\n  useTable,\n  useSortBy,\n  usePagination,\n  useGlobalFilter,\n} from \"react-table\";\nimport { Pagination } from \"react-bootstrap\";\n\nimport BTable from \"react-bootstrap/Table\";\n\nimport { useHistory } from \"react-router-dom\";\nimport {\n  pageEnable,\n  taskEnable,\n  taskEnableIcon,\n  taskEnableTitle,\n  createDateToUser,\n  convertDateToPT,\n} from \"../../../functions\";\n\nconst pageAcess = \"/processos/reclamacao\";\n\nfunction Table({ columns, data, modalOpen, uploadList }) {\n  const { permissoes } = useAuth();\n  const tableRef = useRef(null);\n  const {\n    getTableProps,\n    getTableBodyProps,\n    headerGroups,\n    prepareRow,\n\n    globalFilter,\n    setGlobalFilter,\n\n    page,\n    canPreviousPage,\n    canNextPage,\n    pageOptions,\n    pageCount,\n    gotoPage,\n    nextPage,\n    previousPage,\n    setPageSize,\n    state: { pageIndex, pageSize },\n  } = useTable(\n    {\n      columns,\n      data,\n      initialState: { pageIndex: 0, pageSize: 10 },\n    },\n    useGlobalFilter,\n    useSortBy,\n    usePagination\n  );\n\n  return (\n    <>\n      <Row className=\"mb-3\">\n        <Col md={3} className=\"d-flex align-items-center\">\n          Mostrar\n          <select\n            className=\"form-control w-auto mx-2\"\n            value={pageSize}\n            onChange={(e) => {\n              setPageSize(Number(e.target.value));\n            }}\n          >\n            {[5, 10, 20, 30, 40, 50].map((pageSize) => (\n              <option key={pageSize} value={pageSize}>\n                {pageSize}\n              </option>\n            ))}\n          </select>\n          entradas\n        </Col>\n        <Col md={9} className=\"d-flex justify-content-end\">\n          <GlobalFilter filter={globalFilter} setFilter={setGlobalFilter} />\n        </Col>\n      </Row>\n      <BTable\n        ref={tableRef}\n        striped\n        bordered\n        hover\n        responsive\n        {...getTableProps()}\n      >\n        <thead>\n          {headerGroups.map((headerGroup) => (\n            <tr {...headerGroup.getHeaderGroupProps()}>\n              {headerGroup.headers.map((column) => (\n                <th {...column.getHeaderProps(column.getSortByToggleProps())}>\n                  {column.render(\"Header\")}\n                  <span>\n                    {column.isSorted ? (\n                      column.isSortedDesc ? (\n                        <span className=\"feather icon-arrow-down text-muted float-right\" />\n                      ) : (\n                        <span className=\"feather icon-arrow-up text-muted float-right\" />\n                      )\n                    ) : (\n                      \"\"\n                    )}\n                  </span>\n                </th>\n              ))}\n            </tr>\n          ))}\n        </thead>\n        <tbody {...getTableBodyProps()}>\n          {page.map((row, i) => {\n            prepareRow(row);\n            return (\n              <tr {...row.getRowProps()}>\n                {row.cells.map((cell) => {\n                  const isCentered = cell.column.centered;\n                  return (\n                    <td\n                      {...cell.getCellProps()}\n                      className={isCentered ? \"text-center\" : \"text-right\"}\n                    >\n                      {cell.render(\"Cell\")}\n                    </td>\n                  );\n                })}\n              </tr>\n            );\n          })}\n        </tbody>\n      </BTable>\n      <Row className=\"justify-content-between\">\n        <Col>\n          <span className=\"d-flex align-items-center\">\n            Página{\" \"}\n            <strong>\n              {\" \"}\n              {pageIndex + 1} de {pageOptions.length}{\" \"}\n            </strong>{\" \"}\n            | Ir para a página:{\" \"}\n            <input\n              type=\"number\"\n              className=\"form-control ml-2\"\n              defaultValue={pageIndex + 1}\n              onChange={(e) => {\n                const page = e.target.value ? Number(e.target.value) - 1 : 0;\n                gotoPage(page);\n              }}\n              style={{ width: \"100px\" }}\n            />\n          </span>\n        </Col>\n        <Col>\n          <Pagination className=\"justify-content-end\">\n            <Pagination.First\n              onClick={() => gotoPage(0)}\n              disabled={!canPreviousPage}\n            />\n            <Pagination.Prev\n              onClick={() => previousPage()}\n              disabled={!canPreviousPage}\n            />\n            <Pagination.Next\n              onClick={() => nextPage()}\n              disabled={!canNextPage}\n            />\n            <Pagination.Last\n              onClick={() => gotoPage(pageCount - 1)}\n              disabled={!canNextPage}\n            />\n          </Pagination>\n        </Col>\n      </Row>\n    </>\n  );\n}\n\nconst Reclamacoes = () => {\n  const { permissoes, user, popUp_removerItem, popUp_alertaOK } = useAuth();\n\n  const history = useHistory();\n\n  const columns = React.useMemo(\n    () => [\n      {\n        Header: \"Código\",\n        accessor: \"CODIGO\",\n        centered: false,\n      },\n      {\n        Header: \"Processo\",\n        accessor: \"PROCESSO_REF\",\n        centered: true,\n      },\n      {\n        Header: \"Visado\",\n        accessor: \"VISADO_NOME\",\n        centered: true,\n      },\n      {\n        Header: \"Entidade\",\n        accessor: \"ENTIDADE_NOME\",\n        centered: true,\n      },\n      {\n        Header: \"Data\",\n        accessor: \"DATA_FORMATADA\",\n        centered: true,\n      },\n      {\n        Header: \"Ações\",\n        accessor: \"action\",\n        centered: true,\n      },\n    ],\n    []\n  );\n\n  const [newdata, setnewdata] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n\n  // Detail modal\n  const [isVerOpen, setVerOpen] = useState(false);\n  const [itemSelectedver, setitemSelectedver] = useState(null);\n\n  async function uploadlist() {\n    try {\n      const response = await api.get(\"/sgigjexclusaoreclamacao\");\n\n      if (response.status == \"200\") {\n        for (var i = 0; i < response.data.length; i++) {\n          const e = response.data[i];\n          const processo = e.sgigjprocessoexclusao || {};\n          const entidade = processo.sgigjentidade || {};\n          const intervenientes = processo.sgigjrelinterveniente || [];\n          const visado = intervenientes.length > 0 ? (intervenientes[0].sgigjpessoa || {}) : {};\n          const pessoaEntidade = e.sgigjrelpessoaentidade || {};\n          const pessoa = pessoaEntidade.sgigjpessoa || {};\n\n          response.data[i].PROCESSO_REF = processo.REF || \"\";\n          response.data[i].VISADO_NOME = visado.NOME || \"\";\n          response.data[i].ENTIDADE_NOME = entidade.DESIG || \"\";\n          response.data[i].DATA_FORMATADA = createDateToUser(e.DATA);\n          response.data[i].REGISTADO_POR = pessoa.NOME || \"\";\n\n          const itemx = response.data[i];\n\n          response.data[i].action = (\n            <React.Fragment>\n              {taskEnable(pageAcess, permissoes, \"Ler\") == false ? null : (\n                <Link\n                  to=\"#\"\n                  title={taskEnableTitle(pageAcess, permissoes, \"Ler\")}\n                  onClick={() => openVerHandler(itemx)}\n                  className=\"text-primary mx-1\"\n                >\n                  <i\n                    className={\n                      \"text-primary \" +\n                      taskEnableIcon(pageAcess, permissoes, \"Ler\")\n                    }\n                  />\n                </Link>\n              )}\n            </React.Fragment>\n          );\n        }\n\n        setnewdata(response.data);\n      }\n    } catch (err) {\n      console.error(err.response);\n    }\n  }\n\n  const openVerHandler = async (idx) => {\n    try {\n      const response = await api.get(\"/sgigjexclusaoreclamacao/\" + idx.ID);\n\n      if (response.status == \"200\") {\n        if (response.data.length > 0) {\n          const e = response.data[0];\n          const processo = e.sgigjprocessoexclusao || {};\n          const entidade = processo.sgigjentidade || {};\n          const intervenientes = processo.sgigjrelinterveniente || [];\n          const visado = intervenientes.length > 0 ? (intervenientes[0].sgigjpessoa || {}) : {};\n          const pessoaEntidade = e.sgigjrelpessoaentidade || {};\n          const pessoa = pessoaEntidade.sgigjpessoa || {};\n\n          e.PROCESSO_REF = processo.REF || \"\";\n          e.VISADO_NOME = visado.NOME || \"\";\n          e.ENTIDADE_NOME = entidade.DESIG || \"\";\n          e.DATA_FORMATADA = createDateToUser(e.DATA);\n          e.REGISTADO_POR = pessoa.NOME || \"\";\n\n          // Peças processuais\n          e.pecas = (e.sgigjrelreclamacaopeca || []).map(p => ({\n            DESIG: p.sgigjprpecasprocessual?.DESIG || \"\",\n            ...p\n          }));\n\n          setitemSelectedver(e);\n          setVerOpen(true);\n        }\n      }\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  // Export functions\n  async function exportPdf() {\n    try {\n      setIsLoading(true);\n      const response = await api.get(\"/export-pdf/sgigjexclusaoreclamacao\");\n      if (response.status == \"200\" && response.data.url) {\n        window.open(response.data.url + \"?alt=media&token=0\", \"_blank\");\n        toast.success(\"PDF exportado com sucesso!\", { duration: 4000 });\n      }\n    } catch (err) {\n      console.error(err.response);\n      toast.error(\"Erro ao exportar PDF\", { duration: 4000 });\n    } finally {\n      setIsLoading(false);\n    }\n  }\n\n  async function exportCsv() {\n    try {\n      setIsLoading(true);\n      const response = await api.get(\"/export-csv/sgigjexclusaoreclamacao\", {\n        responseType: \"blob\",\n      });\n      if (response.status == \"200\") {\n        const url = window.URL.createObjectURL(new Blob([response.data]));\n        const link = document.createElement(\"a\");\n        link.href = url;\n        link.setAttribute(\"download\", \"reclamacoes.csv\");\n        document.body.appendChild(link);\n        link.click();\n        link.remove();\n        toast.success(\"CSV exportado com sucesso!\", { duration: 4000 });\n      }\n    } catch (err) {\n      console.error(err.response);\n      toast.error(\"Erro ao exportar CSV\", { duration: 4000 });\n    } finally {\n      setIsLoading(false);\n    }\n  }\n\n  useEffect(() => {\n    uploadlist();\n  }, []);\n\n  return (\n    <React.Fragment>\n      <Row>\n        <Col>\n          <Card>\n            <Card.Header>\n              <Card.Title as=\"h5\">Reclamações</Card.Title>\n              <div className=\"d-flex justify-content-end\">\n                <Button\n                  variant=\"outline-danger\"\n                  className=\"btn-sm mr-2\"\n                  onClick={exportPdf}\n                  disabled={isLoading}\n                >\n                  <i className=\"feather icon-file-text mr-1\" />\n                  PDF\n                </Button>\n                <Button\n                  variant=\"outline-success\"\n                  className=\"btn-sm\"\n                  onClick={exportCsv}\n                  disabled={isLoading}\n                >\n                  <i className=\"feather icon-download mr-1\" />\n                  CSV\n                </Button>\n              </div>\n            </Card.Header>\n            <Card.Body>\n              <Table\n                columns={columns}\n                data={newdata}\n                uploadList={uploadlist}\n              />\n            </Card.Body>\n          </Card>\n        </Col>\n      </Row>\n\n      {/* Modal de Detalhes */}\n      <Modal\n        show={isVerOpen}\n        onHide={() => setVerOpen(false)}\n        size=\"lg\"\n        centered\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>Detalhes da Reclamação</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          {itemSelectedver && (\n            <div>\n              <Row className=\"mb-3\">\n                <Col md={6}>\n                  <strong>Código:</strong> {itemSelectedver.CODIGO}\n                </Col>\n                <Col md={6}>\n                  <strong>Data:</strong> {itemSelectedver.DATA_FORMATADA}\n                </Col>\n              </Row>\n              <Row className=\"mb-3\">\n                <Col md={6}>\n                  <strong>Processo:</strong> {itemSelectedver.PROCESSO_REF}\n                </Col>\n                <Col md={6}>\n                  <strong>Entidade:</strong> {itemSelectedver.ENTIDADE_NOME}\n                </Col>\n              </Row>\n              <Row className=\"mb-3\">\n                <Col md={6}>\n                  <strong>Visado:</strong> {itemSelectedver.VISADO_NOME}\n                </Col>\n                <Col md={6}>\n                  <strong>Registado por:</strong> {itemSelectedver.REGISTADO_POR}\n                </Col>\n              </Row>\n              {itemSelectedver.OBS && (\n                <Row className=\"mb-3\">\n                  <Col md={12}>\n                    <strong>Observações:</strong>\n                    <p>{itemSelectedver.OBS}</p>\n                  </Col>\n                </Row>\n              )}\n\n              {itemSelectedver.pecas && itemSelectedver.pecas.length > 0 && (\n                <>\n                  <hr />\n                  <h6>Peças Processuais</h6>\n                  <BTable striped bordered hover size=\"sm\">\n                    <thead>\n                      <tr>\n                        <th>Peça Processual</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {itemSelectedver.pecas.map((peca, idx) => (\n                        <tr key={idx}>\n                          <td>{peca.DESIG}</td>\n                        </tr>\n                      ))}\n                    </tbody>\n                  </BTable>\n                </>\n              )}\n            </div>\n          )}\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"secondary\" onClick={() => setVerOpen(false)}>\n            Fechar\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    </React.Fragment>\n  );\n};\n\nexport default Reclamacoes;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"bsPrefix\", \"className\", \"striped\", \"bordered\", \"borderless\", \"hover\", \"size\", \"variant\", \"responsive\"];\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar Table = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      striped = _ref.striped,\n      bordered = _ref.bordered,\n      borderless = _ref.borderless,\n      hover = _ref.hover,\n      size = _ref.size,\n      variant = _ref.variant,\n      responsive = _ref.responsive,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var decoratedBsPrefix = useBootstrapPrefix(bsPrefix, 'table');\n  var classes = classNames(className, decoratedBsPrefix, variant && decoratedBsPrefix + \"-\" + variant, size && decoratedBsPrefix + \"-\" + size, striped && decoratedBsPrefix + \"-striped\", bordered && decoratedBsPrefix + \"-bordered\", borderless && decoratedBsPrefix + \"-borderless\", hover && decoratedBsPrefix + \"-hover\");\n  var table = /*#__PURE__*/React.createElement(\"table\", _extends({}, props, {\n    className: classes,\n    ref: ref\n  }));\n\n  if (responsive) {\n    var responsiveClass = decoratedBsPrefix + \"-responsive\";\n\n    if (typeof responsive === 'string') {\n      responsiveClass = responsiveClass + \"-\" + responsive;\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: responsiveClass\n    }, table);\n  }\n\n  return table;\n});\nexport default Table;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"active\", \"disabled\", \"className\", \"style\", \"activeLabel\", \"children\"],\n    _excluded2 = [\"children\"];\n\n/* eslint-disable react/no-multi-comp */\nimport classNames from 'classnames';\nimport React from 'react';\nimport SafeAnchor from './SafeAnchor';\nvar defaultProps = {\n  active: false,\n  disabled: false,\n  activeLabel: '(current)'\n};\nvar PageItem = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var active = _ref.active,\n      disabled = _ref.disabled,\n      className = _ref.className,\n      style = _ref.style,\n      activeLabel = _ref.activeLabel,\n      children = _ref.children,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var Component = active || disabled ? 'span' : SafeAnchor;\n  return /*#__PURE__*/React.createElement(\"li\", {\n    ref: ref,\n    style: style,\n    className: classNames(className, 'page-item', {\n      active: active,\n      disabled: disabled\n    })\n  }, /*#__PURE__*/React.createElement(Component, _extends({\n    className: \"page-link\",\n    disabled: disabled\n  }, props), children, active && activeLabel && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"sr-only\"\n  }, activeLabel)));\n});\nPageItem.defaultProps = defaultProps;\nPageItem.displayName = 'PageItem';\nexport default PageItem;\n\nfunction createButton(name, defaultValue, label) {\n  if (label === void 0) {\n    label = name;\n  }\n\n  function Button(_ref2) {\n    var children = _ref2.children,\n        props = _objectWithoutPropertiesLoose(_ref2, _excluded2);\n\n    return /*#__PURE__*/React.createElement(PageItem, props, /*#__PURE__*/React.createElement(\"span\", {\n      \"aria-hidden\": \"true\"\n    }, children || defaultValue), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"sr-only\"\n    }, label));\n  }\n\n  Button.displayName = name;\n  return Button;\n}\n\nexport var First = createButton('First', '«');\nexport var Prev = createButton('Prev', '‹', 'Previous');\nexport var Ellipsis = createButton('Ellipsis', '…', 'More');\nexport var Next = createButton('Next', '›');\nexport var Last = createButton('Last', '»');","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"bsPrefix\", \"className\", \"children\", \"size\"];\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport PageItem, { Ellipsis, First, Last, Next, Prev } from './PageItem';\n\n/**\n * @property {PageItem} Item\n * @property {PageItem} First\n * @property {PageItem} Prev\n * @property {PageItem} Ellipsis\n * @property {PageItem} Next\n * @property {PageItem} Last\n */\nvar Pagination = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      children = _ref.children,\n      size = _ref.size,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var decoratedBsPrefix = useBootstrapPrefix(bsPrefix, 'pagination');\n  return /*#__PURE__*/React.createElement(\"ul\", _extends({\n    ref: ref\n  }, props, {\n    className: classNames(className, decoratedBsPrefix, size && decoratedBsPrefix + \"-\" + size)\n  }), children);\n});\nPagination.First = First;\nPagination.Prev = Prev;\nPagination.Ellipsis = Ellipsis;\nPagination.Item = PageItem;\nPagination.Next = Next;\nPagination.Last = Last;\nexport default Pagination;"],"sourceRoot":""}