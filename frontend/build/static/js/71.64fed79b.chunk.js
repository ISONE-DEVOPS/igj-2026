(this["webpackJsonpigj-frontend"]=this["webpackJsonpigj-frontend"]||[]).push([[71],{1018:function(e,t,a){"use strict";a.r(t);var l=a(8),s=a(0),c=a.n(s),n=a(812),o=a(404),r=a(403),i=a(818),d=a(839),j=a(814),m=a(817),b=a(411),h=a(7),x=a(816),O=a(1);const p=e=>{let{filter:t,setFilter:a}=e;const[l,c]=Object(s.useState)(t),n=Object(x.useAsyncDebounce)(e=>{a(e||void 0)},1e3);return Object(O.jsxs)("span",{className:"d-flex align-items-center justify-content-end",children:["Procurar:"," ",Object(O.jsx)("input",{className:"form-control ml-2 w-auto",value:l||"",onChange:e=>{c(e.target.value),n(e.target.value)}})]})};var u=a(32),g=a(24),f=a(22),N=a(83);function v(e){let{columns:t,data:a,modalOpen:s}=e;const{permissoes:c}=Object(g.a)(),{getTableProps:d,getTableBodyProps:j,headerGroups:b,prepareRow:h,globalFilter:u,setGlobalFilter:f,page:v,canPreviousPage:y,canNextPage:E,pageOptions:D,pageCount:C,gotoPage:I,nextPage:S,previousPage:A,setPageSize:L,state:{pageIndex:_,pageSize:F}}=Object(x.useTable)({columns:t,data:a,initialState:{pageIndex:0,pageSize:10}},x.useGlobalFilter,x.useSortBy,x.usePagination);return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(n.a,{className:"mb-3",children:[Object(O.jsxs)(o.a,{className:"d-flex align-items-center",children:["Mostrar",Object(O.jsx)("select",{className:"form-control w-auto mx-2",value:F,onChange:e=>{L(Number(e.target.value))},children:[5,10,20,30,40,50].map(e=>Object(O.jsx)("option",{value:e,children:e},e))}),"entradas"]}),Object(O.jsxs)(o.a,{className:"d-flex justify-content-end",children:[Object(O.jsx)(p,{filter:u,setFilter:f}),0==Object(N.s)("/entidades/pessoas",c,"Criar")?null:Object(O.jsxs)(r.a,{variant:"primary",className:"btn-sm btn-round has-ripple ml-2",onClick:s,children:[Object(O.jsx)("i",{className:"feather icon-plus"})," Adicionar"]})]})]}),Object(O.jsxs)(m.a,Object(l.a)(Object(l.a)({striped:!0,bordered:!0,hover:!0,responsive:!0},d()),{},{children:[Object(O.jsx)("thead",{children:b.map(e=>Object(O.jsx)("tr",Object(l.a)(Object(l.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map(e=>Object(O.jsxs)("th",Object(l.a)(Object(l.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),Object(O.jsx)("span",{children:e.isSorted?e.isSortedDesc?Object(O.jsx)("span",{className:"feather icon-arrow-down text-muted float-right"}):Object(O.jsx)("span",{className:"feather icon-arrow-up text-muted float-right"}):""})]})))})))}),Object(O.jsx)("tbody",Object(l.a)(Object(l.a)({},j()),{},{children:v.map((e,t)=>(h(e),Object(O.jsx)("tr",Object(l.a)(Object(l.a)({},e.getRowProps()),{},{children:e.cells.map(e=>{const t=e.column.centered;return Object(O.jsx)("td",Object(l.a)(Object(l.a)({},e.getCellProps()),{},{className:t?"text-center":"text-right",children:e.render("Cell")}))})}))))}))]})),Object(O.jsxs)(n.a,{className:"justify-content-between",children:[Object(O.jsx)(o.a,{children:Object(O.jsxs)("span",{className:"d-flex align-items-center",children:["P\xe1gina"," "," ",Object(O.jsxs)("strong",{children:[" ",_+1," de ",D.length," "]})," ","| Ir para a p\xe1gina:"," ",Object(O.jsx)("input",{type:"number",className:"form-control ml-2",defaultValue:_+1,onChange:e=>{const t=e.target.value?Number(e.target.value)-1:0;I(t)},style:{width:"100px"}})]})}),Object(O.jsx)(o.a,{children:Object(O.jsxs)(i.a,{className:"justify-content-end",children:[Object(O.jsx)(i.a.First,{onClick:()=>I(0),disabled:!y}),Object(O.jsx)(i.a.Prev,{onClick:()=>A(),disabled:!y}),Object(O.jsx)(i.a.Next,{onClick:()=>S(),disabled:!E}),Object(O.jsx)(i.a.Last,{onClick:()=>I(C-1),disabled:!E})]})})]})]})}t.default=()=>{const e=Object(f.g)(),{permissoes:t}=Object(g.a)(),a="/entidades/pessoas",[l,i]=Object(s.useState)({});Object(s.useEffect)(()=>{A()},[]),Object(s.useEffect)(()=>{var s;De("undefined"!=typeof l.doclist?null===l||void 0===l||null===(s=l.doclist[0])||void 0===s?void 0:s.url:""),0==Object(N.l)(a,t)?e.push("/"):(async function(){try{const e=await u.a.get("/sgigjprgenero");"200"==e.status&&_(e.data)}catch(e){console.error(e.response)}}(),async function(){try{const e=await u.a.get("/sgigjprestadocivil");"200"==e.status&&T(e.data)}catch(e){console.error(e.response)}}(),async function(){try{const e=await u.a.get("/glbgeografia");"200"==e.status&&P(e.data)}catch(e){console.error(e.response)}}(),async function(){try{const e=await u.a.get("/sgigjprcontactotp");"200"==e.status&&M(e.data)}catch(e){console.error(e.response)}}(),async function(){try{const e=await u.a.get("/sgigjprdocumentotp");"200"==e.status&&B(e.data)}catch(e){console.error(e.response)}}())},[l]);const{popUp_removerItem:m,popUp_alertaOK:x}=Object(g.a)(),p=c.a.useMemo(()=>[{Header:"C\xf3digo",accessor:"CODIGO",centered:!1},{Header:"Nome",accessor:"NOME",centered:!0},{Header:"Email",accessor:"EMAIL",centered:!0},{Header:"Estado civil",accessor:"estadocivilSOLVE",centered:!0},{Header:"Data Nascimento",accessor:"DT_NASCISMENTO",centered:!0},{Header:"A\xe7\xf5es",accessor:"action",centered:!0}],[]);async function y(e){var t={status:!1,file:null};try{const a=new FormData;a.append("file",e);const l={headers:{"content-type":"multipart/form-data"}},s=await u.a.post("/upload",a,l);t={status:!0,file:s},console.log(s)}catch(a){console.error(a.response),t={status:!1,file:null}}return t}function E(e){if(null==e)return;let t=new Date(e).toLocaleDateString("en-GB",{day:"numeric",month:"numeric",year:"numeric"}).split(" ").join("-");return t=t.replace("/","-"),t.replace("/","-")}const[D,C]=Object(s.useState)([]),[I,S]=Object(s.useState)(!1);async function A(){if(Object(N.s)(a,t,"Ler"))try{const l=await u.a.get("/sgigjpessoa");if("200"==l.status){for(var e=0;e<l.data.length;e++){const s=l.data[e].ID;l.data[e].id=l.data[e].ID,l.data[e].estadocivilSOLVE=l.data[e].sgigjprestadocivil.DESIG,l.data[e].generoSOLVE=l.data[e].sgigjprgenero.DESIG,l.data[e].DT_NASCISMENTO=E(l.data[e].DT_NASC);for(let t=0;t<l.data[e].sgigjrelcontacto.length;t++)"undefined"!=typeof l.data[e].sgigjrelcontacto[t].sgigjprcontactotp.DESIG&&"Email"==l.data[e].sgigjrelcontacto[t].sgigjprcontactotp.DESIG&&(l.data[e].EMAIL=l.data[e].sgigjrelcontacto[t].CONTACTO);l.data[e].action=Object(O.jsxs)(c.a.Fragment,{children:[0==Object(N.s)(a,t,"Ler")?null:Object(O.jsx)(h.b,{to:"#",title:Object(N.u)(a,t,"Ler"),onClick:()=>Fe(s),className:"text-primary mx-1",children:Object(O.jsx)("i",{className:"text-primary "+Object(N.t)(a,t,"Ler")})}),0==Object(N.s)(a,t,"Editar")?null:Object(O.jsx)(h.b,{to:"#",title:Object(N.u)(a,t,"Editar"),onClick:()=>Se(s),className:"text-primary mx-1",children:Object(O.jsx)("i",{className:"text-primary "+Object(N.t)(a,t,"Editar")})}),0==Object(N.s)(a,t,"Eliminar")?null:Object(O.jsx)(h.b,{to:"#",title:Object(N.u)(a,t,"Eliminar"),onClick:()=>we(s),className:"text-danger",children:Object(O.jsx)("i",{className:""+Object(N.t)(a,t,"Eliminar")})})]})}C(l.data)}}catch(l){console.error(l.response)}}const[L,_]=Object(s.useState)([]);const[F,T]=Object(s.useState)([]);const[w,P]=Object(s.useState)([]);const[G,B]=Object(s.useState)([]);const[k,M]=Object(s.useState)([]);const[V,q]=Object(s.useState)(""),[R,H]=Object(s.useState)(""),[U,z]=Object(s.useState)(""),[J,K]=Object(s.useState)(""),[W,Q]=Object(s.useState)(""),[X,Y]=Object(s.useState)(""),[Z,$]=Object(s.useState)(""),[ee,te]=Object(s.useState)(""),[ae,le]=Object(s.useState)(""),[se,ce]=Object(s.useState)(""),[ne,oe]=Object(s.useState)(""),[re,ie]=Object(s.useState)(""),[de,je]=Object(s.useState)(""),[me,be]=Object(s.useState)(""),[he,xe]=Object(s.useState)(""),[Oe,pe]=Object(s.useState)(!1),[ue,ge]=Object(s.useState)(""),[fe,Ne]=Object(s.useState)(""),[ve,ye]=Object(s.useState)(""),[Ee,De]=Object(s.useState)(""),[Ce,Ie]=Object(s.useState)(0);const Se=async e=>{try{const s=await u.a.get("/sgigjpessoa/"+e);if(console.log(s),"200"==s.status&&s.data.length>0){q(e),H(s.data[0].CODIGO),z(s.data[0].NACIONALIDADE_ID),K(s.data[0].LOCALIDADE_ID),Q(s.data[0].PR_ESTADO_CIVIL_ID),Y(s.data[0].PR_GENERO_ID),$(s.data[0].NOME),te(function(e){if(null!=e)return new Date(e).toISOString().slice(0,10)}(s.data[0].DT_NASC)),le(s.data[0].ALCUNHA),ce(s.data[0].NOME_PAI),oe(s.data[0].NOME_MAE),ie(s.data[0].OBS),je(s.data[0].ENDERECO),be(s.data[0].ENDERECO_COORD),xe(s.data[0].NIF);const c=await u.a.get("/glbgeografia");if("200"==c.status){var t="",a="",l="";const e=c.data;for(let t=0;t<e.length;t++){const a=e[t];a.ID==s.data[0].LOCALIDADE_ID&&(l=a.GLB_GEOG_ID)}for(let t=0;t<e.length;t++){const s=e[t];s.ID==l&&(a=s.GLB_GEOG_ID)}for(let l=0;l<e.length;l++){const s=e[l];s.ID==a&&(t=s.GLB_GEOG_ID)}ge(t),Ne(a),ye(l)}Ge(!1),Ve(!1)}}catch(s){console.error(s.response)}Re("geral"),ze=[];try{const t=await u.a.get("/sgigjrelcontacto?PESSOA_ID="+e);if("200"==t.status)for(let e=0;e<t.data.length;e++)ze.push({id:""+t.data[e].ID,tipocontacto:""+t.data[e].PR_CONTACTO_TP_ID,contacto:""+t.data[e].CONTACTO}),console.log(t.data),console.log(t.data[e])}catch(s){console.error(s.response2)}Je(ze.concat([])),$e=[];try{const t=await u.a.get("/sgigjreldocumento?PESSOA_ID="+e);if("200"==t.status)for(let e=0;e<t.data.length;e++){const a=null!=t.data[e].DT_EMISSAO?t.data[e].DT_EMISSAO.substring(0,10):"",l=null!=t.data[e].DT_VALIDADE?t.data[e].DT_VALIDADE.substring(0,10):"";$e.push({id:""+t.data[e].ID,tipodocumento:t.data[e].PR_DOCUMENTO_TP_ID,numero:t.data[e].NUMERO,dataemissao:a,datavalidade:l,anexo:{type:1,file:t.data[e].DOC_URL}}),console.log(t.data),console.log(t.data[e])}}catch(s){console.error(s.response3)}et($e.concat([])),ke(!0)};function Ae(e){ge(e),Ne(""),ye(""),K("")}function Le(e){Ne(e),ye(""),K("")}function _e(e){ye(e),K("")}const Fe=async e=>{De("");try{const a=await u.a.get("/sgigjpessoa/"+e);if(console.log(a),"200"==a.status&&a.data.length>0){for(let t=0;t<a.data[0].sgigjrelcontacto.length;t++)"undefined"!=typeof a.data[0].sgigjrelcontacto[t].sgigjprcontactotp.DESIG&&("Email"==a.data[0].sgigjrelcontacto[t].sgigjprcontactotp.DESIG&&(a.data[0].EMAIL=a.data[0].sgigjrelcontacto[t].CONTACTO),"Telem\xf3vel"==a.data[0].sgigjrelcontacto[t].sgigjprcontactotp.DESIG&&(a.data[0].TELEMOVEL=a.data[0].sgigjrelcontacto[t].CONTACTO),"Telefone"==a.data[0].sgigjrelcontacto[t].sgigjprcontactotp.DESIG&&(a.data[0].TELEFONE=a.data[0].sgigjrelcontacto[t].CONTACTO));var t=[];for(let l=0;l<a.data[0].sgigjreldocumento.length;l++)t.push({id:a.data[0].sgigjreldocumento[l].ID,nome:a.data[0].sgigjreldocumento[l].sgigjprdocumentotp.DESIG,url:a.data[0].sgigjreldocumento[l].DOC_URL});let e=null;a.data[0].sgigjrelpessoaentidade.length>0&&a.data[0].sgigjrelpessoaentidade[0].glbuser.length>0&&(e=a.data[0].sgigjrelpessoaentidade[0].glbuser[0].URL_FOTO),a.data[0].foto=e,a.data[0].doclist=t,i(a.data[0]),Ve(!0),ke(!1),Ge(!1)}}catch(a){console.error(a.response)}},Te=async e=>{let t=!0;try{await u.a.delete("/sgigjpessoa/"+e)}catch(a){t=!1,console.error(a.response),x("Falha. Tente mais tarde")}return A(),t},we=async e=>{m({delete:Te,id:e})},[Pe,Ge]=Object(s.useState)(!1),[Be,ke]=Object(s.useState)(!1),[Me,Ve]=Object(s.useState)(!1);const[qe,Re]=Object(s.useState)("geral"),He="nav-link text-reset",Ue="nav-link text-reset active";var[ze,Je]=Object(s.useState)([{id:""+Math.random(),tipocontacto:"",contacto:""}]);function Ke(){Je(ze.concat([{id:""+Math.random(),tipocontacto:"",contacto:""}]))}function We(e){if(ze.length>1){const a=ze.findIndex(t=>t.id===e);if(a>-1){var t=ze;t.splice(a,1),Je(t.concat([])),Xe(!0)}}}const[Qe,Xe]=Object(s.useState)(!1);function Ye(e,t){const a=ze.findIndex(e=>e.id===t);ze[a]={id:t,tipocontacto:e,contacto:ze[a].contacto},Xe(!0),Je(ze.concat([]))}function Ze(e,t){const a=ze.findIndex(e=>e.id===t);ze[a]={id:t,contacto:e,tipocontacto:ze[a].tipocontacto},Xe(!0),Je(ze.concat([]))}var[$e,et]=Object(s.useState)([{id:""+Math.random(),tipodocumento:"",numero:"",dataemissao:"",datavalidade:"",anexo:{type:0,file:null}}]);function tt(){et($e.concat([{id:""+Math.random(),tipodocumento:"",numero:"",dataemissao:"",datavalidade:"",anexo:{type:0,file:null}}]))}function at(e){if($e.length>1){const a=$e.findIndex(t=>t.id===e);if(a>-1){var t=$e;t.splice(a,1),et(t.concat([])),st(!0)}}}const[lt,st]=Object(s.useState)(!1);function ct(e,t){const a=$e.findIndex(e=>e.id===t);$e[a]={id:t,tipodocumento:e,numero:$e[a].numero,dataemissao:$e[a].dataemissao,datavalidade:$e[a].datavalidade,anexo:$e[a].anexo},st(!0),et($e.concat([]))}function nt(e,t){const a=$e.findIndex(e=>e.id===t);$e[a]={id:t,numero:e,tipodocumento:$e[a].tipodocumento,dataemissao:$e[a].dataemissao,datavalidade:$e[a].datavalidade,anexo:$e[a].anexo},st(!0),et($e.concat([]))}function ot(e,t){const a=$e.findIndex(e=>e.id===t);console.log($e[a]),console.log(t),""!=$e[a].tipodocumento&&""!=$e[a].numero||x("Preencha o campos obrigat\xf3rios"),$e[a]={id:t,tipodocumento:$e[a].tipodocumento,dataemissao:$e[a].dataemissao,datavalidade:$e[a].datavalidade,numero:$e[a].numero,anexo:{type:2,file:e}},st(!0),et($e.concat([]))}function rt(e,t){const a=$e.findIndex(e=>e.id===t);console.log($e[a]),console.log(t),$e[a]={id:t,dataemissao:e,numero:$e[a].numero,tipodocumento:$e[a].tipodocumento,datavalidade:$e[a].datavalidade,anexo:$e[a].anexo},st(!0),et($e.concat([]))}function it(e,t){const a=$e.findIndex(e=>e.id===t);$e[a]={id:t,datavalidade:e,numero:$e[a].numero,tipodocumento:$e[a].tipodocumento,dataemissao:$e[a].dataemissao,anexo:$e[a].anexo},st(!0),et($e.concat([]))}return Object(O.jsx)(c.a.Fragment,{children:Object(O.jsx)(n.a,{children:Object(O.jsxs)(o.a,{sm:12,children:[Object(O.jsx)(d.a,{children:Object(O.jsx)(d.a.Body,{children:Object(O.jsx)(v,{columns:p,data:D,modalOpen:()=>{H(""),z(""),K(""),Q(""),Y(""),$(""),te(""),le(""),ce(""),oe(""),ie(""),je(""),be(""),xe(""),ge(""),Ne(""),ye(""),Ge(!0),ke(!1),Ve(!1),Re("geral"),Je([{id:""+Math.random(),tipocontacto:"",contacto:""}]),et([{id:""+Math.random(),tipodocumento:"",numero:"",dataemissao:"",datavalidade:"",anexo:{type:0,file:null}}])}})})}),Object(O.jsxs)(j.a,{size:"lg",show:Pe,onHide:()=>Ge(!1),children:[Object(O.jsx)(j.a.Header,{style:{border:"0"},closeButton:!0,children:Object(O.jsx)(j.a.Title,{as:"h5",children:"Novo"})}),Object(O.jsxs)("ul",{className:"nav nav-tabs profile-tabs nav-fill",id:"myTab",role:"tablist",children:[Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsxs)(h.b,{to:"#",className:"geral"===qe?Ue:He,onClick:()=>{Re("geral")},id:"profile-tab",children:[Object(O.jsx)("i",{className:"feather icon-user mr-2"}),"Perfil"]})}),Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsxs)(h.b,{to:"#",className:"contactos"===qe?Ue:He,onClick:()=>{Re("contactos")},id:"contact-tab",children:[Object(O.jsx)("i",{className:"feather icon-phone mr-2"}),"Contactos"]})}),Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsxs)(h.b,{to:"#",className:"documentos"===qe?Ue:He,onClick:()=>{Re("documentos")},id:"contact-tab",children:[Object(O.jsx)("i",{className:"feather icon-file-text mr-2"}),"Documentos"]})})]}),Object(O.jsxs)(j.a.Body,{style:"documentos"===qe?{}:{display:"none"},children:[Object(O.jsx)(o.a,{style:{display:"flex",justifyContent:"flex-end"},sm:12,children:Object(O.jsx)(r.a,{onClick:()=>tt(),variant:"primary",children:"+"})}),$e.map(e=>{var t;return Object(O.jsxs)(n.a,{style:{marginBottom:"12px"},children:[Object(O.jsx)(o.a,{sm:10,children:Object(O.jsxs)(n.a,{children:[Object(O.jsx)(o.a,{sm:6,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsxs)("label",{className:"floating-label",htmlFor:"Phone",children:["Tipo de Documentos ",Object(O.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(O.jsxs)("select",{onChange:t=>{ct(t.target.value,e.id)},className:"form-control",id:"perfil",required:!0,"aria-required":"true",children:[Object(O.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),G.map(e=>Object(O.jsx)("option",{value:e.ID,children:e.DESIG},e.ID))]})]})}),Object(O.jsx)(o.a,{sm:3,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsxs)("label",{className:"floating-label",htmlFor:"text",children:["N\xfamero ",Object(O.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(O.jsx)("input",{onChange:t=>{nt(t.target.value,e.id)},type:"text",className:"form-control"})]})}),Object(O.jsxs)("div",{className:"sm-2 paddinhtop28OnlyPC",children:[Object(O.jsxs)("label",{htmlFor:"anexarcriar"+e.id,className:"btn",style:{backgroundColor:"#d2b32a",color:"#fff"},children:[null==(null===e||void 0===e||null===(t=e.anexo)||void 0===t?void 0:t.file)?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("i",{className:"feather icon-download"}),Object(O.jsx)(O.Fragment,{children:" Anexar"})]}):"Anexado"," "]}),Object(O.jsx)("input",{id:"anexarcriar"+e.id,onChange:t=>ot(t.target.files[0],e.id),accept:"image/x-png,image/jpeg",style:{display:"none"},type:"file"})]}),Object(O.jsx)(o.a,{sm:6,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsx)("label",{className:"floating-label",htmlFor:"date",children:"Data de Emiss\xe3o"}),Object(O.jsx)("input",{onChange:t=>{rt(t.target.value,e.id)},type:"date",className:"form-control"})]})}),Object(O.jsx)(o.a,{sm:6,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsx)("label",{className:"floating-label",htmlFor:"text",children:"Data de Validade"}),Object(O.jsx)("input",{onChange:t=>{it(t.target.value,e.id)},type:"date",className:"form-control"})]})})]})}),$e.length>1?Object(O.jsx)("div",{className:"paddinhtop66OnlyPC sm-2",children:Object(O.jsx)(r.a,{onClick:()=>at(e.id),variant:"danger",children:Object(O.jsx)("i",{className:"feather icon-trash-2"})})}):null]},e.id)})]}),Object(O.jsxs)(j.a.Body,{style:"contactos"===qe?{}:{display:"none"},children:[Object(O.jsx)(o.a,{style:{display:"flex",justifyContent:"flex-end"},sm:12,children:Object(O.jsx)(r.a,{onClick:()=>Ke(),variant:"primary",children:"+"})}),ze.map(e=>Object(O.jsxs)(n.a,{style:{marginBottom:"12px"},children:[Object(O.jsx)(o.a,{sm:5,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsxs)("label",{className:"floating-label",htmlFor:"Phone",children:["Tipo de Contacto ",Object(O.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(O.jsxs)("select",{onChange:t=>{Ye(t.target.value,e.id)},className:"form-control",id:"perfil",required:!0,"aria-required":"true",children:[Object(O.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),k.map(e=>Object(O.jsx)("option",{value:e.ID,children:e.DESIG},e.ID))]})]})}),Object(O.jsx)(o.a,{sm:5,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsxs)("label",{className:"floating-label",htmlFor:"text",children:["Contacto ",Object(O.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(O.jsx)("input",{maxLength:"128",onChange:t=>{Ze(t.target.value,e.id)},type:"text",className:"form-control"})]})}),ze.length>1?Object(O.jsx)("div",{className:"sm-2 paddinhtop28OnlyPC",children:Object(O.jsx)(r.a,{onClick:()=>We(e.id),variant:"danger",children:Object(O.jsx)("i",{className:"feather icon-trash-2"})})}):null]},e.id))]}),Object(O.jsx)(j.a.Body,{style:"geral"===qe?{}:{display:"none"},children:Object(O.jsx)("form",{id:"criarpessoa",onSubmit:async function(e){e.preventDefault(),S(!0);const t={NACIONALIDADE_ID:U,LOCALIDADE_ID:J,PR_ESTADO_CIVIL_ID:W,PR_GENERO_ID:X,NOME:Z,DT_NASC:ee,ALCUNHA:ae,NOME_PAI:se,NOME_MAE:ne,OBS:re,ENDERECO:de,ENDERECO_COORD:me,NIF:Oe?"":he};console.log(t);try{const e=await u.a.post("/sgigjpessoa",t);if("200"==e.status){for(let t=0;t<ze.length;t++)if(""!=ze[t].tipocontacto&&""!=ze[t].contacto){console.log(ze);const a={PESSOA_ID:e.data.ID,PR_CONTACTO_TP_ID:ze[t].tipocontacto,CONTACTO:ze[t].contacto};try{await u.a.post("/sgigjrelcontacto",a)}catch(l){console.error(l.response)}}for(let t=0;t<$e.length;t++)if(""!=$e[t].tipodocumento&&""!=$e[t].numero){console.log($e);var a="";if("1"==$e[t].anexo.type&&(a=$e[t].anexo.file),"2"==$e[t].anexo.type){a=(await y($e[t].anexo.file)).file.data}console.log(a);const s={PESSOA_ID:e.data.ID,PR_DOCUMENTO_TP_ID:$e[t].tipodocumento,NUMERO:$e[t].numero,DOC_URL:a,DT_EMISSAO:$e[t].dataemissao,DT_VALIDADE:$e[t].datavalidade};try{await u.a.post("/sgigjreldocumento",s)}catch(l){console.error(l.response)}}A(),S(!1),Ge(!1)}}catch(l){console.error(l.response),"3058"==l.response.data.code&&x("Esse NIF j\xe1 existe"),S(!1)}},children:Object(O.jsxs)(n.a,{children:[Object(O.jsx)(o.a,{sm:3,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsxs)("label",{className:"floating-label",htmlFor:"text",children:["C\xf3digo ",Object(O.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(O.jsx)("input",{disabled:!0,value:"0003",onChange:()=>{},type:"text",className:"form-control",id:"Name"})]})}),Object(O.jsx)(o.a,{sm:6,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsxs)("label",{className:"floating-label",htmlFor:"Email",children:["Nome ",Object(O.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(O.jsx)("input",{maxLength:"256",type:"text",onChange:e=>{$(e.target.value)},className:"form-control",id:"Nome ",placeholder:"Nome",required:!0})]})}),Object(O.jsx)(o.a,{sm:3,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsx)("label",{className:"floating-label",htmlFor:"text",children:"Alcunha"}),Object(O.jsx)("input",{type:"text",maxLength:"75",onChange:e=>{le(e.target.value)},className:"form-control",id:"alcunga",placeholder:"Alcunha..."})]})}),Object(O.jsx)(o.a,{sm:4,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsxs)("label",{className:"floating-label",htmlFor:"Phone",children:["G\xeanero ",Object(O.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(O.jsxs)("select",{className:"form-control",onChange:e=>{Y(e.target.value)},id:"perfil",required:!0,"aria-required":"true",children:[Object(O.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),L.map(e=>Object(O.jsx)("option",{value:e.ID,children:e.DESIG},e.ID))]})]})}),Object(O.jsx)(o.a,{sm:4,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsxs)("label",{className:"floating-label",htmlFor:"Phone",children:["Estado civil ",Object(O.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(O.jsxs)("select",{className:"form-control",onChange:e=>{Q(e.target.value)},id:"perfil",required:!0,"aria-required":"true",children:[Object(O.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),F.map(e=>Object(O.jsx)("option",{value:e.ID,children:e.DESIG},e.ID))]})]})}),Object(O.jsx)(o.a,{sm:4,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsxs)("label",{className:"floating-label",htmlFor:"date",children:["Data Nascimento ",Object(O.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(O.jsx)("input",{type:"date",onChange:e=>{te(e.target.value)},className:"form-control",id:"data",required:!0})]})}),Object(O.jsx)(o.a,{sm:6,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsx)("label",{className:"floating-label",htmlFor:"text",children:"Nome Pai"}),Object(O.jsx)("input",{type:"text",maxLength:"128",onChange:e=>{ce(e.target.value)},className:"form-control",id:"pai",placeholder:"Nome Pai..."})]})}),Object(O.jsx)(o.a,{sm:6,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsx)("label",{className:"floating-label",htmlFor:"text",children:"Nome M\xe3e"}),Object(O.jsx)("input",{type:"text",maxLength:"128",onChange:e=>{oe(e.target.value)},className:"form-control",id:"mae",placeholder:"Nome Mae..."})]})}),Object(O.jsx)(o.a,{sm:6,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsxs)("label",{className:"floating-label",htmlFor:"text",children:["Nacionalidade ",Object(O.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(O.jsxs)("select",{onChange:e=>{z(e.target.value)},className:"form-control",id:"perfil",required:!0,"aria-required":"true",children:[Object(O.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),w.map(e=>"-1"==e.NIVEL_DETALHE?Object(O.jsx)("option",{value:e.ID,children:e.NACIONALIDADE},e.ID):null)]})]})}),Object(O.jsx)(o.a,{sm:6,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsx)("label",{className:"floating-label",htmlFor:"text",children:"Coordenadas"}),Object(O.jsx)("input",{type:"text",maxLength:"50",onChange:e=>{be(e.target.value)},className:"form-control",id:"coordenada",placeholder:"Endereco Coord..."})]})}),Object(O.jsx)("div",{className:"col-sm-6",children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsx)("label",{className:"floating-label",htmlFor:"Address",children:"Endere\xe7o"}),Object(O.jsx)("textarea",{className:"form-control",maxLength:"64000",onChange:e=>{je(e.target.value)},id:"endereco",rows:"3",placeholder:"Endere\xe7o..."})]})}),Object(O.jsx)(o.a,{sm:6,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsxs)("label",{className:"floating-label",htmlFor:"text",children:["NIF ",Object(O.jsx)("span",{style:{color:"red"},children:"*"})]}),Oe?Object(O.jsx)("input",{readOnly:"readOnly",type:"text",maxLength:"9",onChange:e=>{xe(e.target.value)},className:"form-control",id:"nif",placeholder:"NIF..."}):Object(O.jsx)("input",{type:"text",maxLength:"9",required:!0,onChange:e=>{xe(e.target.value)},className:"form-control",id:"nif",placeholder:"NIF..."}),Object(O.jsxs)("div",{className:" fill mt-2 input-box",children:[Object(O.jsx)("input",{type:"checkbox",name:"",id:"",onChange:e=>pe(e.target.checked)}),Object(O.jsx)("label",{className:"floating-label ml-3",htmlFor:"Name",children:"Sem NIF "})]})]})}),Object(O.jsx)(o.a,{sm:3,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsxs)("label",{className:"floating-label",htmlFor:"text",children:["Ilha ",Object(O.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(O.jsxs)("select",{className:"form-control",id:"perfil",onChange:e=>{Ae(e.target.value)},required:!0,"aria-required":"true",children:[Object(O.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),w.map(e=>"2"==e.NIVEL_DETALHE?Object(O.jsx)("option",{value:e.ID,children:e.ILHA},e.ID):null)]})]})}),Object(O.jsx)(o.a,{sm:3,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsxs)("label",{className:"floating-label",htmlFor:"text",children:["Concelho ",Object(O.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(O.jsxs)("select",{className:"form-control",id:"perfil",onChange:e=>{Le(e.target.value)},required:!0,"aria-required":"true",children:[Object(O.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),w.map(e=>"3"==e.NIVEL_DETALHE&&e.GLB_GEOG_ID==ue?Object(O.jsx)("option",{value:e.ID,children:e.CONCELHO},e.ID):null)]})]})}),Object(O.jsx)(o.a,{sm:3,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsxs)("label",{className:"floating-label",htmlFor:"text",children:["Fregu\xeasia ",Object(O.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(O.jsxs)("select",{className:"form-control",id:"perfil",onChange:e=>{_e(e.target.value)},required:!0,"aria-required":"true",children:[Object(O.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),w.map(e=>"4"==e.NIVEL_DETALHE&&e.GLB_GEOG_ID==fe?Object(O.jsx)("option",{value:e.ID,children:e.FREGUESIA},e.ID):null)]})]})}),Object(O.jsx)(o.a,{sm:3,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsxs)("label",{className:"floating-label",htmlFor:"text",children:["Localidade",Object(O.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(O.jsxs)("select",{onChange:e=>{K(e.target.value)},className:"form-control",id:"perfil",required:!0,"aria-required":"true",children:[Object(O.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),w.map(e=>"5"==e.NIVEL_DETALHE&&e.GLB_GEOG_ID==ve?Object(O.jsx)("option",{value:e.ID,children:e.NOME},e.ID):null)]})]})}),Object(O.jsx)("div",{className:"col-sm-12",children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsx)("label",{className:"floating-label",htmlFor:"Address",children:"Obs"}),Object(O.jsx)("textarea",{className:"form-control",maxLength:"64000",onChange:e=>{ie(e.target.value)},id:"Address",rows:"3",placeholder:"Obs..."})]})})]})})}),Object(O.jsxs)(j.a.Footer,{children:[Object(O.jsx)(r.a,{variant:"danger",onClick:()=>Ge(!1),children:"Fechar"}),I?Object(O.jsx)(r.a,{variant:"primary",children:"Guardando"}):Object(O.jsx)(r.a,{type:"submit",form:"criarpessoa",variant:"primary",children:"Guardar"})]})]}),Object(O.jsxs)(j.a,{size:"lg",show:Be,onHide:()=>ke(!1),children:[Object(O.jsx)(j.a.Header,{style:{border:"0"},closeButton:!0,children:Object(O.jsx)(j.a.Title,{as:"h5",children:"Editar"})}),Object(O.jsxs)("ul",{className:"nav nav-tabs profile-tabs nav-fill",id:"myTab",role:"tablist",children:[Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsxs)(h.b,{to:"#",className:"geral"===qe?Ue:He,onClick:()=>{Re("geral")},id:"profile-tab",children:[Object(O.jsx)("i",{className:"feather icon-user mr-2"}),"Perfil"]})}),Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsxs)(h.b,{to:"#",className:"contactos"===qe?Ue:He,onClick:()=>{Re("contactos")},id:"contact-tab",children:[Object(O.jsx)("i",{className:"feather icon-phone mr-2"}),"Contactos"]})}),Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsxs)(h.b,{to:"#",className:"documentos"===qe?Ue:He,onClick:()=>{Re("documentos")},id:"contact-tab",children:[Object(O.jsx)("i",{className:"feather icon-file-text mr-2"}),"Documentos"]})})]}),Object(O.jsxs)(j.a.Body,{style:"documentos"===qe?{}:{display:"none"},children:[Object(O.jsx)(o.a,{style:{display:"flex",justifyContent:"flex-end"},sm:12,children:Object(O.jsx)(r.a,{onClick:()=>tt(),variant:"primary",children:"+"})}),$e.map(e=>{var t;return Object(O.jsxs)(n.a,{style:{marginBottom:"12px"},children:[Object(O.jsx)(o.a,{sm:10,children:Object(O.jsxs)(n.a,{children:[Object(O.jsx)(o.a,{sm:6,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsxs)("label",{className:"floating-label",htmlFor:"Phone",children:["Tipo de Documentos ",Object(O.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(O.jsxs)("select",{defaultValue:e.tipodocumento,onChange:t=>{ct(t.target.value,e.id)},className:"form-control",id:"perfil",required:!0,"aria-required":"true",children:[Object(O.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),G.map(e=>Object(O.jsx)("option",{value:e.ID,children:e.DESIG},e.ID))]})]})}),Object(O.jsx)(o.a,{sm:3,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsxs)("label",{className:"floating-label",htmlFor:"text",children:["N\xfamero ",Object(O.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(O.jsx)("input",{defaultValue:e.numero,onChange:t=>{nt(t.target.value,e.id)},type:"text",className:"form-control"})]})}),Object(O.jsxs)("div",{className:"sm-2 paddinhtop28OnlyPC",children:[Object(O.jsxs)("label",{htmlFor:"anexareditar"+e.id,className:"btn",style:{backgroundColor:"#d2b32a",color:"#fff"},children:[" ",null==(null===e||void 0===e||null===(t=e.anexo)||void 0===t?void 0:t.file)?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("i",{className:"feather icon-download"}),Object(O.jsx)(O.Fragment,{children:"Anexar"})]}):"Anexado"," "]}),Object(O.jsx)("input",{id:"anexareditar"+e.id,style:{display:"none"},onChange:t=>ot(t.target.files[0],e.id),accept:"image/x-png,image/jpeg",type:"file"})]}),Object(O.jsx)(o.a,{sm:6,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsx)("label",{className:"floating-label",htmlFor:"date",children:"Data de Emiss\xe3o"}),Object(O.jsx)("input",{defaultValue:e.dataemissao,onChange:t=>{rt(t.target.value,e.id)},type:"date",className:"form-control"})]})}),Object(O.jsx)(o.a,{sm:6,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsx)("label",{className:"floating-label",htmlFor:"text",children:"Data de Validade"}),Object(O.jsx)("input",{defaultValue:e.datavalidade,onChange:t=>{it(t.target.value,e.id)},type:"date",className:"form-control"})]})})]})}),$e.length>1?Object(O.jsx)("div",{className:"paddinhtop66OnlyPC sm-2",children:Object(O.jsx)(r.a,{onClick:()=>at(e.id),variant:"danger",children:Object(O.jsx)("i",{className:"feather icon-trash-2"})})}):null]},e.id)})]}),Object(O.jsxs)(j.a.Body,{style:"contactos"===qe?{}:{display:"none"},children:[Object(O.jsx)(o.a,{style:{display:"flex",justifyContent:"flex-end"},sm:12,children:Object(O.jsx)(r.a,{onClick:()=>Ke(),variant:"primary",children:"+"})}),ze.map(e=>Object(O.jsxs)(n.a,{style:{marginBottom:"12px"},children:[Object(O.jsx)(o.a,{sm:5,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsxs)("label",{className:"floating-label",htmlFor:"Phone",children:["Tipo de Contacto ",Object(O.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(O.jsxs)("select",{defaultValue:e.tipocontacto,onChange:t=>{Ye(t.target.value,e.id)},className:"form-control",id:"perfil",required:!0,"aria-required":"true",children:[Object(O.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),k.map(e=>Object(O.jsx)("option",{value:e.ID,children:e.DESIG},e.ID))]})]})}),Object(O.jsx)(o.a,{sm:5,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsxs)("label",{className:"floating-label",htmlFor:"text",children:["Contacto ",Object(O.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(O.jsx)("input",{maxLength:"128",defaultValue:e.contacto,onChange:t=>{Ze(t.target.value,e.id)},type:"text",className:"form-control"})]})}),ze.length>1?Object(O.jsx)("div",{className:"sm-2 paddinhtop28OnlyPC",children:Object(O.jsx)(r.a,{onClick:()=>We(e.id),variant:"danger",children:Object(O.jsx)("i",{className:"feather icon-trash-2"})})}):null]},e.id))]}),Object(O.jsx)(j.a.Body,{style:"geral"===qe?{}:{display:"none"},children:Object(O.jsx)("form",{id:"editarpessoa",onSubmit:async function(e){e.preventDefault(),S(!0);const t={NACIONALIDADE_ID:U,LOCALIDADE_ID:J,PR_ESTADO_CIVIL_ID:W,PR_GENERO_ID:X,NOME:Z,DT_NASC:ee,ALCUNHA:ae,NOME_PAI:se,NOME_MAE:ne,OBS:re,ENDERECO:de,ENDERECO_COORD:me,NIF:Oe?"":he};console.log(t);try{if("200"==(await u.a.put("/sgigjpessoa/"+V,t)).status){if(1==Qe){const e=await u.a.delete("/sgigjrelcontacto/0?PESSOA_ID="+V);if(console.log(e.status),"200"==e.status||"204"==e.status){console.log(ze);for(let e=0;e<ze.length;e++)if(""!=ze[e].tipocontacto&&""!=ze[e].contacto){console.log(ze);const t={PESSOA_ID:V,PR_CONTACTO_TP_ID:ze[e].tipocontacto,CONTACTO:ze[e].contacto};try{await u.a.post("/sgigjrelcontacto",t)}catch(l){console.error(l.response)}}}}if(1==lt){const e=await u.a.delete("/sgigjreldocumento/0?PESSOA_ID="+V);if(console.log(e.status),"200"==e.status||"204"==e.status){console.log(ze);for(let e=0;e<$e.length;e++)if(""!=$e[e].tipodocumento&&""!=$e[e].numero){console.log($e);var a="";if("1"==$e[e].anexo.type&&(a=$e[e].anexo.file),"2"==$e[e].anexo.type){a=(await y($e[e].anexo.file)).file.data}console.log(a);const t={PESSOA_ID:V,PR_DOCUMENTO_TP_ID:$e[e].tipodocumento,NUMERO:$e[e].numero,DOC_URL:a,DT_EMISSAO:$e[e].dataemissao,DT_VALIDADE:$e[e].datavalidade};try{await u.a.post("/sgigjreldocumento",t)}catch(l){console.error(l.response)}}}}A(),S(!1),ke(!1)}}catch(l){console.error(l.response),"3058"==l.response.data.code&&x("Esse NIF j\xe1 existe"),S(!1)}},children:Object(O.jsxs)(n.a,{children:[Object(O.jsx)(o.a,{sm:3,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsxs)("label",{className:"floating-label",htmlFor:"text",children:["C\xf3digo ",Object(O.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(O.jsx)("input",{disabled:!0,defaultValue:R,onChange:()=>{},type:"text",className:"form-control",id:"Name"})]})}),Object(O.jsx)(o.a,{sm:6,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsxs)("label",{className:"floating-label",htmlFor:"Email",children:["Nome ",Object(O.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(O.jsx)("input",{type:"text",maxLength:"256",defaultValue:Z,onChange:e=>{$(e.target.value)},className:"form-control",id:"Nome ",required:!0,placeholder:"Nome"})]})}),Object(O.jsx)(o.a,{sm:3,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsx)("label",{className:"floating-label",htmlFor:"text",children:"Alcunha"}),Object(O.jsx)("input",{type:"text",maxLength:"256",defaultValue:ae,onChange:e=>{le(e.target.value)},className:"form-control",id:"alcunga",placeholder:"Alcunha..."})]})}),Object(O.jsx)(o.a,{sm:4,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsxs)("label",{className:"floating-label",htmlFor:"Phone",children:["G\xeanero ",Object(O.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(O.jsxs)("select",{className:"form-control",defaultValue:X,onChange:e=>{Y(e.target.value)},id:"perfil",required:!0,"aria-required":"true",children:[Object(O.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),L.map(e=>Object(O.jsx)("option",{value:e.ID,children:e.DESIG},e.ID))]})]})}),Object(O.jsx)(o.a,{sm:4,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsxs)("label",{className:"floating-label",htmlFor:"Phone",children:["Estado civil ",Object(O.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(O.jsxs)("select",{className:"form-control",defaultValue:W,onChange:e=>{Q(e.target.value)},id:"perfil",required:!0,"aria-required":"true",children:[Object(O.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),F.map(e=>Object(O.jsx)("option",{value:e.ID,children:e.DESIG},e.ID))]})]})}),Object(O.jsx)(o.a,{sm:4,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsxs)("label",{className:"floating-label",htmlFor:"date",children:["Data Nascimento ",Object(O.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(O.jsx)("input",{defaultValue:ee,type:"date",onChange:e=>{te(e.target.value)},className:"form-control",id:"data",required:!0,"aria-required":"true"})]})}),Object(O.jsx)(o.a,{sm:6,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsx)("label",{className:"floating-label",htmlFor:"text",children:"Nome Pai"}),Object(O.jsx)("input",{defaultValue:se,maxLength:"128",type:"text",onChange:e=>{ce(e.target.value)},className:"form-control",id:"pai",placeholder:"Nome Pai..."})]})}),Object(O.jsx)(o.a,{sm:6,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsx)("label",{className:"floating-label",htmlFor:"text",children:"Nome M\xe3e"}),Object(O.jsx)("input",{defaultValue:ne,maxLength:"128",type:"text",onChange:e=>{oe(e.target.value)},className:"form-control",id:"mae",placeholder:"Nome Mae..."})]})}),Object(O.jsx)(o.a,{sm:6,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsxs)("label",{className:"floating-label",htmlFor:"text",children:["Nacionalidade ",Object(O.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(O.jsxs)("select",{defaultValue:U,onChange:e=>{z(e.target.value)},className:"form-control",id:"perfil",required:!0,"aria-required":"true",children:[Object(O.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),w.map(e=>"-1"==e.NIVEL_DETALHE?Object(O.jsx)("option",{value:e.ID,children:e.NACIONALIDADE},e.ID):null)]})]})}),Object(O.jsx)(o.a,{sm:6,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsx)("label",{className:"floating-label",htmlFor:"text",children:"Coordenadas"}),Object(O.jsx)("input",{maxLength:"50",defaultValue:me,type:"text",onChange:e=>{be(e.target.value)},className:"form-control",id:"coordenada",placeholder:"Endereco Coord..."})]})}),Object(O.jsx)("div",{className:"col-sm-6",children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsx)("label",{className:"floating-label",htmlFor:"Address",children:"Endere\xe7o"}),Object(O.jsx)("textarea",{maxLength:"64000",defaultValue:de,className:"form-control",onChange:e=>{je(e.target.value)},id:"endereco",rows:"3",placeholder:"Endere\xe7o..."})]})}),Object(O.jsx)(o.a,{sm:6,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsxs)("label",{className:"floating-label",htmlFor:"text",children:["NIF ",Object(O.jsx)("span",{style:{color:"red"},children:"*"})]}),Oe?Object(O.jsx)("input",{readOnly:"readOnly",type:"text",maxLength:"9",onChange:e=>{xe(e.target.value)},className:"form-control",id:"nif",placeholder:"NIF..."}):Object(O.jsx)("input",{defaultValue:he,type:"text",maxLength:"9",required:!0,onChange:e=>{xe(e.target.value)},className:"form-control",id:"nif",placeholder:"NIF..."}),Object(O.jsxs)("div",{className:" fill mt-2 input-box",children:[Object(O.jsx)("input",{type:"checkbox",name:"",id:"",onChange:e=>pe(e.target.checked)}),Object(O.jsx)("label",{className:"floating-label ml-3",htmlFor:"Name",children:"Sem NIF "})]})]})}),Object(O.jsx)(o.a,{sm:3,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsxs)("label",{className:"floating-label",htmlFor:"text",children:["Ilha ",Object(O.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(O.jsxs)("select",{defaultValue:ue,className:"form-control",id:"perfil",onChange:e=>{Ae(e.target.value)},required:!0,"aria-required":"true",children:[Object(O.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),w.map(e=>"2"==e.NIVEL_DETALHE?Object(O.jsx)("option",{value:e.ID,children:e.ILHA},e.ID):null)]})]})}),Object(O.jsx)(o.a,{sm:3,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsxs)("label",{className:"floating-label",htmlFor:"text",children:["Concelho ",Object(O.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(O.jsxs)("select",{defaultValue:fe,className:"form-control",id:"perfil",onChange:e=>{Le(e.target.value)},required:!0,"aria-required":"true",children:[Object(O.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),w.map(e=>"3"==e.NIVEL_DETALHE&&e.GLB_GEOG_ID==ue?Object(O.jsx)("option",{value:e.ID,children:e.CONCELHO},e.ID):null)]})]})}),Object(O.jsx)(o.a,{sm:3,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsxs)("label",{className:"floating-label",htmlFor:"text",children:["Fregu\xeasia ",Object(O.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(O.jsxs)("select",{defaultValue:ve,className:"form-control",id:"perfil",onChange:e=>{_e(e.target.value)},required:!0,"aria-required":"true",children:[Object(O.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),w.map(e=>"4"==e.NIVEL_DETALHE&&e.GLB_GEOG_ID==fe?Object(O.jsx)("option",{value:e.ID,children:e.FREGUESIA},e.ID):null)]})]})}),Object(O.jsx)(o.a,{sm:3,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsxs)("label",{className:"floating-label",htmlFor:"text",children:["Localidade ",Object(O.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(O.jsxs)("select",{defaultValue:J,onChange:e=>{K(e.target.value)},className:"form-control",id:"perfil",required:!0,"aria-required":"true",children:[Object(O.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),w.map(e=>"5"==e.NIVEL_DETALHE&&e.GLB_GEOG_ID==ve?Object(O.jsx)("option",{value:e.ID,children:e.NOME},e.ID):null)]})]})}),Object(O.jsx)("div",{className:"col-sm-12",children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsx)("label",{className:"floating-label",htmlFor:"Address",children:"Obs"}),Object(O.jsx)("textarea",{maxLength:"64000",defaultValue:re,className:"form-control",onChange:e=>{ie(e.target.value)},id:"Address",rows:"3",placeholder:"Obs..."})]})})]})})}),Object(O.jsxs)(j.a.Footer,{children:[Object(O.jsx)(r.a,{variant:"danger",onClick:()=>ke(!1),children:"Fechar"}),I?Object(O.jsx)(r.a,{variant:"primary",children:"Guardando"}):Object(O.jsx)(r.a,{type:"submit",form:"editarpessoa",variant:"primary",children:"Guardar"})]})]}),Object(O.jsxs)(j.a,{size:"lg",show:Me,onHide:()=>Ve(!1),children:[Object(O.jsxs)(j.a.Header,{closeButton:!0,children:[Object(O.jsx)(j.a.Title,{as:"h5"}),Object(O.jsx)(j.a.Title,{as:"h5",children:"Pessoa"})]}),0===Object.keys(l).length?null:Object(O.jsx)(j.a.Body,{children:Object(O.jsxs)(n.a,{children:[Object(O.jsxs)(o.a,{xl:4,className:"task-detail-right",children:[Object(O.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:Object(O.jsxs)("span",{children:[Object(O.jsx)("i",{className:"feather icon-user m-r-5"}),"Geral"]})}),Object(O.jsxs)("div",{style:{width:"100%",display:"flex",alignItems:"center",marginBottom:"20px",flexDirection:"column",borderBottom:"1px solid #d2b32a",borderTop:"1px solid #d2b32a",paddingBottom:"15px",paddingTop:"15px",marginTop:"5px"},children:[Object(O.jsx)("img",{src:null==l.foto?b.default:l.foto+"?alt=media&token=0",style:{borderRadius:"50%",width:"100px",height:"100px",marginBottom:"10px"},alt:""}),Object(O.jsx)("span",{children:l.NOME})]}),Object(O.jsxs)("div",{style:{borderBottom:"1px solid #d2b32a",marginBottom:"20px"},children:[Object(O.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",marginBottom:"15px"},children:[Object(O.jsxs)("span",{children:[Object(O.jsx)("i",{className:"feather icon-map-pin m-r-5"}),"G\xeanero"]}),Object(O.jsx)("span",{style:{color:"#6c757d"},children:l.sgigjprgenero.DESIG})]}),Object(O.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",marginBottom:"15px"},children:[Object(O.jsxs)("span",{children:[Object(O.jsx)("i",{className:"feather icon-map-pin m-r-5"}),"Estado Civil"]}),Object(O.jsx)("span",{style:{color:"#6c757d"},children:l.sgigjprestadocivil.DESIG})]}),Object(O.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",marginBottom:"15px"},children:[Object(O.jsxs)("span",{children:[Object(O.jsx)("i",{className:"feather icon-map-pin m-r-5"}),"Dt. Nascimento"]}),Object(O.jsx)("span",{style:{color:"#6c757d"},children:E(l.DT_NASC)})]}),Object(O.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",marginBottom:"15px"},children:[Object(O.jsxs)("span",{children:[Object(O.jsx)("i",{className:"feather icon-map-pin m-r-5"}),"NIF"]}),Object(O.jsx)("span",{style:{color:"#6c757d"},children:l.NIF})]}),Object(O.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",marginBottom:"15px"},children:[Object(O.jsxs)("span",{children:[Object(O.jsx)("i",{className:"feather icon-map-pin m-r-5"}),"Observa\xe7\xf5es"]}),Object(O.jsx)("span",{style:{color:"#6c757d"},children:l.OBS})]})]}),Object(O.jsxs)("div",{style:{borderBottom:"1px solid #d2b32a",marginBottom:"20px"},children:[Object(O.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",marginBottom:"15px"},children:[Object(O.jsxs)("span",{children:[Object(O.jsx)("i",{className:"feather icon-map-pin m-r-5"}),"Endere\xe7o"]}),Object(O.jsx)("span",{style:{color:"#6c757d"},children:l.ENDERECO})]}),Object(O.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",marginBottom:"15px"},children:[Object(O.jsxs)("span",{children:[Object(O.jsx)("i",{className:"feather icon-map-pin m-r-5"}),"Localidade"]}),Object(O.jsx)("span",{style:{color:"#6c757d"},children:l.localidade.NOME})]})]}),Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",marginBottom:"15px"},children:[Object(O.jsxs)("span",{children:[Object(O.jsx)("i",{className:"feather icon-phone m-r-5"}),"Telefone"]}),Object(O.jsx)("span",{style:{color:"#6c757d"},children:l.TELEFONE})]}),Object(O.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",marginBottom:"15px"},children:[Object(O.jsxs)("span",{children:[Object(O.jsx)("i",{className:"feather icon-phone m-r-5"}),"Telem\xf3vel"]}),Object(O.jsx)("span",{style:{color:"#6c757d"},children:l.TELEMOVEL})]}),Object(O.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",marginBottom:"15px"},children:[Object(O.jsxs)("span",{children:[Object(O.jsx)("i",{className:"feather icon-mail m-r-5"}),"Email"]}),Object(O.jsx)("span",{style:{color:"#6c757d"},children:l.EMAIL})]})]})]}),Object(O.jsxs)(o.a,{xl:8,className:"task-detail-right",children:[Object(O.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:Object(O.jsxs)("span",{children:[Object(O.jsx)("i",{className:"feather icon-file-text m-r-5"}),"Documentos"]})}),Object(O.jsx)("div",{style:{flexWrap:"wrap",width:"100%",display:"flex",marginBottom:"15px",flexDirection:"row",borderBottom:"1px solid #d2b32a",borderTop:"1px solid #d2b32a",paddingTop:"20px",paddingBottom:"20px",marginTop:"5px",overflow:"auto",height:"70px"},children:"undefined"!=typeof l.doclist?l.doclist.map((e,t)=>Object(O.jsx)(h.b,{onClick:()=>function(e,t){Ie(e),De(t)}(t,e.url),style:{margin:"2px",color:t===Ce?"#d2b32a":"#6c757d"},to:"#",className:"mb-1  d-flex align-items-end text-h-primary",children:"::"+e.nome},e.id)):null}),Object(O.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",marginBottom:"10px"},children:Object(O.jsxs)("span",{children:[Object(O.jsx)("i",{className:"feather icon-eye m-r-5"}),"Pr\xe9-vizualiza\xe7\xe3o"]})}),"pdf"!==(null===Ee||void 0===Ee?void 0:Ee.substring((null===Ee||void 0===Ee?void 0:Ee.lastIndexOf("."))+1))?Object(O.jsx)("a",{href:Ee+"?alt=media&token=0",target:"_blank",rel:"noopener noreferrer",children:Object(O.jsx)("div",{className:""==Ee?"previewdoc":"previewdoc-img",style:{backgroundImage:'url("'+Ee+'?alt=media&token=0")',height:"450px"}})}):Object(O.jsx)("object",{data:"".concat(Ee+"?alt=media&token=0"),type:"application/pdf",width:"100%",height:"450px",children:Object(O.jsxs)("p",{children:["Alternative text - include a link ",Object(O.jsx)("a",{href:"myfile.pdf",children:"to the PDF!"})]})})]})]})}),Object(O.jsxs)(j.a.Footer,{children:[Object(O.jsx)(r.a,{variant:"danger",onClick:()=>Ve(!1),children:"Fechar"}),0==Object(N.s)(a,t,"Editar")?null:Object(O.jsx)(r.a,{variant:"primary",onClick:()=>Se(l.ID),children:"Editar"})]})]})]})})})}},817:function(e,t,a){"use strict";var l=a(2),s=a(3),c=a(6),n=a.n(c),o=a(0),r=a.n(o),i=a(9),d=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],j=r.a.forwardRef(function(e,t){var a=e.bsPrefix,c=e.className,o=e.striped,j=e.bordered,m=e.borderless,b=e.hover,h=e.size,x=e.variant,O=e.responsive,p=Object(s.a)(e,d),u=Object(i.a)(a,"table"),g=n()(c,u,x&&u+"-"+x,h&&u+"-"+h,o&&u+"-striped",j&&u+"-bordered",m&&u+"-borderless",b&&u+"-hover"),f=r.a.createElement("table",Object(l.a)({},p,{className:g,ref:t}));if(O){var N=u+"-responsive";return"string"===typeof O&&(N=N+"-"+O),r.a.createElement("div",{className:N},f)}return f});t.a=j},818:function(e,t,a){"use strict";var l=a(2),s=a(3),c=a(6),n=a.n(c),o=a(0),r=a.n(o),i=a(9),d=a(131),j=["active","disabled","className","style","activeLabel","children"],m=["children"],b=r.a.forwardRef(function(e,t){var a=e.active,c=e.disabled,o=e.className,i=e.style,m=e.activeLabel,b=e.children,h=Object(s.a)(e,j),x=a||c?"span":d.a;return r.a.createElement("li",{ref:t,style:i,className:n()(o,"page-item",{active:a,disabled:c})},r.a.createElement(x,Object(l.a)({className:"page-link",disabled:c},h),b,a&&m&&r.a.createElement("span",{className:"sr-only"},m)))});b.defaultProps={active:!1,disabled:!1,activeLabel:"(current)"},b.displayName="PageItem";var h=b;function x(e,t,a){function l(e){var l=e.children,c=Object(s.a)(e,m);return r.a.createElement(b,c,r.a.createElement("span",{"aria-hidden":"true"},l||t),r.a.createElement("span",{className:"sr-only"},a))}return void 0===a&&(a=e),l.displayName=e,l}var O=x("First","\xab"),p=x("Prev","\u2039","Previous"),u=x("Ellipsis","\u2026","More"),g=x("Next","\u203a"),f=x("Last","\xbb"),N=["bsPrefix","className","children","size"],v=r.a.forwardRef(function(e,t){var a=e.bsPrefix,c=e.className,o=e.children,d=e.size,j=Object(s.a)(e,N),m=Object(i.a)(a,"pagination");return r.a.createElement("ul",Object(l.a)({ref:t},j,{className:n()(c,m,d&&m+"-"+d)}),o)});v.First=O,v.Prev=p,v.Ellipsis=u,v.Item=h,v.Next=g,v.Last=f;t.a=v}}]);
//# sourceMappingURL=71.64fed79b.chunk.js.map