(this["webpackJsonpigj-frontend"]=this["webpackJsonpigj-frontend"]||[]).push([[22],{817:function(e,a,t){"use strict";var s=t(2),c=t(3),r=t(6),n=t.n(r),l=t(0),i=t.n(l),o=t(9),d=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],j=i.a.forwardRef(function(e,a){var t=e.bsPrefix,r=e.className,l=e.striped,j=e.bordered,b=e.borderless,O=e.hover,m=e.size,u=e.variant,h=e.responsive,p=Object(c.a)(e,d),x=Object(o.a)(t,"table"),g=n()(r,x,u&&x+"-"+u,m&&x+"-"+m,l&&x+"-striped",j&&x+"-bordered",b&&x+"-borderless",O&&x+"-hover"),f=i.a.createElement("table",Object(s.a)({},p,{className:g,ref:a}));if(h){var v=x+"-responsive";return"string"===typeof h&&(v=v+"-"+h),i.a.createElement("div",{className:v},f)}return f});a.a=j},818:function(e,a,t){"use strict";var s=t(2),c=t(3),r=t(6),n=t.n(r),l=t(0),i=t.n(l),o=t(9),d=t(131),j=["active","disabled","className","style","activeLabel","children"],b=["children"],O=i.a.forwardRef(function(e,a){var t=e.active,r=e.disabled,l=e.className,o=e.style,b=e.activeLabel,O=e.children,m=Object(c.a)(e,j),u=t||r?"span":d.a;return i.a.createElement("li",{ref:a,style:o,className:n()(l,"page-item",{active:t,disabled:r})},i.a.createElement(u,Object(s.a)({className:"page-link",disabled:r},m),O,t&&b&&i.a.createElement("span",{className:"sr-only"},b)))});O.defaultProps={active:!1,disabled:!1,activeLabel:"(current)"},O.displayName="PageItem";var m=O;function u(e,a,t){function s(e){var s=e.children,r=Object(c.a)(e,b);return i.a.createElement(O,r,i.a.createElement("span",{"aria-hidden":"true"},s||a),i.a.createElement("span",{className:"sr-only"},t))}return void 0===t&&(t=e),s.displayName=e,s}var h=u("First","\xab"),p=u("Prev","\u2039","Previous"),x=u("Ellipsis","\u2026","More"),g=u("Next","\u203a"),f=u("Last","\xbb"),v=["bsPrefix","className","children","size"],N=i.a.forwardRef(function(e,a){var t=e.bsPrefix,r=e.className,l=e.children,d=e.size,j=Object(c.a)(e,v),b=Object(o.a)(t,"pagination");return i.a.createElement("ul",Object(s.a)({ref:a},j,{className:n()(r,b,d&&b+"-"+d)}),l)});N.First=h,N.Prev=p,N.Ellipsis=x,N.Item=m,N.Next=g,N.Last=f;a.a=N},830:function(e,a,t){"use strict";var s=t(8),c=t(0),r=t(812),n=t(404),l=t(403),i=t(818),o=t(817),d=t(816),j=t(1);const b=e=>{let{filter:a,setFilter:t}=e;const[s,r]=Object(c.useState)(a),n=Object(d.useAsyncDebounce)(e=>{t(e||void 0)},1e3);return Object(j.jsxs)("span",{className:"d-flex align-items-center justify-content-end",children:["Procurar:"," ",Object(j.jsx)("input",{className:"form-control ml-2 w-auto",value:s||"",onChange:e=>{r(e.target.value),n(e.target.value)}})]})};var O=t(76);a.a=e=>{let{columns:a,data:t,entity:c,modalOpen:m,permissoes:u,pageAcess:h}=e;const{getTableProps:p,getTableBodyProps:x,headerGroups:g,prepareRow:f,globalFilter:v,setGlobalFilter:N,page:C,canPreviousPage:y,canNextPage:S,pageOptions:k,pageCount:A,gotoPage:E,nextPage:w,previousPage:F,setPageSize:I,state:{pageIndex:P,pageSize:D}}=Object(d.useTable)({columns:a,data:t,initialState:{pageIndex:0,pageSize:10}},d.useGlobalFilter,d.useSortBy,d.usePagination);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(r.a,{className:"mb-3",children:[Object(j.jsxs)(n.a,{className:"d-flex align-items-center",children:["Mostrar",Object(j.jsx)("select",{className:"form-control w-auto mx-2",value:D,onChange:e=>{I(Number(e.target.value))},children:[5,10,20,30,40,50].map(e=>Object(j.jsx)("option",{value:e,children:e},e))}),"entradas"]}),Object(j.jsxs)(n.a,{className:"d-flex justify-content-end",children:[Object(j.jsx)(b,{filter:v,setFilter:N}),"campos"===c?0==Object(O.s)(h,u,"Criar")||t.length>=8?null:Object(j.jsxs)(l.a,{variant:"primary",className:"btn-sm btn-round has-ripple ml-2",onClick:m,children:[Object(j.jsx)("i",{className:"feather icon-plus"})," Adicionar"]}):0==Object(O.s)(h,u,"Criar")?null:Object(j.jsxs)(l.a,{variant:"primary",className:"btn-sm btn-round has-ripple ml-2",onClick:m,children:[Object(j.jsx)("i",{className:"feather icon-plus"})," Adicionar"]})]})]}),Object(j.jsxs)(o.a,Object(s.a)(Object(s.a)({striped:!0,bordered:!0,hover:!0,responsive:!0},p()),{},{children:[Object(j.jsx)("thead",{children:g.map(e=>Object(j.jsx)("tr",Object(s.a)(Object(s.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map(e=>Object(j.jsxs)("th",Object(s.a)(Object(s.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),Object(j.jsx)("span",{children:e.isSorted?e.isSortedDesc?Object(j.jsx)("span",{className:"feather icon-arrow-down text-muted float-right"}):Object(j.jsx)("span",{className:"feather icon-arrow-up text-muted float-right"}):""})]})))})))}),Object(j.jsx)("tbody",Object(s.a)(Object(s.a)({},x()),{},{children:C.map((e,a)=>(f(e),console.log(c),Object(j.jsx)("tr",Object(s.a)(Object(s.a)({},e.getRowProps()),{},{children:e.cells.map(e=>{console.log(e);const a=e.column.centered;return Object(j.jsxs)(j.Fragment,{children:[void 0===c&&Object(j.jsx)("td",Object(s.a)(Object(s.a)({className:a?"text-center":"text-right"},e.getCellProps()),{},{children:e.render("Cell")})),"campos"===c&&Object(j.jsx)("td",Object(s.a)(Object(s.a)({className:a?"text-center":"text-right"},e.getCellProps()),{},{children:"1"===e.value?Object(j.jsx)("div",{className:"text-center",children:Object(j.jsxs)("svg",{width:"25",height:"25",viewBox:"0 0 42 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(j.jsx)("path",{d:"M15.5586 18.3327L20.7447 23.3327L38.0319 6.66602",stroke:"#167538","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),Object(j.jsx)("path",{d:"M36.3043 20V31.6667C36.3043 32.5507 35.9401 33.3986 35.2917 34.0237C34.6433 34.6488 33.7639 35 32.8469 35H8.64493C7.72796 35 6.84855 34.6488 6.20016 34.0237C5.55176 33.3986 5.1875 32.5507 5.1875 31.6667V8.33333C5.1875 7.44928 5.55176 6.60143 6.20016 5.97631C6.84855 5.35119 7.72796 5 8.64493 5H27.6608",stroke:"#167538","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})]})}):"0"===e.value?Object(j.jsx)("div",{className:"text-center",children:Object(j.jsxs)("svg",{width:"25",height:"25",viewBox:"0 0 45 45",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(j.jsx)("path",{d:"M22.5 41.25C32.8553 41.25 41.25 32.8553 41.25 22.5C41.25 12.1447 32.8553 3.75 22.5 3.75C12.1447 3.75 3.75 12.1447 3.75 22.5C3.75 32.8553 12.1447 41.25 22.5 41.25Z",stroke:"#EC1C24","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),Object(j.jsx)("path",{d:"M28.125 16.875L16.875 28.125",stroke:"#EC1C24","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),Object(j.jsx)("path",{d:"M16.875 16.875L28.125 28.125",stroke:"#EC1C24","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})]})}):e.value}))]})})}))))}))]})),Object(j.jsxs)(r.a,{className:"justify-content-between",children:[Object(j.jsx)(n.a,{children:Object(j.jsxs)("span",{className:"d-flex align-items-center",children:["P\xe1gina"," "," ",Object(j.jsxs)("strong",{children:[" ",P+1," de ",k.length," "]})," ","| Ir para a p\xe1gina:"," ",Object(j.jsx)("input",{type:"number",className:"form-control ml-2",defaultValue:P+1,onChange:e=>{const a=e.target.value?Number(e.target.value)-1:0;E(a)},style:{width:"100px"}})]})}),Object(j.jsx)(n.a,{children:Object(j.jsxs)(i.a,{className:"justify-content-end",children:[Object(j.jsx)(i.a.First,{onClick:()=>E(0),disabled:!y}),Object(j.jsx)(i.a.Prev,{onClick:()=>F(),disabled:!y}),Object(j.jsx)(i.a.Next,{onClick:()=>w(),disabled:!S}),Object(j.jsx)(i.a.Last,{onClick:()=>E(A-1),disabled:!S})]})})]})]})}},970:function(e,a,t){"use strict";t.r(a);var s=t(0),c=t.n(s),r=t(812),n=t(404),l=t(839),i=t(814),o=t(807),d=t(403),j=t(240),b=t.n(j),O=t(7),m=t(32),u=t(26),h=t(22),p=t(76),x=t(830),g=t(1);const f="/configuracao/campos";a.default=()=>{const{permissoes:e}=Object(u.a)(),a=Object(h.g)(),{popUp_removerItem:t,popUp_alertaOK:j}=Object(u.a)(),[v,N]=Object(s.useState)([]),[C,y]=Object(s.useState)("campos");const S=c.a.useMemo(()=>[{Header:"C\xf3digo",accessor:"CODIGO",centered:!1},{Header:"Campos",accessor:"DESIG",centered:!0},{Header:" PESSOA",accessor:"FLAG_PESSOA",centered:!0},{Header:"DECIS\xc3O",accessor:"FLAG_DECISAO",centered:!0},{Header:"ANEXAR DOC",accessor:"FLAG_ANEXO_DOC",centered:!0},{Header:"OBSERVA\xc7\xc3O",accessor:"FLAG_OBS",centered:!0},{Header:"DESTINAT\xc1RIO",accessor:"FLAG_DESTINATARIO",centered:!0},{Header:" INFRAC\xc3O COIMA",accessor:"FLAG_INFRACAO_COIMA",centered:!0},{Header:" PERI\xd3DO EXCLUS\xc3O",accessor:"FLAG_PERIODO_EXCLUSAO",centered:!0},{Header:" TEXTO",accessor:"FLAG_TEXTO",centered:!0},{Header:"A\xe7\xf5es",accessor:"action",centered:!0}],[]),[k,A]=Object(s.useState)(""),[E,w]=Object(s.useState)(""),[F,I]=Object(s.useState)("0"),[P,D]=Object(s.useState)("0"),[L,G]=Object(s.useState)("0"),[_,T]=Object(s.useState)("0"),[H,R]=Object(s.useState)("0"),[B,M]=Object(s.useState)("0"),[z,X]=Object(s.useState)("0"),[V,U]=Object(s.useState)("0"),[q,J]=Object(s.useState)(""),[K,Z]=Object(s.useState)(""),[Q,W]=Object(s.useState)(""),[Y,$]=Object(s.useState)({}),[ee,ae]=Object(s.useState)([]);async function te(){try{const t=await m.a.get("/sigjprcampo");if("200"==t.status){for(var a=0;a<t.data.length;a++){const s=t.data[a].ID;t.data[a].id=t.data[a].ID,t.data[a].id=t.data[a].ID;const r=t.data[a];t.data[a].action=Object(g.jsxs)(c.a.Fragment,{children:[0==Object(p.s)(f,e,"Ler")?null:Object(g.jsx)(O.b,{to:"#",title:Object(p.u)(f,e,"Ler"),onClick:()=>se(r),className:"text-primary mx-1",children:Object(g.jsx)("i",{className:"text-primary "+Object(p.t)(f,e,"Ler")})}),0==Object(p.s)(f,e,"Editar")?null:Object(g.jsx)(O.b,{to:"#",title:Object(p.u)(f,e,"Editar"),onClick:()=>ce(r),className:"text-primary mx-1",children:Object(g.jsx)("i",{className:"text-primary "+Object(p.t)(f,e,"Editar")})}),0==Object(p.s)(f,e,"Eliminar")?null:Object(g.jsx)(O.b,{to:"#",title:Object(p.u)(f,e,"Eliminar"),onClick:()=>le(s),className:"text-danger",children:Object(g.jsx)("i",{className:""+Object(p.t)(f,e,"Eliminar")})})]})}console.log(t.data),ae(t.data)}}catch(t){console.error(t.response)}}const se=e=>{Oe(!0),je(!1),oe(!1),$(e)},ce=e=>{je(!0),oe(!1),Oe(!1),$(e),Z(e.ID),A(e.CODIGO),w(e.DESIG)};function re(e){switch(W(e),M("0"),G("0"),T("0"),D("0"),U("0"),R("0"),X("0"),I("0"),e){case"coima":M("1");break;case"documento":G("1");break;case"obs":T("1");break;case"desicao":D("1");break;case"periodo":U("1");break;case"destinatario":R("1");break;case"texto":X("1");break;case"pessoa":I("1")}}const ne=async e=>{let a=!0;try{await m.a.delete("/sigjprcampo/"+e)}catch(t){a=!1,console.error(t.response),j("Falha. Tente mais tarde")}return te(),a},le=async e=>{t({delete:ne,id:e})};Object(s.useEffect)(()=>{0==Object(p.l)(f,e)?a.push("/"):(te(),async function(){try{const e=await m.a.get("/sigjprcampo");"200"==e.status&&N(e.data)}catch(e){console.error(e.response)}}())},[]);const[ie,oe]=Object(s.useState)(!1),[de,je]=Object(s.useState)(!1),[be,Oe]=Object(s.useState)(!1),[me,ue]=Object(s.useState)(!1);return Object(g.jsx)(c.a.Fragment,{children:Object(g.jsx)(r.a,{children:Object(g.jsxs)(n.a,{sm:12,children:[Object(g.jsx)(l.a,{children:Object(g.jsx)(l.a.Body,{children:Object(g.jsx)(x.a,{entity:C,columns:S,data:ee,modalOpen:()=>{oe(!0),je(!1),Oe(!1),A("*"),w("")},permissoes:e,pageAcess:f})})}),Object(g.jsxs)(i.a,{size:"lg",show:ie,onHide:()=>oe(!1),children:[Object(g.jsx)(i.a.Header,{closeButton:!0,children:Object(g.jsx)(i.a.Title,{as:"h5",children:"Criar"})}),Object(g.jsx)(i.a.Body,{className:"newuserbox",children:Object(g.jsxs)("form",{className:"campos w-100",id:"criarItem",onSubmit:async function(e){if(e.preventDefault(),null==Q||""===Q)return;const a={DESIG:E,FLAG_PESSOA:F,FLAG_DECISAO:P,FLAG_ANEXO_DOC:L,FLAG_OBS:_,FLAG_DESTINATARIO:H,FLAG_INFRACAO_COIMA:B,FLAG_PERIODO_EXCLUSAO:V,FLAG_TEXTO:z,ESTADO:"1"};console.log(a);try{"200"==(await m.a.post("/sigjprcampo",a)).status&&(te(),oe(!1))}catch(t){400===t.response.status&&(b.a.error(t.response.data.message,{duration:4e3}),console.error(t.response))}},children:[Object(g.jsxs)(r.a,{children:[Object(g.jsx)(n.a,{sm:4,children:Object(g.jsxs)("div",{className:"form-group fill",children:[Object(g.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["C\xf3digo ",Object(g.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(g.jsx)("input",{disabled:!0,type:"text",className:"form-control",id:"Name",value:k})]})}),Object(g.jsx)(n.a,{sm:8,children:Object(g.jsxs)("div",{className:"form-group fill",children:[Object(g.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Designa\xe7\xe3o",Object(g.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(g.jsx)("input",{type:"text",className:"form-control",id:"Name",onChange:e=>{w(e.target.value)},defaultValue:E,required:!0})]})})]}),Object(g.jsxs)(r.a,{className:"mb-3",children:[Object(g.jsx)(n.a,{sm:3,children:Object(g.jsx)(o.a.Check,{inline:!0,label:"Infra\xe7\xe3o Coima",name:"fields",type:"radio",id:"coima",value:"coima",onChange:e=>re(e.target.value)})}),Object(g.jsx)(n.a,{sm:3,children:Object(g.jsx)(o.a.Check,{inline:!0,label:"Anexar Documentos",name:"fields",type:"radio",id:"documento",value:"documento",onChange:e=>re(e.target.value)})}),Object(g.jsx)(n.a,{sm:3,children:Object(g.jsx)(o.a.Check,{inline:!0,label:"Pessoa",name:"fields",type:"radio",id:"pessoa",value:"pessoa",onChange:e=>re(e.target.value)})}),Object(g.jsx)(n.a,{sm:3,children:Object(g.jsx)(o.a.Check,{inline:!0,label:"Texto",name:"fields",type:"radio",id:"texto",value:"texto",onChange:e=>re(e.target.value)})})]}),Object(g.jsxs)(r.a,{children:[Object(g.jsx)(n.a,{sm:3,children:Object(g.jsx)(o.a.Check,{inline:!0,label:"Destinat\xe1rio",name:"fields",type:"radio",id:"destinatario",value:"destinatario",onChange:e=>re(e.target.value)})}),Object(g.jsx)(n.a,{sm:3,children:Object(g.jsx)(o.a.Check,{inline:!0,label:"Per\xedodo Exclus\xe3o",name:"fields",type:"radio",id:"periodo",value:"periodo",onChange:e=>re(e.target.value)})}),Object(g.jsx)(n.a,{sm:3,children:Object(g.jsx)(o.a.Check,{inline:!0,label:"Decis\xe3o",name:"fields",type:"radio",id:"desicao",value:"desicao",onChange:e=>re(e.target.value)})}),Object(g.jsx)(n.a,{sm:3,children:Object(g.jsx)(o.a.Check,{inline:!0,label:"Observa\xe7\xe3o",name:"fields",type:"radio",id:"obs",value:"obs",onChange:e=>re(e.target.value)})})]})]})}),Object(g.jsxs)(i.a.Footer,{children:[Object(g.jsx)(d.a,{variant:"danger",onClick:()=>oe(!1),children:"Fechar"}),Object(g.jsx)(d.a,{type:"submit",form:"criarItem",variant:"primary",children:"Guardar"})]})]}),Object(g.jsxs)(i.a,{size:"lg",show:de,onHide:()=>je(!1),children:[Object(g.jsx)(i.a.Header,{closeButton:!0,children:Object(g.jsx)(i.a.Title,{as:"h5",children:"Criar"})}),Object(g.jsx)(i.a.Body,{className:"newuserbox",children:Object(g.jsx)("form",{className:"campos w-100",id:"criarItem",onSubmit:async function(e){e.preventDefault();const a={DESIG:E};console.log(a);try{"200"==(await m.a.put("/sigjprcampo/"+Y.ID,a)).status&&(te(),je(!1))}catch(t){400===t.response.status&&(b.a.error(t.response.data.message,{duration:4e3}),console.error(t.response)),console.error(t.response)}},children:Object(g.jsxs)(r.a,{children:[Object(g.jsx)(n.a,{sm:4,children:Object(g.jsxs)("div",{className:"form-group fill",children:[Object(g.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["C\xf3digo ",Object(g.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(g.jsx)("input",{disabled:!0,type:"text",className:"form-control",id:"Name",value:k})]})}),Object(g.jsx)(n.a,{sm:8,children:Object(g.jsxs)("div",{className:"form-group fill",children:[Object(g.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Designa\xe7\xe3o",Object(g.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(g.jsx)("input",{type:"text",className:"form-control",id:"Name",onChange:e=>{w(e.target.value)},defaultValue:E,required:!0})]})})]})})}),Object(g.jsxs)(i.a.Footer,{children:[Object(g.jsx)(d.a,{variant:"danger",onClick:()=>je(!1),children:"Fechar"}),Object(g.jsx)(d.a,{type:"submit",form:"criarItem",variant:"primary",children:"Guardar"})]})]})]})})})}}}]);
//# sourceMappingURL=22.be9afcd0.chunk.js.map