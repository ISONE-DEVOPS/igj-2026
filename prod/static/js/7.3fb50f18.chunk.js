(this["webpackJsonpigj-frontend"]=this["webpackJsonpigj-frontend"]||[]).push([[7],{823:function(e,s,t){"use strict";var a=t(0),o=t(814),i=t(812),n=t(404),l=t(403),r=t(7),c=t(1);s.a=e=>{let{Open:s,setOpen:t,list:d}=e;const[p,j]=Object(a.useState)(""),[u,g]=Object(a.useState)("");return Object(a.useEffect)(()=>{console.log("ROberto",d),j("")},[d]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(o.a,{size:"lg",show:s,onHide:()=>t(!1),children:[Object(c.jsx)(o.a.Body,{children:Object(c.jsx)(i.a,{children:Object(c.jsxs)(n.a,{xl:12,className:"task-detail-right",children:[Object(c.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"spaceAround"},children:Object(c.jsxs)("span",{style:{paddingBottom:"4px",cursor:"pointer",borderBottom:"2px solid #d2b32a",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(c.jsx)("i",{className:"feather icon-file-text m-r-5"}),"Anexos"]})}),Object(c.jsxs)("div",{style:{width:"100%",height:"500px"},children:[Object(c.jsx)("div",{style:{width:"100%",borderBottom:"1px solid #d2b32a",paddingTop:"20px",paddingBottom:"20px",marginBottom:"20px",overflow:"auto",height:"70px"},children:"undefined"!=typeof d?d.map(e=>{var s;return Object(c.jsx)(r.b,{onClick:()=>{var s,t,a,o;"PDF"==(null===(s=e.DOC_URL)||void 0===s?void 0:s.substring((null===(t=e.DOC_URL)||void 0===t?void 0:t.lastIndexOf("."))+1))||"pdf"==(null===(a=e.DOC_URL)||void 0===a?void 0:a.substring((null===(o=e.DOC_URL)||void 0===o?void 0:o.lastIndexOf("."))+1))?g(e.DOC_URL):j(e.DOC_URL)},style:{margin:"2px"},to:"#",className:"mb-1 text-muted d-flex align-items-end text-h-primary",children:"::"+(null===e||void 0===e||null===(s=e.sgigjprdocumentotp)||void 0===s?void 0:s.DESIG)},e.ID)}):null}),Object(c.jsx)("div",{style:{width:"100%",display:p?"flex":"none",justifyContent:"center",marginBottom:"10px"},children:Object(c.jsxs)("span",{children:[Object(c.jsx)("i",{className:"fas fa-eye m-r-5"}),"Pr\xe9-vizualiza\xe7\xe3o"]})}),Object(c.jsx)("a",{style:{display:p?"block":"none"},href:p+"?alt=media&token=0",target:"_blank",rel:"noopener noreferrer",children:Object(c.jsx)("div",{className:""==p?"previewdoc":"previewdoc-img",style:{backgroundImage:'url("'+p+'?alt=media&token=0")',height:"350px"}})})]})]})})}),Object(c.jsx)(o.a.Footer,{children:Object(c.jsx)(l.a,{variant:"danger",onClick:()=>t(!1),children:"Fechar"})})]}),Object(c.jsx)(o.a,{size:"xl",show:u,onHide:()=>{g(null),setTimeout(()=>t(!0),150)},children:Object(c.jsx)("iframe",{height:1e3,src:u+"?alt=media&token=0",title:"pdf-viewer",width:"100%s"})})]})}},875:function(e,s,t){"use strict";t.r(s);var a=t(8),o=t(0),i=t.n(o),n=t(812),l=t(404),r=t(403),c=t(840),d=t(814),p=t(807),j=t(240),u=t.n(j),g=t(7),m=t(816),O=t(1);const b=e=>{let{filter:s,setFilter:t}=e;const[a,i]=Object(o.useState)(s),n=Object(m.useAsyncDebounce)(e=>{t(e||void 0)},1e3);return Object(O.jsxs)("span",{className:"d-flex align-items-center justify-content-end",children:["Procurar:"," ",Object(O.jsx)("input",{className:"form-control ml-2 w-auto",value:a||"",onChange:e=>{i(e.target.value),n(e.target.value)}})]})};var h=t(818),f=t(817),x=t(32),v=t(24),y=t(22),_=t(83),C=t(822);var D=e=>{let{uploadlist:s,voltar:t,InterrompidoTipo:i,setInterrompidoTipo:c,INSTRUCAO_ID:j}=e;const[u,g]=Object(o.useState)(!1),[m,b]=Object(o.useState)(""),{popUp_alertaOK:h}=Object(v.a)(),[f,y]=Object(o.useState)([]),[_,C]=Object(o.useState)(-1),[D,I]=Object(o.useState)([{id:Date.now(),tipodocumento:"",numero:"",dataemissao:"",datavalidade:"",anexo:{type:0,file:null},main:""}]),[S,N]=Object(o.useState)(!1),[A,E]=Object(o.useState)(!1);Object(o.useEffect)(()=>{g(""!==i),async function(){try{const e=await x.a.get("/sgigjprdocumentotp");"200"==e.status&&y(e.data)}catch(e){console.error(e.response)}}()},[i]);const R=(e,s,t)=>{I(o=>o.map(o=>o.id===e?Object(a.a)(Object(a.a)({},o),{},{[s]:t}):o)),N(!0)};async function w(e){var s={status:!1,file:null};try{const t=new FormData;t.append("file",e);const a={headers:{"content-type":"multipart/form-data"}};s={status:!0,file:await x.a.post("/upload",t,a)}}catch(t){console.error(t.response),s={status:!1,file:null}}return s}return Object(O.jsxs)(d.a,{size:"lg",show:u,onHide:()=>g(!1),children:[Object(O.jsx)(d.a.Header,{closeButton:!0,children:Object(O.jsx)(d.a.Title,{as:"h5",children:"A"===i?"Arquivar":"Prescrever"})}),Object(O.jsx)(d.a.Body,{children:Object(O.jsxs)("form",{id:"GO",onSubmit:async e=>{e.preventDefault();let a=!1,o=[];try{for(let e=0;e<D.length;e++){if(console.log("pkoko",D[e]),!D[e].anexo||null==D[e].anexo.file)return void h("Por favor anexa documento");if(1!==f.find(s=>s.ID===D[e].tipodocumento).IDENTIFICACAO||""!=D[e].datavalidade&&""!=D[e].numero&&""!=D[e].dataemissao){if(""!=D[e].tipodocumento&&""!=D[e].numero){var n="";if("1"==D[e].anexo.type&&(n=D[e].anexo.file),"2"==D[e].anexo.type){n=(await w(D[e].anexo.file)).file.data}const s={PR_DOCUMENTO_TP_ID:D[e].tipodocumento,NUMERO:D[e].numero,DOC_URL:n,DT_EMISSAO:D[e].dataemissao,DT_VALIDADE:D[e].datavalidade,ESTADO:"1",MAIN:D[e].main};if(o.push(s),a){E(!1),h("Preenche os campos que representam um documento de identifica\xe7\xe3o");break}}}else a=!0}try{200===(await x.a.put("/sgigjrelprocessoinstrucao/".concat(j,"/interrompido"),{OBS:m,TIPO:i,documentos:o})).status&&(c(""),s(),t())}catch(l){console.error(l.response)}}catch(l){console.error(l.response)}},children:[Object(O.jsx)(n.a,{children:Object(O.jsx)(l.a,{sm:12,children:Object(O.jsxs)(p.a.Group,{children:[Object(O.jsxs)(p.a.Label,{children:["Justifica\xe7\xe3o ",Object(O.jsx)("span",{className:"text-danger",children:"*"})]}),Object(O.jsx)(p.a.Control,{as:"textarea",rows:3,style:{height:"250px"},required:!0,value:m,onChange:e=>b(e.target.value),placeholder:"Justifica\xe7\xe3o..."})]})})}),D.map((e,s)=>{const t=f.find(s=>s.ID===parseInt(e.tipodocumento,10)),a=1===(null===t||void 0===t?void 0:t.IDENTIFICACAO);return Object(O.jsxs)(n.a,{className:"mb-3",children:[Object(O.jsx)(l.a,{sm:12,children:Object(O.jsxs)(n.a,{children:[Object(O.jsx)(l.a,{sm:4,children:Object(O.jsxs)(p.a.Group,{children:[Object(O.jsxs)(p.a.Label,{children:["Tipo de Documento"," ",Object(O.jsx)("span",{className:"text-danger",children:"*"})]}),Object(O.jsxs)(p.a.Control,{as:"select",required:!0,onChange:s=>R(e.id,"tipodocumento",s.target.value),children:[Object(O.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),f.map(e=>Object(O.jsx)("option",{value:e.ID,children:e.DESIG},e.ID))]})]})}),Object(O.jsx)(l.a,{sm:4,children:Object(O.jsxs)(p.a.Group,{children:[Object(O.jsxs)(p.a.Label,{children:["N\xfamero ",Object(O.jsx)("span",{className:"text-danger",children:"*"})]}),Object(O.jsx)(p.a.Control,{required:!0,type:"text",onChange:s=>R(e.id,"numero",s.target.value)})]})}),Object(O.jsxs)(l.a,{sm:4,className:"d-flex",style:{alignItems:"center",paddingTop:"20px"},children:[Object(O.jsxs)(r.a,{style:{backgroundColor:"#d2b32a",color:"#fff"},as:"label",htmlFor:"anexar".concat(e.id),children:[" ",e.anexo.file?"Anexado":"Anexar"," "]}),Object(O.jsx)(p.a.Control,{type:"file",id:"anexar".concat(e.id),style:{display:"none"},accept:"image/png,image/jpeg",onChange:s=>((e,s)=>{const t=D.find(s=>s.id===e);t.tipodocumento&&t.numero?R(e,"anexo",{type:2,file:s}):h("Preencha os campos obrigat\xf3rios")})(e.id,s.target.files[0])}),Object(O.jsx)(p.a.Check,{style:{marginLeft:"10px",paddingTop:"-100px"},inline:!0,type:"radio",name:"documento",onChange:()=>C(s),label:"Usar este"})]}),Object(O.jsx)(l.a,{sm:6,children:Object(O.jsxs)(p.a.Group,{children:[Object(O.jsxs)(p.a.Label,{children:["Data de Emiss\xe3o"," ",a&&Object(O.jsx)("span",{className:"text-danger",children:"*"})]}),Object(O.jsx)(p.a.Control,{type:"date",required:a,onChange:s=>R(e.id,"dataemissao",s.target.value)})]})}),Object(O.jsx)(l.a,{sm:6,children:Object(O.jsxs)(p.a.Group,{children:[Object(O.jsxs)(p.a.Label,{children:["Data de Validade"," ",a&&Object(O.jsx)("span",{className:"text-danger",children:"*"})]}),Object(O.jsx)(p.a.Control,{type:"date",required:a,onChange:s=>R(e.id,"datavalidade",s.target.value)})]})})]})}),D.length>1&&Object(O.jsx)(l.a,{sm:2,className:"d-flex align-items-center",children:Object(O.jsx)(r.a,{variant:"danger",onClick:()=>{return s=e.id,void(D.length>1&&I(D.filter(e=>e.id!==s)));var s},children:Object(O.jsx)("i",{className:"feather icon-trash-2"})})})]},e.id)}),Object(O.jsx)(r.a,{variant:"secondary",onClick:()=>{I([...D,{id:Date.now(),tipodocumento:"",numero:"",dataemissao:"",datavalidade:"",anexo:{type:0,file:null},main:""}])},children:"Adicionar Documento"})]})}),Object(O.jsxs)(d.a.Footer,{children:[Object(O.jsx)(r.a,{type:"submit",form:"GO",variant:"primary",children:"A"===i?"Arquivar":"Prescrever"}),Object(O.jsx)(r.a,{variant:"danger",onClick:()=>g(!1),children:"Fechar"})]})]})},I=t(820),S=t.n(I);(new Date).toISOString().slice(0,10);var N=e=>{let{data:s}=e;const t=i.a.useMemo(()=>[{Header:"Pe\xe7as Processual",accessor:"PECAS"},{Header:"Data",accessor:"DATA2"},{Header:"Anexos",accessor:"ANEXOS"},{Header:"A\xe7\xf5es",accessor:"action"}],[]),{getTableProps:o,getTableBodyProps:n,headerGroups:l,prepareRow:r,page:c,setPageSize:d,state:{pageIndex:p,pageSize:j}}=Object(m.useTable)({columns:t,data:s,initialState:{pageIndex:0,pageSize:Number.MAX_VALUE}},m.useGlobalFilter,m.useSortBy,m.usePagination);return Object(O.jsxs)(f.a,Object(a.a)(Object(a.a)({striped:!0,bordered:!0,hover:!0,responsive:!0},o()),{},{children:[Object(O.jsx)("thead",{children:l.map(e=>Object(O.jsx)("tr",Object(a.a)(Object(a.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map(e=>Object(O.jsxs)("th",Object(a.a)(Object(a.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),Object(O.jsx)("span",{children:e.isSorted?e.isSortedDesc?Object(O.jsx)("span",{className:"feather icon-arrow-down text-muted float-right"}):Object(O.jsx)("span",{className:"feather icon-arrow-up text-muted float-right"}):""})]})))})))}),Object(O.jsx)("tbody",Object(a.a)(Object(a.a)({},n()),{},{children:c.map((e,s)=>(r(e),Object(O.jsx)("tr",Object(a.a)(Object(a.a)({},e.getRowProps()),{},{children:e.cells.map(e=>Object(O.jsx)("td",Object(a.a)(Object(a.a)({},e.getCellProps()),{},{children:e.render("Cell")})))}))))}))]}))},A=t(823),E=t(821),R=t(825);function w(e){let{k:s,value:t,set:a}=e;const[i,n]=Object(o.useState)([]);return Object(o.useEffect)(()=>{!async function(){try{const e=await x.a.get("/sgigjprdecisaotp");"200"==e.status&&n(e.data)}catch(e){console.error(e.response)}}()}),Object(O.jsx)(l.a,{sm:12,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Decis\xe3o ",Object(O.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(O.jsxs)("select",{value:t,className:"form-control",onChange:e=>{a(s,e.target.value)},id:"perfil",required:!0,"aria-required":"true",children:[Object(O.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),i.map(e=>Object(O.jsx)("option",{value:e.ID,children:e.DESIG},e.ID))]})]})})}function T(e){let{k:s,value:t,set:i}=e;const[n,r]=Object(o.useState)([]);return Object(o.useEffect)(()=>{!async function(){try{const e=await x.a.get("/sgigjinfracaocoima");"200"==e.status&&r(e.data)}catch(e){console.error(e.response)}}()},[]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(l.a,{sm:8,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsx)("label",{className:"floating-label",htmlFor:"Name",children:"Infra\xe7\xe3o"}),Object(O.jsxs)("select",{id:"perfil",value:null===t||void 0===t?void 0:t.INFRACAO,onChange:e=>{i(s,Object(a.a)(Object(a.a)({},t),{},{INFRACAO:e.target.value}))},className:"form-control",required:!0,"aria-required":"true",children:[Object(O.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),n.map(e=>{var s;return Object(O.jsx)("option",{value:e.ID,children:null===e||void 0===e||null===(s=e.sgigjprinfracaotp)||void 0===s?void 0:s.DESIG},e.ID)})]})]})}),Object(O.jsx)(l.a,{sm:4,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsx)("label",{className:"floating-label",htmlFor:"Name",children:"Coima "}),Object(O.jsx)("input",{maxLength:"128",type:"number",onChange:e=>{i(s,Object(a.a)(Object(a.a)({},t),{},{COIMA:e.target.value}))},defaultValue:null===t||void 0===t?void 0:t.COIMA,className:"form-control",placeholder:"Valor...",required:!0})]})})]})}function P(e){let{k:s,value:t,set:a,documentolist:i,selected_relinstrucaopeca:n,ID_C:r,documentosgeral_lista_save:c,required:d=!0}=e;const[p,j]=Object(o.useState)([]);return Object(o.useEffect)(()=>{j(null==n?[]:n.sgigjreldocumento)},[n]),Object(O.jsx)(l.a,{sm:12,children:Object(O.jsx)(R.a,{required:d,documentolist:i,list:p,save:c,item:null==n?{ID:r,ENTIDADE:"REL_INSTRUTOR_PECAS_ID"}:{ID:n.ID,ENTIDADE:"REL_INSTRUTOR_PECAS_ID"},hidden:!0})})}function q(e){let{k:s,value:t,set:a,obsRef:o}=e;return Object(O.jsx)(l.a,{sm:12,children:Object(O.jsx)("div",{className:"form-group fill",children:Object(O.jsx)(S.a,{value:t,config:{readonly:!1},ref:o})})})}function F(e){let{k:s,value:t,set:a,selected_relinstrucaopeca:i,pessoalist:n,documentolist:c}=e;const[d,p]=Object(o.useState)([]),[j,u]=Object(o.useState)([]),[g,m]=Object(o.useState)([]),[b,h]=Object(o.useState)([]),[f,v]=Object(o.useState)({code:0,value:!1}),[y,_]=Object(o.useState)([]);return Object(o.useEffect)(()=>{_(n),console.log(i),async function(){try{const e=await x.a.get("/sgigjprgenero");"200"==e.status&&p(e.data)}catch(e){console.error(e.response)}}(),async function(){try{const e=await x.a.get("/sgigjprestadocivil");"200"==e.status&&u(e.data)}catch(e){console.error(e.response)}}(),async function(){try{const e=await x.a.get("/glbgeografia");"200"==e.status&&m(e.data)}catch(e){console.error(e.response)}}(),async function(){try{const e=await x.a.get("/sgigjprcontactotp");"200"==e.status&&h(e.data)}catch(e){console.error(e.response)}}()},[]),Object(O.jsxs)(l.a,{sm:12,children:[Object(O.jsxs)("label",{className:"floating-label",htmlFor:"text",children:["Pessoa ",Object(O.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(O.jsxs)("div",{style:{display:"flex"},children:[Object(O.jsx)("div",{className:"form-group fill",style:{width:"100%"},children:Object(O.jsx)(E.a,{className:"basic-single",classNamePrefix:"select",onChange:e=>a(s,e.value),name:"pessoa",options:y,value:y.map(e=>e.ID==t?e:null),required:!0,menuPlacement:"auto",menuPosition:"fixed",placeholder:"Pessoa..."})}),Object(O.jsx)(r.a,{onClick:()=>v({code:f.code+1,value:!0}),style:{marginLeft:"8px",height:"38px"},variant:"primary",children:Object(O.jsx)("i",{className:"feather icon-plus"})})]}),Object(O.jsx)(C.a,{generolist:d,estadocivillist:j,glbgeografialist:g,documentolist:c,contactolist:b,pessoaopenDO:f,uploadpessoa:async function(){try{const s=await x.a.get("/sgigjpessoa");if("200"==s.status){for(var e=0;e<s.data.length;e++)s.data[e].value=s.data[e].ID,s.data[e].label=s.data[e].NOME;_(s.data)}}catch(s){console.error(s.response)}}})]})}function k(e){var s;let{DATA:t,peca:i,selected_relinstrucaopeca:c,pessoalist:d,documentolist:p,setdocumentosgeral_lista:j,item:g,uploadinstrucaopecaslist:m,setselected_relinstrucaopeca:b}=e;const[h,f]=Object(o.useState)(!1),[y,_]=Object(o.useState)(""),[C,D]=Object(o.useState)({}),{popUp_alertaOK:I}=Object(v.a)(),S=Object(o.useRef)();function N(e,s){D(Object(a.a)(Object(a.a)({},C),{},{[e]:s}))}function A(e){if(e)return"1"==e.FLAG_ANEXO_DOC?"ANEXO_DOC":"1"==e.FLAG_DECISAO?"DECISAO":"1"==e.FLAG_DESTINATARIO?"DESTINATARIO":"1"==e.FLAG_INFRACAO_COIMA?"INFRACAO_COIMA":"1"==e.FLAG_OBS?"OBS":"1"==e.FLAG_PERIODO_EXCLUSAO?"PERIODO_EXCLUSAO":"1"==e.FLAG_PESSOA?"PESSOA":"1"==e.FLAG_TEXTO?"TEXTO":void 0}Object(o.useEffect)(()=>{D({DESTINATARIO:null===c||void 0===c?void 0:c.DESTINATARIO_ID,PESSOA:null===c||void 0===c?void 0:c.PESSOA_TESTEMUNHA_ID,COIMA:null===c||void 0===c?void 0:c.COIMA,OBS:(null===c||void 0===c?void 0:c.OBS)||(null===i||void 0===i?void 0:i.OBS)||"",DECISAO:null===c||void 0===c?void 0:c.PR_DECISAO_TP_ID})},[c,i]);const E=(null===i||void 0===i||null===(s=i.sgigjrelpecaprocessualcampo)||void 0===s?void 0:s.map(e=>({key:A(e.sigjprcampo),value:C[A(e.sigjprcampo)],ORDEM:e.ORDEM,required:1==e.FLAG_OBRIGATORIEDADE})).sort((e,s)=>e.ORDEM-s.ORDEM))||[];return Object(O.jsx)("form",{id:"itemGO",onSubmit:async function(e){if(e.preventDefault(),""==t)I("Escolha uma data");else try{var s,a,o;const e={REL_PROCESSO_INSTRUCAO_ID:null===g||void 0===g?void 0:g.sgigjprocessodespacho[0].sgigjrelprocessoinstrutor[0].sgigjrelprocessoinstrucao[0].ID,PR_PECAS_PROCESSUAIS_ID:i.ID,PESSOA_TESTEMUNHA_ID:C.PESSOA||null,DESTINATARIO_ID:C.DESTINATARIO||null,PR_DECISAO_TP_ID:C.DECISAO||null,INFRACAO_COIMA_ID:(null===(s=C.INFRACAO_COIMA)||void 0===s?void 0:s.INFRACAO)||null,COIMA:(null===(a=C.INFRACAO_COIMA)||void 0===a?void 0:a.COIMA)||null,DATA:t,OBS:(null===S||void 0===S||null===(o=S.current)||void 0===o?void 0:o.value)||""};if(console.log(e),null==c){const s=await x.a.post("/sgigjrelinstrutorpeca",e);if("200"==s.status){_(s.data.ID),f(!h);const e=await m();if(1==e.done)for(let t=0;t<e.list.length;t++){const a=e.list[t];a.ID==s.data.ID&&b(a)}}}else{"200"==(await x.a.put("/sgigjrelinstrutorpeca/"+c.ID,e)).status&&(u.a.success("Documento Guardado!",{duration:4e3}),f(!h),m())}}catch(n){console.error(n)}},children:i&&Object(O.jsxs)(n.a,{children:[E.map(e=>((e,s,t,a,o,i,n,l,r,c)=>{switch(e){case"PESSOA":case"DESTINATARIO":return Object(O.jsx)(F,{k:e,set:t,value:s,selected_relinstrucaopeca:a,pessoalist:o,documentolist:i});case"OBS":case"TEXTO":case"PERIODO_EXCLUSAO":return Object(O.jsx)(q,{k:e,set:t,value:s,obsRef:r});case"ANEXO_DOC":return Object(O.jsx)(P,{k:e,set:t,value:s,selected_relinstrucaopeca:a,pessoalist:o,documentolist:i,documentosgeral_lista_save:n,ID_C:l,required:c});case"INFRACAO_COIMA":return Object(O.jsx)(T,{k:e,set:t,value:s});case"DECISAO":return Object(O.jsx)(w,{k:e,set:t,value:s});default:return}})(e.key,e.value,N,c,d,p,h,y,S,e.required)),Object(O.jsxs)(l.a,{sm:12,style:{display:"flex",justifyContent:"flex-end",marginTop:"10px",gridGap:"15px"},children:[null!=c&&Object(O.jsxs)(O.Fragment,{children:[null!=c.URL_DOC&&Object(O.jsxs)("a",{href:(null===c||void 0===c?void 0:c.URL_DOC)+"?alt=media&token=0",target:"_blank",children:[Object(O.jsx)(r.a,{variant:"primary",children:"Abrir DOC Gerado"})," "]}),Object(O.jsx)(r.a,{onClick:()=>async function(){try{if("200"==(await x.a.put("/sgigjrelinstrutorpeca/"+(null===c||void 0===c?void 0:c.ID)+"/despacho",{})).status){const e=await m();if(1==e.done)for(let s=0;s<e.list.length;s++){const t=e.list[s];t.ID==(null===c||void 0===c?void 0:c.ID)&&b(t)}}}catch(e){console.error(e.response)}}(),variant:"primary",children:"Gerar DOC"})]}),Object(O.jsx)(r.a,{type:"submit",form:"itemGO",variant:"primary",children:"Guardar"})]})]})})}var L=e=>{var s,t,a;let{item:c,setinstrucaoitem:p,uploadlist:j,instrucaoitem:u,decisaolist:m}=e;const{popUp_removerItem:b,popUp_alertaOK:h}=Object(v.a)(),[f,y]=Object(o.useState)(""),[C,I]=Object(o.useState)([]),[S,E]=Object(o.useState)(""),[R,w]=Object(o.useState)({}),[T,P]=Object(o.useState)([]);const[q,F]=Object(o.useState)([]);const[L,U]=Object(o.useState)([]),[M,z]=Object(o.useState)(""),[G,B]=Object(o.useState)("");async function H(){let e={done:!1,list:[]};if(oe()){const l=c.sgigjprocessodespacho[0].sgigjrelprocessoinstrutor[0].sgigjrelprocessoinstrucao[0].ID;z(l),B(c.sgigjprocessodespacho[0].sgigjrelprocessoinstrutor[0].ID);try{const n=await x.a.get("/sgigjrelinstrutorpeca?REL_PROCESSO_INSTRUCAO_ID="+l);if("200"==n.status){for(var s=0;s<n.data.length;s++){var t,a,o;const e=n.data[s].ID,l=n.data[s];n.data[s].id=n.data[s].ID,n.data[s].DATA2=Object(_.f)(n.data[s].DATA),n.data[s].PECAS=n.data[s].sgigjprpecasprocessual.DESIG,null==n.data[s].FLAG_NOTA_COMUNICACAO?n.data[s].QUEM="------------------":("1"==n.data[s].FLAG_NOTA_COMUNICACAO&&(n.data[s].QUEM="Visado"),"2"==n.data[s].FLAG_NOTA_COMUNICACAO&&(n.data[s].QUEM="Entidade Decisora"),"3"==n.data[s].FLAG_NOTA_COMUNICACAO&&(n.data[s].QUEM="Entidade Visada")),!l.sgigjreldocumento&&null!==(t=n.data[s])&&void 0!==t&&t.URL_DOC&&(l.sgigjreldocumento=[]),l.sgigjreldocumento.push({DOC_URL:null===(a=n.data[s])||void 0===a?void 0:a.URL_DOC,sgigjprdocumentotp:{DESIG:"Documento Gerado"}}),null===(o=n.data[s])||void 0===o||o.sgigjreldocumento.length,n.data[s].ANEXOS=Object(O.jsx)(i.a.Fragment,{children:Object(O.jsx)(g.b,{to:"#",onClick:()=>ae(l),children:Object(O.jsx)("i",{className:"feather icon-file"})})}),n.data[s].action=Object(O.jsxs)(i.a.Fragment,{children:[Object(O.jsx)(g.b,{to:"#",onClick:()=>re(l),className:"text-primary mx-1",children:Object(O.jsx)("i",{className:"text-primary feather icon-edit"})}),Object(O.jsx)(g.b,{to:"#",onClick:()=>pe(e),className:"text-danger",children:Object(O.jsx)("i",{className:"feather icon-trash-2"})})]})}e={done:!0,list:n.data},U(n.data)}}catch(n){console.error(n.response)}}return e}const[V,X]=Object(o.useState)(""),[J,Z]=Object(o.useState)("*"),[K,W]=Object(o.useState)(""),[Q,Y]=Object(o.useState)(""),[$,ee]=Object(o.useState)(!1),[se,te]=Object(o.useState)([]);function ae(e){ee(!0),console.log("sgigjreldocumento",null===e||void 0===e?void 0:e.sgigjreldocumento),te(null===e||void 0===e?void 0:e.sgigjreldocumento)}function oe(){if(null!=c)return c.sgigjprocessodespacho.length>0&&(c.sgigjprocessodespacho[0].sgigjrelprocessoinstrutor.length>0&&c.sgigjprocessodespacho[0].sgigjrelprocessoinstrutor[0].sgigjrelprocessoinstrucao.length>0)}async function ie(){j(),p(null)}const[ne,le]=Object(o.useState)("");function re(e){le(e)}function ce(e){return S==e||function(e){if(L.findIndex(s=>s.PR_PECAS_PROCESSUAIS_ID===e)>=0&&"6b4729e2b01da73d490dc1b04671ea570d49"==e)return!1;if(L.findIndex(s=>s.PR_PECAS_PROCESSUAIS_ID===e)>=0&&"0a2557ff1b8e966ae041183b8bbcb4d2ce1d"==e)return!1;let s=0;if("4ce0c01543457df12a96bc3eac9492e81657"==e){for(let e=0;e<L.length;e++)null!=L[e].FLAG_NOTA_COMUNICACAO&&s++;if(s>=3)return!1}return!0}(e)}Object(o.useEffect)(()=>{null!=ne&&(E(ne.PR_PECAS_PROCESSUAIS_ID),X(ne.PESSOA_TESTEMUNHA_ID),Z(ne.REF),W(Object(_.e)(ne.DATA)),Y(ne.OBS))},[ne]),Object(o.useEffect)(()=>{null!=S&&w(C.find(e=>e.ID==S))},[S]),Object(o.useEffect)(()=>{!async function(){try{const e=await x.a.get("/sgigjprpecasprocessual");"200"==e.status&&I(e.data)}catch(e){console.error(e.response)}}(),async function(){try{const s=await x.a.get("/sgigjpessoa");if("200"==s.status){for(var e=0;e<s.data.length;e++)s.data[e].value=s.data[e].ID,s.data[e].label=s.data[e].NOME;P(s.data)}}catch(s){console.error(s.response)}}(),async function(){try{const e=await x.a.get("/sgigjprdocumentotp");"200"==e.status&&F(e.data)}catch(e){console.error(e.response)}}(),H()},[]);const de=async e=>{let s=!0;try{await x.a.delete("/sgigjrelinstrutorpeca/"+e)}catch(t){s=!1,console.error(t.response),h("Falha. Tente mais tarde")}return H(),s},pe=async e=>{b({delete:de,id:e})};const[je,ue]=Object(o.useState)(),[ge,me]=Object(o.useState)(!1);return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(n.a,{className:"mb-3",children:Object(O.jsx)(l.a,{className:"d-flex align-items-center",style:{fontSize:"16px"},children:"Instru\xe7\xe3o do Processo"})}),oe()?Object(O.jsxs)(n.a,{children:[Object(O.jsx)(l.a,{sm:2,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Refer\xeancia ",Object(O.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(O.jsx)("input",{disabled:!0,type:"text",className:"form-control",id:"Name",value:J,required:!0})]})}),Object(O.jsx)(l.a,{sm:7,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Pe\xe7a Processual ",Object(O.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(O.jsxs)("select",{value:S,onChange:e=>{var s;s=e.target.value,le(null),E(s),X(""),Z("*"),W(""),Y("")},className:"form-control",id:"pessoa",required:!0,"aria-required":"true",children:[Object(O.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),C.map(e=>ce(e.ID)&&Object(O.jsx)("option",{title:e.CODIGO,value:e.ID,children:e.DESIG},e.ID))]})]})}),Object(O.jsx)(l.a,{sm:3,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Data ",Object(O.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(O.jsx)("input",{type:"date",onChange:e=>{W(e.target.value)},value:K,className:"form-control",placeholder:"Data...",required:!0})]})})]}):Object(O.jsx)("div",{className:"form-group fill",style:{display:"flex",padding:"50px 0px",width:"100%",justifyContent:"center"},children:Object(O.jsx)(r.a,{variant:"primary",onClick:()=>async function(){const e={PROCESSO_DESPACHO_ID:c.sgigjprocessodespacho[0].ID};try{if("200"==(await x.a.post("/sgigjrelprocessoinstrucao",e)).status){const e=await x.a.get("/sgigjprocessoexclusao/"+c.id);"200"==e.status&&e.data.length>0&&(e.data[0].id=e.data[0].ID,p(e.data[0]))}}catch(s){console.error(s.response)}}(),children:"Iniciar Instru\xe7\xe3o"})}),Object(O.jsx)(k,{DATA:K,PESSOA_TESTEMUNHA_ID:V,setPESSOA_TESTEMUNHA_ID:X,OBS:Q,setOBS:Y,item:c,uploadinstrucaopecaslist:H,PECAselected:S,selected_relinstrucaopeca:ne,setselected_relinstrucaopeca:le,pessoalist:T,documentolist:q,peca:R}),Object(O.jsx)("br",{}),oe()&&Object(O.jsx)(N,{data:L}),Object(O.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"10px",gridGap:"10px"},children:[oe()&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(r.a,{onClick:()=>async function(e){try{console.log("GO_ER");const t=await x.a.get("/juntada/"+e);if("200"==t.status){const e=t.data.buffer.data,a=new Uint8Array(e).buffer;var s=new Blob([a],{type:"application/pdf"});const o=URL.createObjectURL(s);ue(o),me(!0),H()}}catch(t){console.error(t)}}(c.sgigjprocessodespacho[0].sgigjrelprocessoinstrutor[0].sgigjrelprocessoinstrucao[0].ID),variant:"primary",children:"Juntada"}),Object(O.jsx)(r.a,{variant:"primary",onClick:()=>y("A"),children:"Arquivar"}),Object(O.jsx)(r.a,{variant:"primary",onClick:()=>y("P"),children:"Prescrever"}),Object(O.jsx)(r.a,{variant:"primary",onClick:()=>async function(){try{"200"==(await x.a.put("/sgigjrelprocessoinstrucao/"+c.sgigjprocessodespacho[0].sgigjrelprocessoinstrutor[0].sgigjrelprocessoinstrucao[0].ID,{TIPO:"concluir"})).status&&(j(),h("Instruc\xe3o conclu\xedda"),p(null))}catch(t){var e,s;console.error(t.response),"567785636745684"==(null===t||void 0===t||null===(e=t.response)||void 0===e||null===(s=e.data)||void 0===s?void 0:s.code)&&h("S\xf3 \xe9 poss\xedvel concluir essa instru\xe7\xe3o, ap\xf3s inser\xe7\xe3o de pe\xe7a Relatorio Final")}}(),children:"Concluir Instru\xe7\xe3o do Processo"})]}),Object(O.jsx)(r.a,{variant:"danger",onClick:()=>ie(),children:"Voltar"})]}),Object(O.jsx)(A.a,{Open:$,setOpen:ee,list:se}),Object(O.jsx)(d.a,{size:"xl",show:ge,onHide:()=>me(!1),children:Object(O.jsx)("iframe",{height:1e3,src:"".concat(je),title:"pdf-viewer",width:"100%s"})}),Object(O.jsx)(D,{voltar:ie,INSTRUCAO_ID:null===c||void 0===c||null===(s=c.sgigjprocessodespacho[0])||void 0===s||null===(t=s.sgigjrelprocessoinstrutor[0])||void 0===t||null===(a=t.sgigjrelprocessoinstrucao[0])||void 0===a?void 0:a.ID,InterrompidoTipo:f,setInterrompidoTipo:y,uploadlist:j})]})};var U=e=>{let{processo_ID:s,setprocesso_ID:t,uploadlist:a,pessoalist:i,decisaolist:c}=e;const[j,g]=Object(o.useState)(!1),{user:m}=Object(v.a)(),{popUp_alertaOK:b}=Object(v.a)();let h="";const f=Object(o.useRef)(null),[y,C]=Object(o.useState)({}),[D,I]=Object(o.useState)(""),[N,A]=Object(o.useState)(""),[R,w]=Object(o.useState)(""),[T,P]=Object(o.useState)(""),[q,F]=Object(o.useState)(""),[k,L]=Object(o.useState)(""),[U,M]=Object(o.useState)(""),[z,G]=Object(o.useState)(""),[B,H]=Object(o.useState)(""),[V,X]=Object(o.useState)(""),[J,Z]=Object(o.useState)(""),[K,W]=Object(o.useState)(""),[Q,Y]=Object(o.useState)("");let $=(new Date).toISOString().substring(0,10);const[ee,se]=Object(o.useState)([]);const[te,ae]=Object(o.useState)("");function oe(){""==q||""==T?b("Preencha todos os campos obrigat\xf3rios"):(console.log(y),h=function(e,s,t,a,o,i,n){var l,r,c,d,p,j,u,g,m,O,b,h,f;return'\n             \n\n                 <p class="MsoNormal" align="center" style="margin: 0in 0px 0in 0in; font-size: 13px; font-family: Calibri, sans-serif; text-align: center;"><b style="mso-bidi-font-weight:normal"><span style="font-size: 32px; font-family: &quot;Times New Roman&quot;, serif;">DESPACHO N.\xba '.concat(t,"/").concat(null===(l=Object(_.b)(a))||void 0===l?void 0:l.ano,'</span></b></p>\n\n                 <p class="MsoNormal" style="margin: 0in; font-size: 13px; font-family: Calibri, sans-serif; line-height: 13px;"><span style="font-size: 21px; font-family: &quot;Times New Roman&quot;, serif;">&nbsp;</span></p>\n                 \n                 <p class="MsoNormal" style="margin: 0in; font-size: 13px; font-family: Calibri, sans-serif; line-height: 13px;"><span style="font-size: 21px; font-family: &quot;Times New Roman&quot;, serif;">&nbsp;</span></p>\n                 \n                 <p class="MsoNormal" style="margin: 0in; font-size: 13px; font-family: Calibri, sans-serif; line-height: 13px;"><span style="font-size: 21px; font-family: &quot;Times New Roman&quot;, serif;">&nbsp;</span></p>\n                 \n                 <p class="MsoNormal" style="margin: 0in; font-size: 13px; font-family: Calibri, sans-serif; line-height: 14px;"><span style="font-size: 21px; font-family: &quot;Times New Roman&quot;, serif;">&nbsp;</span></p>\n                 \n\n                    \n                    <p class="MsoNormal" style="margin: 0in; font-size: 16px; font-family: Cambria, serif; text-align: justify; line-height: 24px;"><span style="font-size: 21px; font-family: &quot;Times New Roman&quot;, serif; color: black;">Tendo a IGJ recebido a ').concat(null===(r=Object(_.b)(null===s||void 0===s?void 0:s.DATA))||void 0===r?void 0:r.dia," de ").concat(null===(c=Object(_.b)(null===s||void 0===s?void 0:s.DATA))||void 0===c?void 0:c.mes," de ").concat(null===(d=Object(_.b)(null===s||void 0===s?void 0:s.DATA))||void 0===d?void 0:d.ano,',\n                        do concession\xe1rio Casino Royal, via correio eletr\xf3nico, comunicado, cuja c\xf3pia\n                        se anexa, </span><span style="font-size: 21px; font-family: &quot;Times New Roman&quot;, serif;">de\n                        que procederam \xe0 \u2026\u2026\u2026\u2026 do frequentador, <b>Sr(a).\n                            ').concat(null===s||void 0===s||null===(p=s.sgigjpessoa)||void 0===p?void 0:p.NOME,"</b>, de nacionalidade\n                            ").concat(null===s||void 0===s||null===(j=s.sgigjpessoa)||void 0===j||null===(u=j.nacionalidade)||void 0===u||null===(g=u.NACIONALIDADE)||void 0===g?void 0:g.toLowerCase(),', por alegada m\xe1 conduta, insulto a uma\n                        jogadora, 2 \u201cdealers\u201d e alegada grosseria para com o PCA do casino e seguran\xe7as.</span></p>\n\n                    <p class="MsoNormal" style="margin: 0in; font-size: 16px; font-family: Cambria, serif; text-align: justify; line-height: 115%;"><span style="font-size: 21px; line-height: 115%; font-family: &quot;Times New Roman&quot;, serif; color: black;">&nbsp;</span></p>\n\n                    <p class="MsoNormal" style="margin: 0in; font-size: 16px; font-family: Cambria, serif; text-align: justify; line-height: 24px;"><span style="font-size: 21px; font-family: &quot;Times New Roman&quot;, serif; color: black;">Considerando ainda a comunica\xe7\xe3o, datada\n                            do mesmo dia, ou seja, \u2026 de \u2026\u2026\u2026\u2026., via email, da Unidade de Servi\xe7o da IGJ no\n                            casino, sobre o mesmo assunto, referenciado no par\xe1grafo anterior, cuja c\xf3pia\n                            se anexa;</span></p>\n\n                    <p class="MsoNormal" style="margin: 0in; font-size: 16px; font-family: Cambria, serif; text-align: justify; line-height: 115%;"><span style="font-size: 21px; line-height: 115%; font-family: &quot;Times New Roman&quot;, serif; color: black;">&nbsp;</span></p>\n\n                    <p class="MsoNormal" style="margin: 0in; font-size: 16px; font-family: Cambria, serif; text-align: justify; line-height: 24px;"><span style="font-size: 21px; font-family: &quot;Times New Roman&quot;, serif; color: black;">No uso da faculdade conferida pelo n.\xba 9\n                            do artigo 63.\xba da Lei n.\xba 62/VII/2010, de 31 de maio, que altera a Lei n.\xba\n                            77/VII/2005 de 16 de agosto, que estabelece o Regime Jur\xeddico da Explora\xe7\xe3o de\n                            Jogos de Fortuna ou Azar;</span></p>\n\n                    <p class="MsoNormal" style="margin: 0in; font-size: 16px; font-family: Cambria, serif; text-align: justify; line-height: 115%;"><span style="font-size: 21px; line-height: 115%; font-family: &quot;Times New Roman&quot;, serif; color: black;">&nbsp;</span></p>\n\n                    <p class="MsoNormal" style="margin: 0in; font-size: 16px; font-family: Cambria, serif; text-align: justify; line-height: 115%;"><span style="font-size: 21px; line-height: 115%; font-family: &quot;Times New Roman&quot;, serif; color: black;">Determino:</span></p>\n\n                    <p class="MsoNormal" style="margin: 0in; font-size: 16px; font-family: Cambria, serif; text-align: justify; line-height: 115%;"><span style="font-size: 21px; line-height: 115%; font-family: &quot;Times New Roman&quot;, serif; color: black;">&nbsp;</span></p>\n\n                    <p class="MsoListParagraphCxSpFirst" style="margin: 0in 0in 8px 0.5in; font-size: 16px; font-family: Cambria, serif; text-align: justify; text-indent: -0.25in; line-height: 24px;"><span style="font-size: 21px; font-family: &quot;Times New Roman&quot;, serif; color: black;"><span style="mso-list:Ignore">1.<span style="font: 9px &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;\n                                </span></span></span><span style="font-size: 21px; font-family: &quot;Times New Roman&quot;, serif; color: black;"> Um(a)\n                            ').concat("D"==n?"Decis\xe3o":"C"==n?"Contraordena\xe7\xe3o":"I"==n?"Inquerito":"Averigua\xe7\xe3o Sum\xe1ria",' para apurar a veracidade dos factos apresentados pela\n                            comunica\xe7\xe3o do chefe de sala do Casino Royal;</span></p>\n\n                    <p class="MsoListParagraphCxSpMiddle" style="margin: 0in 0in 8px 0.5in; font-size: 16px; font-family: Cambria, serif; text-align: justify; line-height: 24px;"><span style="font-size: 21px; font-family: &quot;Times New Roman&quot;, serif; color: black;">&nbsp;</span></p>\n\n                    <p class="MsoListParagraphCxSpMiddle" style="margin: 0in 0in 8px 0.5in; font-size: 16px; font-family: Cambria, serif; text-align: justify; text-indent: -0.25in;"><span style="font-size: 21px; font-family: &quot;Times New Roman&quot;, serif; color: black;"><span style="mso-list:Ignore">2.<span style="font: 9px &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-size: 21px; font-family: &quot;Times New Roman&quot;, serif; color: black;">A/o Inspetora/a ').concat(i.map(e=>(null===e||void 0===e?void 0:e.ID)==o?null===e||void 0===e?void 0:e.NOME:null).join(""),' como\n                            instrutora/o do Processo de Averigua\xe7\xe3o;</span></p>\n\n                    <p class="MsoListParagraphCxSpMiddle" style="margin: 0in 0in 0in 0.5in; font-size: 16px; font-family: Cambria, serif; text-align: justify;"><span style="font-size: 21px; font-family: &quot;Times New Roman&quot;, serif; color: black;">&nbsp;</span></p>\n\n                    <p class="MsoListParagraphCxSpMiddle" style="margin: 0in 0in 8px 0.5in; font-size: 16px; font-family: Cambria, serif; text-align: justify; text-indent: -0.25in;"><span style="font-size: 21px; font-family: &quot;Times New Roman&quot;, serif; color: black;"><span style="mso-list:Ignore">3.<span style="font: 9px &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-size: 21px; font-family: &quot;Times New Roman&quot;, serif; color: black;">Ouvir ambas as partes;</span></p>\n\n                    <p class="MsoListParagraphCxSpMiddle" style="margin: 0in 0in 0in 0.5in; font-size: 16px; font-family: Cambria, serif; text-align: justify;"><span style="font-size: 21px; font-family: &quot;Times New Roman&quot;, serif; color: black;">&nbsp;</span><br></p>\n\n                    <p class="MsoListParagraphCxSpLast" style="margin: 0in 0in 8px 0.5in; font-size: 16px; font-family: Cambria, serif; text-align: justify; text-indent: -0.25in;"><span style="font-size: 21px; font-family: &quot;Times New Roman&quot;, serif; color: black;"><span style="mso-list:Ignore">4.<span style="font: 9px &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-size: 21px; font-family: &quot;Times New Roman&quot;, serif; color: black;">Apresentar ao IGJ uma proposta de decis\xe3o.</span></p>\n\n\n\n                <p class="MsoNormal" style="margin: 0in; font-size: 13px; font-family: Calibri, sans-serif; line-height: 19px;"><span style="font-size: 21px; font-family: &quot;Times New Roman&quot;, serif;">&nbsp;</span></p>\n                \n                <p class="MsoNormal" style="margin: 0in 0in 0in 17px; font-size: 13px; font-family: Calibri, sans-serif;"><span style="font-size: 21px; font-family: &quot;Times New Roman&quot;, serif;">CUMPRA-SE.</span></p>\n                \n                <p class="MsoNormal" style="margin: 0in; font-size: 13px; font-family: Calibri, sans-serif; line-height: 12px;"><span style="font-size: 21px; font-family: &quot;Times New Roman&quot;, serif;">&nbsp;</span></p>\n                 \n                 <p class="MsoNormal" style="margin: 0in 0in 0in 17px; font-size: 13px; font-family: Calibri, sans-serif;"><span style="font-size: 21px; font-family: &quot;Times New Roman&quot;, serif;">Praia, ').concat(null===(m=Object(_.b)(a))||void 0===m?void 0:m.dia," de ").concat(null===(O=Object(_.b)(a))||void 0===O?void 0:O.mes," de ").concat(null===(b=Object(_.b)(a))||void 0===b?void 0:b.ano,'</span></p>\n                 \n                 <p class="MsoNormal" style="margin: 0in; font-size: 13px; font-family: Calibri, sans-serif; line-height: 13px;"><span style="font-size: 21px; font-family: &quot;Times New Roman&quot;, serif;">&nbsp;</span></p>\n                 \n                 <p class="MsoNormal" style="margin: 0in; font-size: 13px; font-family: Calibri, sans-serif; line-height: 13px;"><span style="font-size: 21px; font-family: &quot;Times New Roman&quot;, serif;">&nbsp;</span></p>\n                 \n                 <p class="MsoNormal" style="margin: 0in; font-size: 13px; font-family: Calibri, sans-serif; line-height: 13px;"><span style="font-size: 21px; font-family: &quot;Times New Roman&quot;, serif;">&nbsp;</span></p>\n                 \n                 <p class="MsoNormal" style="margin: 0in; font-size: 13px; font-family: Calibri, sans-serif; line-height: 13px;"><span style="font-size: 21px; font-family: &quot;Times New Roman&quot;, serif;">&nbsp;</span></p>\n                 \n                 <p class="MsoNormal" style="margin: 0in; font-size: 13px; font-family: Calibri, sans-serif; line-height: 20px;"><span style="font-size: 21px; font-family: &quot;Times New Roman&quot;, serif;">&nbsp;</span></p>\n                 \n                 <p class="MsoNormal" align="center" style="margin: 0in 0px 0in 0in; font-size: 13px; font-family: Calibri, sans-serif; text-align: center;"><span style="font-size: 21px; font-family: &quot;Times New Roman&quot;, serif;">O(a) Inspetor(a) Geral</span></p>\n                 \n                 <p class="MsoNormal" align="center" style="margin: 0in 0px 0in 0in; font-size: 13px; font-family: Calibri, sans-serif; text-align: center;"><span style="font-size: 21px; font-family: &quot;Times New Roman&quot;, serif;">________________________________</span></p>\n                 \n                 <p class="MsoNormal" style="margin: 0in; font-size: 13px; font-family: Calibri, sans-serif; line-height: 12px;"><span style="font-size: 21px; font-family: &quot;Times New Roman&quot;, serif;">&nbsp;</span></p>\n                 \n                 <p class="MsoNormal" style="margin: 0in; font-size: 13px; font-family: Calibri, sans-serif; line-height: 12px;"><span style="font-size: 21px; font-family: &quot;Times New Roman&quot;, serif;">&nbsp;</span></p>\n                 \n                 <p class="MsoNormal" align="center" style="margin: 0in 0px 0in 0in; font-size: 13px; font-family: Calibri, sans-serif; text-align: center;"><span style="font-size: 21px; font-family: &quot;Times New Roman&quot;, serif;">').concat(null===e||void 0===e||null===(h=e.sgigjrelpessoaentidade)||void 0===h||null===(f=h.sgigjpessoa)||void 0===f?void 0:f.NOME,"</span></p>\n                 \n             \n             ")}(m,y,T,$,z,i,N),ae(h))}return Object(o.useEffect)(()=>{""!=s&&(async()=>{A(""),w(""),P(""),F(""),L("10"),M(""),H(""),Z("*"),$=new Date("2021-01-01"),console.log(i),h="";try{const e=await x.a.get("/sgigjprocessoexclusao/"+s);"200"==e.status&&(e.data.length>0&&(e.data[0].id=e.data[0].ID,C(e.data[0]),console.log(e.data[0]),e.data[0].sgigjdespachofinal.length>0?(A("D"),P(e.data[0].sgigjdespachofinal[0].REFERENCIA),M(e.data[0].sgigjdespachofinal[0].OBS),X(e.data[0].sgigjdespachofinal[0].COIMA),H(e.data[0].sgigjdespachofinal[0].INFRACAO_COIMA_ID),w(e.data[0].sgigjdespachofinal[0].PR_DECISAO_TP_ID),L(e.data[0].sgigjdespachofinal[0].PRAZO),F(Object(_.e)(e.data[0].sgigjdespachofinal[0].DATA)),Z(e.data[0].sgigjdespachofinal[0].CODIGO),h=e.data[0].sgigjdespachofinal[0].DESPACHO):e.data[0].sgigjprocessodespacho.length>0&&(A(e.data[0].sgigjprocessodespacho[0].TIPO_PROCESSO_EXCLUSAO),P(e.data[0].sgigjprocessodespacho[0].REFERENCIA),M(e.data[0].sgigjprocessodespacho[0].OBS),G(e.data[0].sgigjprocessodespacho[0].PESSOA_ID_TEMP),L(e.data[0].sgigjprocessodespacho[0].PRAZO),F(Object(_.e)(e.data[0].sgigjprocessodespacho[0].DATA)),Z(e.data[0].sgigjprocessodespacho[0].CODIGO),h=e.data[0].sgigjprocessodespacho[0].DESPACHO,e.data[0].sgigjrelcontraordenacaoinfracao.length>0&&H(e.data[0].sgigjrelcontraordenacaoinfracao[0].INFRACAO_COIMA_ID))),I(s),t(""),ae(h),g(!0))}catch(e){console.error(e)}})()},[s]),Object(o.useEffect)(()=>{!async function(){try{const e=await x.a.get("/sgigjinfracaocoima");"200"==e.status&&se(e.data)}catch(e){console.error(e.response)}}()},[]),Object(O.jsxs)(d.a,{size:"xl",show:j,onHide:()=>g(!1),children:[Object(O.jsx)(d.a.Header,{closeButton:!0,children:Object(O.jsx)(d.a.Title,{as:"h5",children:"Despacho"})}),Object(O.jsx)(d.a.Body,{className:"newuserbox",children:Object(O.jsx)("form",{id:"criarDespacho",onSubmit:async function(e){if(e.preventDefault(),console.log(N),"C"==N||"I"==N||"A"==N){var s,t;const e={INSTRUTOR:z,REFERENCIA:T,OBS:U,DATA:q,DESPACHO:null===f||void 0===f||null===(s=f.current)||void 0===s?void 0:s.value,TIPO_PROCESSO_EXCLUSAO:N,TIPO:Q,COIMA:V,INFRACAO_COIMA_ID:B};"C"==N&&(e.INFRACAO_COIMA_ID=B),console.log(h),console.log(e),console.log(null===f||void 0===f?void 0:f.current),console.log(null===f||void 0===f||null===(t=f.current)||void 0===t?void 0:t.value);try{"200"==(await x.a.put("/sgigjprocessoexclusao/".concat(D,"/despacho"),e)).status&&(u.a.success("Despacho Criado!",{duration:4e3}),a(),g(!1))}catch(n){console.error(n.response)}}if("D"==N){var o,i;const e={PR_DECISAO_TP_ID:R,REFERENCIA:T,OBS:U,DATA:q,OBS:U,COIMA:V,INFRACAO_COIMA_ID:B,DESPACHO:null===f||void 0===f||null===(o=f.current)||void 0===o?void 0:o.value,TIPO_PROCESSO_EXCLUSAO:N,TIPO:Q};console.log(h),console.log(e),console.log(null===f||void 0===f?void 0:f.current),console.log(null===f||void 0===f||null===(i=f.current)||void 0===i?void 0:i.value);try{"200"==(await x.a.put("/sgigjprocessoexclusao/".concat(D,"/despachofinal"),e)).status&&(u.a.success("Despacho Criado!",{duration:4e3}),a(),g(!1))}catch(n){console.error(n.response)}}},children:Object(O.jsxs)(n.a,{children:[Object(O.jsx)(l.a,{sm:12,children:Object(O.jsxs)(p.a.Group,{style:{display:"flex",justifyContent:"center",flexWrap:"wrap"},children:[Object(O.jsx)(p.a.Check,{inline:!0,custom:!0,required:!0,type:"radio",label:"Inquerito",name:"supportedRadio",id:"inquerito",checked:"I"==N,onChange:()=>A("I")}),Object(O.jsx)(p.a.Check,{inline:!0,custom:!0,required:!0,type:"radio",label:"Averigua\xe7\xe3o Sum\xe1rio",name:"supportedRadio",id:"averiguacao",checked:"A"==N,onChange:()=>A("A")}),Object(O.jsx)(p.a.Check,{inline:!0,custom:!0,required:!0,type:"radio",label:"Contraordena\xe7\xe3o",name:"supportedRadio",id:"contraordenacao",checked:"C"==N,onChange:()=>A("C")}),Object(O.jsx)(p.a.Check,{inline:!0,custom:!0,required:!0,type:"radio",label:"Despacho Decis\xe3o",name:"supportedRadio",id:"despachofinal",checked:"D"==N,onChange:()=>A("D")})]})}),""==N?Object(O.jsx)(l.a,{sm:12,children:Object(O.jsx)("div",{className:"form-group fill",children:Object(O.jsx)("div",{style:{width:"500px",height:"300px"}})})}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(l.a,{sm:2,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["C\xf3digo ",Object(O.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(O.jsx)("input",{disabled:!0,type:"text",className:"form-control",id:"Name",value:J,required:!0})]})}),"D"==N?Object(O.jsx)(l.a,{sm:4,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Decis\xe3o ",Object(O.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(O.jsxs)("select",{id:"perfil",value:R,onChange:e=>{w(e.target.value)},className:"form-control",required:!0,"aria-required":"true",children:[Object(O.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),c.map(e=>Object(O.jsx)("option",{value:e.ID,children:e.DESIG},e.ID))]})]})}):Object(O.jsx)(l.a,{sm:4,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Instrutor ",Object(O.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(O.jsx)(E.a,{className:"basic-single",classNamePrefix:"select",onChange:e=>G(e.value),name:"pessoa",options:i.filter(e=>{var s;return"gsmky0e7yakreut8ws32xv0tejykqo7d6jnv"==(null===e||void 0===e||null===(s=e.sgigjrelpessoaentidade[0])||void 0===s?void 0:s.ENTIDADE_ID)}),defaultValue:i.map(e=>e.ID==z?e:null),required:!0,menuPlacement:"auto",menuPosition:"fixed",placeholder:"Pessoa..."})]})}),Object(O.jsx)(l.a,{sm:3,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Refer\xeancia ",Object(O.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(O.jsx)("input",{type:"number",onChange:e=>{P(e.target.value)},defaultValue:T,className:"form-control",placeholder:"Refer\xeancia...",required:!0})]})}),Object(O.jsx)(l.a,{sm:3,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Data ",Object(O.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(O.jsx)("input",{type:"date",onChange:e=>{F(e.target.value)},defaultValue:q,className:"form-control",placeholder:"Data...",required:!0})]})}),Object(O.jsx)(l.a,{sm:10,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsx)("label",{className:"floating-label",htmlFor:"Name",children:"Observa\xe7\xe3o"}),Object(O.jsx)("input",{type:"text",onChange:e=>{M(e.target.value)},defaultValue:U,className:"form-control",placeholder:"Observa\xe7\xe3o..."})]})}),Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(l.a,{sm:4,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsx)("label",{className:"floating-label",htmlFor:"Name",children:"Coima"}),Object(O.jsx)("input",{type:"number",defaultValue:V,onChange:e=>{X(e.target.value)},className:"form-control",placeholder:"Coima..."})]})})}),Object(O.jsx)(l.a,{sm:12,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsx)("label",{className:"floating-label",htmlFor:"Name",children:"Despacho"}),Object(O.jsx)(S.a,{editorRef:e=>{},value:te,config:{readonly:!1},ref:f,onChange:e=>(h=e,void console.log(h))})]})})]})]})})}),Object(O.jsxs)(d.a.Footer,{children:[Object(O.jsx)(r.a,{variant:"danger",onClick:()=>g(!1),children:"Fechar"}),Object(O.jsx)(r.a,{onClick:()=>oe(),variant:"primary",children:"Gerar texto"}),Object(O.jsx)(r.a,{onClick:()=>Y("SALVAR"),type:"submit",form:"criarDespacho",variant:"primary",children:"Guardar"}),Object(O.jsx)(r.a,{onClick:()=>Y("CONCLUIR"),type:"submit",form:"criarDespacho",variant:"primary",children:"Concluir"})]})]})};var M=function(e){var s,t;let{processo:a,isdepachofinal:i,setisdepachofinal:c,decisaolist:p,uploadlist:j}=e;const[g,m]=Object(o.useState)(""),[b,h]=Object(o.useState)(0),[f,v]=Object(o.useState)(""),[y,C]=Object(o.useState)("*"),[D,I]=Object(o.useState)(""),[N,A]=Object(o.useState)(""),[E,R]=Object(o.useState)(""),[w,T]=Object(o.useState)(""),[P,q]=Object(o.useState)(""),[F,k]=Object(o.useState)(""),[L,U]=Object(o.useState)(""),[M,z]=Object(o.useState)([]);const[G,B]=Object(o.useState)([]);let H="";Object(o.useEffect)(()=>{var e,s,t,o,i,n,l,r;if((console.log(a),0!==Object.keys(a).length)&&(a.sgigjprocessodespacho.length>0&&(null===(e=a.sgigjprocessodespacho[0])||void 0===e?void 0:e.sgigjrelprocessoinstrutor.length)>0&&(null===(s=a.sgigjprocessodespacho[0])||void 0===s||null===(t=s.sgigjrelprocessoinstrutor[0])||void 0===t?void 0:t.sgigjrelprocessoinstrucao.length)>0))if(v(null===(o=a.sgigjprocessodespacho[0])||void 0===o||null===(i=o.sgigjrelprocessoinstrutor[0])||void 0===i?void 0:i.sgigjrelprocessoinstrucao[0].ID),(null===(n=a.sgigjprocessodespacho[0])||void 0===n||null===(l=n.sgigjrelprocessoinstrutor[0])||void 0===l||null===(r=l.sgigjrelprocessoinstrucao[0])||void 0===r?void 0:r.sgigjprocessodespacho.length)>0){var c,d,p,j;const e=null===(c=a.sgigjprocessodespacho[0])||void 0===c||null===(d=c.sgigjrelprocessoinstrutor[0])||void 0===d||null===(p=d.sgigjrelprocessoinstrucao[0])||void 0===p?void 0:p.sgigjprocessodespacho[0];H=e.DESPACHO,I(Object(_.e)(e.DATA)),R(Object(_.e)(e.DATA_FIM)),A(Object(_.e)(e.DATA_INICIO)),q(e.PR_EXCLUSAO_PERIODO_ID),T(e.PR_DECISAO_TP_ID),C(e.CODIGO),U(e.INFRACAO_COIMA_ID),k(e.COIMA),h(null===(j=e.sgigjprexclusaoperiodo)||void 0===j?void 0:j.NUM_DIAS)}else{var u,g,m,O;H=V,console.log(null===(u=a.sgigjprocessodespacho[0])||void 0===u||null===(g=u.sgigjrelprocessoinstrutor[0])||void 0===g?void 0:g.sgigjrelprocessoinstrucao[0].PR_DECISAO_TP_ID),T(null===(m=a.sgigjprocessodespacho[0])||void 0===m||null===(O=m.sgigjrelprocessoinstrutor[0])||void 0===O?void 0:O.sgigjrelprocessoinstrucao[0].PR_DECISAO_TP_ID)}},[a]);const[V,X]=Object(o.useState)(),J=Object(o.useRef)(null);Object(o.useEffect)(()=>{let e=new Date(N);e.setDate(e.getDate()+b)},[N,b]),Object(o.useEffect)(()=>{!async function(){try{const e=await x.a.get("/sgigjprexclusaoperiodo");"200"==e.status&&z(e.data)}catch(e){console.error(e.response)}}(),async function(){try{const e=await x.a.get("/sgigjinfracaocoima");"200"==e.status&&B(e.data)}catch(e){console.error(e.response)}}()},[]);const[Z,K]=Object(o.useState)(),[W,Q]=Object(o.useState)(!1);return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(d.a,{size:"xl",show:i,onHide:()=>c(!1),children:[Object(O.jsx)(d.a.Header,{closeButton:!0,children:Object(O.jsx)(d.a.Title,{as:"h5",children:"Despacho Decis\xe3o"})}),Object(O.jsx)(d.a.Body,{className:"newuserbox",children:Object(O.jsx)("form",{id:"onSubmit",onSubmit:async function(e){var s;if(e.preventDefault(),(null===a||void 0===a||null===(s=a.sgigjprocessodespacho)||void 0===s?void 0:s.length)>0){var t,o,i;if("C"==(null===a||void 0===a||null===(t=a.sgigjprocessodespacho[0])||void 0===t?void 0:t.TIPO_PROCESSO_EXCLUSAO)){var n,l;const e={PR_EXCLUSAO_PERIODO_ID:P,PR_DECISAO_TP_ID:w,DATA:D,COIMA:F,INFRACAO_COIMA_ID:L,DESPACHO:null===J||void 0===J||null===(n=J.current)||void 0===n?void 0:n.value,DATA_INICIO:N,DATA_FIM:E,TIPO:"CONCLUIR"==g?"CONCLUIR":null===a||void 0===a||null===(l=a.sgigjprocessodespacho[0])||void 0===l?void 0:l.TIPO_PROCESSO_EXCLUSAO};try{"200"==(await x.a.put("/sgigjrelprocessoinstrucaocontraordenacao/".concat(f,"/despacho"),e)).status&&(u.a.success("Documento Guardado!",{duration:4e3}),j(),c(!1))}catch(p){console.error(p.response)}}if("A"==(null===a||void 0===a||null===(o=a.sgigjprocessodespacho[0])||void 0===o?void 0:o.TIPO_PROCESSO_EXCLUSAO)||"I"==(null===a||void 0===a||null===(i=a.sgigjprocessodespacho[0])||void 0===i?void 0:i.TIPO_PROCESSO_EXCLUSAO)){var r,d;const e={PR_EXCLUSAO_PERIODO_ID:P,PR_DECISAO_TP_ID:w,DATA:D,COIMA:F,INFRACAO_COIMA_ID:L,DESPACHO:null===J||void 0===J||null===(r=J.current)||void 0===r?void 0:r.value,DATA_INICIO:N,DATA_FIM:E,TIPO:"CONCLUIR"==g?"CONCLUIR":null===a||void 0===a||null===(d=a.sgigjprocessodespacho[0])||void 0===d?void 0:d.TIPO_PROCESSO_EXCLUSAO};try{"200"==(await x.a.put("/sgigjrelprocessoinstrucao/".concat(f,"/despacho"),e)).status&&(j(),c(!1))}catch(p){console.error(p.response)}}}},children:Object(O.jsxs)(n.a,{children:[Object(O.jsx)(l.a,{sm:2,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["C\xf3digo ",Object(O.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(O.jsx)("input",{disabled:!0,type:"text",className:"form-control",id:"Name",value:y,required:!0})]})}),Object(O.jsx)(l.a,{sm:6,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsx)("label",{className:"floating-label",htmlFor:"Name",children:"Decis\xe3o"}),Object(O.jsxs)("select",{id:"perfil",value:w,onChange:e=>{T(e.target.value)},className:"form-control","aria-required":"true",children:[Object(O.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),p.map(e=>Object(O.jsx)("option",{value:e.ID,children:e.DESIG},e.ID))]})]})}),Object(O.jsx)(l.a,{sm:4,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Data ",Object(O.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(O.jsx)("input",{type:"date",value:D,onChange:e=>{I(e.target.value)},className:"form-control",id:"Name",required:!0})]})}),(null===a||void 0===a||null===(s=a.sgigjprocessodespacho)||void 0===s?void 0:s.length)>0&&"C"==(null===a||void 0===a||null===(t=a.sgigjprocessodespacho[0])||void 0===t?void 0:t.TIPO_PROCESSO_EXCLUSAO)?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(l.a,{sm:8,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsx)("label",{className:"floating-label",htmlFor:"Name",children:"Infra\xe7\xe3o "}),Object(O.jsxs)("select",{id:"perfil",value:L,onChange:e=>{U(e.target.value)},className:"form-control",required:!0,"aria-required":"true",children:[Object(O.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),G.map(e=>{var s;return Object(O.jsx)("option",{value:e.ID,children:null===e||void 0===e||null===(s=e.sgigjprinfracaotp)||void 0===s?void 0:s.DESIG},e.ID)})]})]})}),Object(O.jsx)(l.a,{sm:4,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsx)("label",{className:"floating-label",htmlFor:"Name",children:"Coima "}),Object(O.jsx)("input",{maxLength:"128",type:"number",onChange:e=>{k(e.target.value)},defaultValue:F,className:"form-control",placeholder:"Valor...",required:!0})]})})]}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(l.a,{sm:4,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsx)("label",{className:"floating-label",htmlFor:"Name",children:"Per\xedodo Exclus\xe3o "}),Object(O.jsxs)("select",{onChange:e=>{!function(e){let s=e.split(";:;");h(parseInt(s[1])),q(s[0]),console.log(P)}(e.target.value)},value:P+";:;"+b,className:"form-control",id:"pessoa","aria-required":"true",children:[Object(O.jsx)("option",{hidden:!0,value:"",children:"--- Selecione ---"}),M.map(e=>Object(O.jsx)("option",{title:e.CODIGO,value:e.ID+";:;"+e.NUM_DIAS,children:e.DESIG},e.ID))]})]})}),Object(O.jsx)(l.a,{sm:4,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsx)("label",{className:"floating-label",htmlFor:"Name",children:"Data In\xedcio "}),Object(O.jsx)("input",{type:"date",onChange:e=>{const s=new Date(e.target.value);if(b&&s){s.setDate(s.getDate()+b);const e=s.toISOString().split("T")[0];R(e)}A(e.target.value)},value:N,className:"form-control",placeholder:"Data..."})]})}),Object(O.jsx)(l.a,{sm:4,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsx)("label",{className:"floating-label",htmlFor:"Name",children:"Data Fim "}),Object(O.jsx)("input",{type:"date",value:E,onChange:e=>{R(e.target.value)},className:"form-control",placeholder:"Data..."})]})})]}),Object(O.jsx)(l.a,{sm:12,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsx)("label",{className:"floating-label",htmlFor:"Name",children:"Despacho"}),Object(O.jsx)(S.a,{editorRef:e=>{},value:V,config:{readonly:!1},ref:J,onChange:e=>(async e=>{try{const s=await x.a.get("/despacho-desicao/referencia");"200"==s.status&&(X('\n            <h4 style="font-weight: 700;text-align: center;margin-top: 10px;margin-bottom: 35px;">DESPACHO/DECIS\xc3O N.\xba '.concat(s.data.message,'<h4>\n                                        \n               \n    <p style="text-align: justify;line-height: 1.5;">Considerando o Relat\xf3rio Final do Processo de Averigua\xe7\xe3o Sum\xe1ria, para o apuramento da veracidade dos factos apresentados pela dire\xe7\xe3o do casino;</p>\n    \n    <p style="text-align: justify;line-height: 1.5;">Atendendo que o averiguado reagiu/n\xe3o em sua defesa, durante o prazo legal atribu\xeddo, para indicar os motivos justificativos da sua reclama\xe7\xe3o, bem como as testemunhas que pudessem ser ouvidas;</p>\n    \n    <p style="text-align: justify;line-height: 1.5;">Tendo em conta que a acusa\xe7\xe3o apontada pela concession\xe1ria de que o comportamento do Sr. ..................................................... se revelou inconveniente, inapropriado e enquadr\xe1vel dentro dos atos il\xedcitos administrativos de clientes das concession\xe1rias, ter sido provada;</p>\n    \n    <p style="text-align: justify;line-height: 1.5;">No uso da faculdade conferida pelos n.\xbas 10 e 13 do artigo 63.\xba da Lei 77/VI/2005 de 16 de agosto, valido a decis\xe3o tomada pela concession\xe1ria de interdi\xe7\xe3o provis\xf3ria e perante os factos apurados, constantes do Processo folhas 0 a folhas 22, para o qual se remete para todos os efeitos legais, determino a interdi\xe7\xe3o de acesso ao Casino Royal do Sr. ............................ por um per\xedodo de \u2026 meses/anos, a contar da data da ocorr\xeancia do facto (.../.../20...);</p>\n    \n    \n    <p style="text-align: justify;line-height: 1.5;">Determino ainda:\n    \n        1. A presta\xe7\xe3o de informa\xe7\xf5es pela concession\xe1ria ao Servi\xe7o de Inspe\xe7\xe3o de Jogos do desfecho da investiga\xe7\xe3o referenciada, relativa a poss\xedveis fraudes ao Grupo de M\xe1quinas em causa. \n    \n        2. Notifique-se a Dire\xe7\xe3o do Casino Royal e o averiguado do Despacho da Decis\xe3o Final\n    \n        3. Deve a Dire\xe7\xe3o do Casino dar de imediato conhecimento \xe0 rece\xe7\xe3o do mesmo, devendo esta, bem como o Diretor Geral do casino estarem cientes das suas responsabilidades se permitirem o acesso do referido frequentador ao espa\xe7o confinado ao jogo;\n    \n        4. CUMPRA-SE\n    </p>\n    \n    <p style="text-align: justify;line-height: 1.5;">Praia, ......... de .......... de 20.....</p>\n    ')),H=e)}catch(s){}})(e)})]})})]})})}),Object(O.jsxs)(d.a.Footer,{children:[Object(O.jsx)(r.a,{variant:"danger",onClick:()=>c(!1),children:"Fechar"}),Object(O.jsx)(r.a,{variant:"primary",onClick:()=>async function(e){let s=[];console.log(e);try{const i=await x.a.get("/sgigjprocessoexclusao/"+a.ID);"200"==i.status&&i.data.length>0&&(i.data[0].id=i.data[0].ID,i.data[0].sgigjprocessodespacho.length>0&&i.data[0].sgigjprocessodespacho[0].sgigjrelprocessoinstrutor.length>0&&i.data[0].sgigjprocessodespacho[0].sgigjrelprocessoinstrutor[0].sgigjrelprocessoinstrucao.length>0&&(s=i.data[0].sgigjprocessodespacho[0].sgigjrelprocessoinstrutor[0].sgigjrelprocessoinstrucao[0].sgigjrelinstrutorpeca));var t=[];if(s.length>0)for(let e=0;e<s.length;e++){const a=s[e];for(let e=0;e<a.sgigjreldocumento.length;e++){const s=a.sgigjreldocumento[e];t.push(s.DOC_URL)}null!=a.URL_DOC&&t.push(a.URL_DOC)}console.log("GO_ER");const n=await x.a.get("/juntada/"+e);if("200"==n.status){const e=n.data.buffer.data,s=new Uint8Array(e).buffer;var o=new Blob([s],{type:"application/pdf"});const t=URL.createObjectURL(o);console.log(o),K(t),Q(!0)}}catch(i){console.error(i)}}(f),children:"Dados Proc"}),Object(O.jsx)(r.a,{type:"submit",form:"onSubmit",variant:"primary",onClick:()=>m("SALVAR"),children:"Guardar"}),Object(O.jsx)(r.a,{type:"submit",form:"onSubmit",variant:"primary",onClick:()=>m("CONCLUIR"),children:"Concluir"})]})]}),Object(O.jsx)(d.a,{size:"xl",show:W,onHide:()=>Q(!1),children:Object(O.jsx)("iframe",{height:1e3,src:"".concat(Z),title:"pdf-viewer",width:"100%s"})})]})},z=t(246),G=t(175),B=t.n(G),H=()=>{const[e,s]=Object(o.useState)(!1),[t,a]=Object(o.useState)([]);return Object(o.useEffect)(()=>{!async function(){const e=B()().tz(z.a);try{const l=await x.a.get("/tempolimiteprocessoexclusao");if("200"==l.status&&(console.log(l.data.prazovisado.length),l.data.prazolimite.length>0||l.data.prazovisado.length>0)){let r=[];console.log(r);for(let s=0;s<l.data.prazovisado.length;s++){var t,o,i;const a=l.data.prazovisado[s],n=null===a||void 0===a||null===(t=a.sgigjprocessodespacho[0])||void 0===t||null===(o=t.sgigjrelprocessoinstrutor[0])||void 0===o||null===(i=o.sgigjrelprocessoinstrucao[0])||void 0===i?void 0:i.sgigjrelinstrutorpeca;for(let s=0;s<n.length;s++)if("0a2557ff1b8e966ae041183b8bbcb4d2ce1d"==n[s].PR_PECAS_PROCESSUAIS_ID){const t=""+n[s].DT_REGISTO,o=e.diff(B()(t.slice(0,10)).tz(z.a),"days");o>0&&r.push({ID:a.ID,CODIGO:a.CODIGO,VISADO:a.sgigjpessoa.NOME,PRAZO:o})}}for(let s=0;s<l.data.prazolimite.length;s++){var n;const t=l.data.prazolimite[s],a=null===t||void 0===t?void 0:t.sgigjprocessodespacho[0];if((null===(n=r.find(e=>e.ID===t.ID))||void 0===n?void 0:n.ID)!=t.ID){const s=""+a.DATA,o=e.diff(B()(s.slice(0,10)).tz(z.a),"days");o>0&&r.push({ID:t.ID,CODIGO:t.CODIGO,VISADO:t.sgigjpessoa.NOME,PRAZO:o})}console.log(a.DATA)}r.length>0&&(a(r),s(!0))}}catch(l){console.error(l.response)}}()},[]),Object(O.jsxs)(d.a,{size:"g",show:e,onHide:()=>s(!1),children:[Object(O.jsx)(d.a.Header,{closeButton:!0,children:Object(O.jsx)(d.a.Title,{as:"h5",children:"Prazo"})}),t.map(e=>Object(O.jsx)(d.a.Body,{className:"newuserbox",style:{paddingBottom:"0px"},children:Object(O.jsxs)(n.a,{style:{width:"100%",overflow:"auto"},children:[Object(O.jsx)(l.a,{sm:4,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsx)("label",{className:"floating-label",htmlFor:"Name",children:"Refer\xeancia"}),Object(O.jsx)("span",{style:{overflow:"auto",height:"auto",minHeight:"33px"},className:"form-control",children:null===e||void 0===e?void 0:e.REF})]})}),Object(O.jsx)(l.a,{sm:5,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsx)("label",{className:"floating-label",htmlFor:"Name",children:"Visado"}),Object(O.jsx)("span",{style:{overflow:"auto",height:"auto",minHeight:"33px"},className:"form-control",children:null===e||void 0===e?void 0:e.VISADO})]})}),Object(O.jsx)(l.a,{sm:3,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsx)("label",{className:"floating-label",htmlFor:"Name",children:"Prazo"}),Object(O.jsx)("span",{style:{overflow:"auto",height:"auto",minHeight:"33px"},className:"form-control",children:null===e||void 0===e?void 0:e.PRAZO})]})})]})},null===e||void 0===e?void 0:e.ID))]})};var V=e=>{let{processo_ID:s,setprocesso_ID:t,uploadlist:a,pessoalist:i,decisaolist:c,isOpenEncerrar:p,setIsOpenEncerrar:j,instrucao_ID:g}=e;const{popUp_alertaOK:m}=Object(v.a)();let b="";const h=Object(o.useRef)(null),[f,y]=Object(o.useState)(""),[_,C]=Object(o.useState)("");Object(o.useEffect)(()=>{y("")},[]);return Object(O.jsxs)(d.a,{size:"xl",show:p,onHide:()=>j(!1),children:[Object(O.jsx)(d.a.Header,{closeButton:!0,children:Object(O.jsx)(d.a.Title,{as:"h5",children:"Termo de Encerramento"})}),Object(O.jsx)(d.a.Body,{className:"newuserbox",children:Object(O.jsx)("form",{id:"submeterTermoEncerramento",onSubmit:async function(e){var t;e.preventDefault();let o=!0;if(""!=f&&""!=(null===h||void 0===h||null===(t=h.current)||void 0===t?void 0:t.value)||(o=!1,m("Preencha todos os campos obrigat\xf3rios")),o){var i;const e={DATA:f,DESPACHO:null===h||void 0===h||null===(i=h.current)||void 0===i?void 0:i.value,PROCESSO_EXCLUSAO_ID:s};try{"200"==(await x.a.put("/sgigjprocessoexclusao/".concat(g,"/termo-encerramento"),e)).status?(u.a.success("Termo de Encerramento enviado!",{duration:4e3}),a(),j(!1)):u.a.error("Erro ao enviar Termo de Encerramento",{duration:4e3})}catch(n){console.error(n.response),u.a.error("Erro ao enviar Termo de Encerramento",{duration:4e3})}}},children:Object(O.jsxs)(n.a,{children:[Object(O.jsx)(l.a,{sm:3,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Data ",Object(O.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(O.jsx)("input",{type:"date",onChange:e=>{y(e.target.value)},defaultValue:f,className:"form-control",placeholder:"Data...",required:!0})]})}),Object(O.jsx)(l.a,{sm:12,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsx)("label",{className:"floating-label",htmlFor:"Name",children:"Despacho"}),Object(O.jsx)(S.a,{editorRef:e=>{},value:_,config:{readonly:!1},ref:h,onChange:e=>(b=e,void console.log(b))})]})})]})})}),Object(O.jsxs)(d.a.Footer,{children:[Object(O.jsx)(r.a,{variant:"danger",onClick:()=>j(!1),children:"Fechar"}),Object(O.jsx)(r.a,{onClick:()=>(async()=>{try{const e=await x.a.get("/termo-encerramento/texto");"200"==e.status&&e.data.OBS&&(C(e.data.OBS),b=e.data.OBS)}catch(e){}})(),variant:"primary",children:"Gerar texto"}),Object(O.jsx)(r.a,{onClick:()=>{},type:"submit",form:"submeterTermoEncerramento",variant:"primary",children:"Concluir"})]})]})};const X="/processos/exclusaointerdicao";function J(e){let{uploadList:s,columns:t,listAno:i,data:c,modalOpen:d}=e;const[p,j]=Object(o.useState)(""),[u,g]=Object(o.useState)(""),x=Object(o.useRef)(null),{permissoes:y}=Object(v.a)(),[C,D]=Object(o.useState)(),{getTableProps:I,getTableBodyProps:S,headerGroups:N,prepareRow:A,globalFilter:E,setGlobalFilter:R,page:w,canPreviousPage:T,canNextPage:P,pageOptions:q,pageCount:F,gotoPage:k,nextPage:L,previousPage:U,setPageSize:M,state:{pageIndex:z,pageSize:G}}=Object(m.useTable)({columns:t,data:c,initialState:{pageIndex:0,pageSize:10}},m.useGlobalFilter,m.useSortBy,m.usePagination);return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(n.a,{className:"mb-3",children:[Object(O.jsxs)(l.a,{md:3,className:"d-flex align-items-center",children:["Mostrar",Object(O.jsx)("select",{className:"form-control w-auto mx-2",value:G,onChange:e=>{M(Number(e.target.value))},children:[5,10,20,30,40,50].map(e=>Object(O.jsx)("option",{value:e,children:e},e))})]}),Object(O.jsxs)(l.a,{md:9,className:"d-flex justify-content-end",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center mr-2",children:[Object(O.jsx)("div",{className:"d-flex",children:Object(O.jsxs)("div",{className:"d-flex align-items-center mr-1",children:[Object(O.jsxs)("span",{className:"floating-label",htmlFor:"Name",children:["Ano:",Object(O.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(O.jsxs)("select",{onChange:e=>{var t;t=e.target.value,s(t)},className:"form-control",id:"perfil",required:!0,"aria-required":"true",children:[Object(O.jsx)("option",{value:"",children:" Selecione um Ano "}),i.map(e=>Object(O.jsx)("option",{value:e,children:e},e))]})]})}),""!==p||""!==u?Object(O.jsx)("div",{style:{cursor:"pointer"},onClick:()=>{j(""),g(""),s()},className:"ml-2",children:Object(O.jsx)("i",{className:"feather icon-x-circle"})}):""]}),Object(O.jsx)(b,{filter:E,setFilter:R}),0==Object(_.s)(X,y,"Criar")?null:Object(O.jsxs)(r.a,{variant:"primary",className:"btn-sm btn-round has-ripple ml-2",onClick:d,children:[Object(O.jsx)("i",{className:"feather icon-plus"})," Adicionar"]})]})]}),Object(O.jsxs)(f.a,Object(a.a)(Object(a.a)({ref:x,striped:!0,bordered:!0,hover:!0,responsive:!0},I()),{},{children:[Object(O.jsx)("thead",{children:N.map(e=>Object(O.jsx)("tr",Object(a.a)(Object(a.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map(e=>Object(O.jsxs)("th",Object(a.a)(Object(a.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),Object(O.jsx)("span",{children:e.isSorted?e.isSortedDesc?Object(O.jsx)("span",{className:"feather icon-arrow-down text-muted float-right"}):Object(O.jsx)("span",{className:"feather icon-arrow-up text-muted float-right"}):""})]})))})))}),Object(O.jsx)("tbody",Object(a.a)(Object(a.a)({},S()),{},{children:w.map((e,s)=>(A(e),Object(O.jsx)("tr",Object(a.a)(Object(a.a)({},e.getRowProps()),{},{children:e.cells.map(e=>{const s=e.column.centered;return Object(O.jsx)("td",Object(a.a)(Object(a.a)({},e.getCellProps()),{},{className:s?"text-center":"text-right",children:e.render("Cell")}))})}))))}))]})),Object(O.jsxs)(n.a,{className:"justify-content-between",children:[Object(O.jsx)(l.a,{children:Object(O.jsxs)("span",{className:"d-flex align-items-center",children:["P\xe1gina"," ",Object(O.jsxs)("strong",{children:[" ",z+1," de ",q.length," "]})," ","| Ir para a p\xe1gina:"," ",Object(O.jsx)("input",{type:"number",className:"form-control ml-2",defaultValue:z+1,onChange:e=>{const s=e.target.value?Number(e.target.value)-1:0;k(s)},style:{width:"100px"}})]})}),Object(O.jsx)(l.a,{children:Object(O.jsxs)(h.a,{className:"justify-content-end",children:[Object(O.jsx)(h.a.First,{onClick:()=>k(0),disabled:!T}),Object(O.jsx)(h.a.Prev,{onClick:()=>U(),disabled:!T}),Object(O.jsx)(h.a.Next,{onClick:()=>L(),disabled:!P}),Object(O.jsx)(h.a.Last,{onClick:()=>k(F-1),disabled:!P})]})})]})]})}s.default=()=>{var e,s,t,a,j,m,b,h,f,D,I,N;const{permissoes:E,user:R,popUp_simnao:w}=Object(v.a)(),T=Object(y.i)(),[P,q]=(Object(y.g)(),Object(o.useState)(null)),{popUp_removerItem:F,popUp_alertaOK:k}=Object(v.a)(),[z,G]=Object(o.useState)("");var B=(new Date).toJSON().slice(0,10);const[Z,K]=Object(o.useState)(""),[W,Q]=Object(o.useState)(!1),[Y,$]=Object(o.useState)(!1);let ee="";const se=Object(o.useRef)(null),te=Object(o.useRef)(null),ae=e=>{},oe=i.a.useMemo(()=>[{Header:"EST",accessor:"COLOR_STATUS",centered:!1},{Header:"Refer\xeancia",accessor:"REF",centered:!1},{Header:"Despacho",accessor:"TIPO_DESPACHO",centered:!0},{Header:"Entidade Decisora",accessor:"ENTIDADEREGISTO",centered:!0},{Header:"Pessoa",accessor:"PESSOAREGISTO",centered:!0},{Header:"Visado",accessor:"PESSOA",centered:!0},{Header:"Data",accessor:"DATA2",centered:!0},{Header:"A\xe7\xf5es",accessor:"action",centered:!0}],[]),[ie,ne]=Object(o.useState)(""),[le,re]=Object(o.useState)(""),[ce,de]=Object(o.useState)(""),[pe,je]=Object(o.useState)(""),[ue,ge]=Object(o.useState)([]),[me,Oe]=Object(o.useState)(""),[be,he]=Object(o.useState)(""),[fe,xe]=Object(o.useState)([]),[ve,ye]=Object(o.useState)({}),[_e,Ce]=Object(o.useState)(!1),[De,Ie]=Object(o.useState)([]);async function Se(){try{const s=await x.a.get("/sgigjpessoa");if("200"==s.status){for(var e=0;e<s.data.length;e++)s.data[e].value=s.data[e].ID,s.data[e].label=s.data[e].NOME;Ie(s.data)}}catch(s){console.error(s.response)}}const[Ne,Ae]=Object(o.useState)([]);const[Ee,Re]=Object(o.useState)([]);const[we,Te]=Object(o.useState)([]);const[Pe,qe]=Object(o.useState)([]);const[Fe,ke]=Object(o.useState)([]);const[Le,Ue]=Object(o.useState)([]);const[Me,ze]=Object(o.useState)([]);const[Ge,Be]=Object(o.useState)(""),[He,Ve]=Object(o.useState)([]);async function Xe(e){let s,t=[];try{if(s=e?await x.a.get("/sgigjprocessoexclusao?ENTIDADE_ID=".concat(T.id,"&ano=").concat(e)):await x.a.get("/sgigjprocessoexclusao?ENTIDADE_ID=".concat(T.id)),"200"==s.status){console.log(s.data);for(var a=0;a<s.data.length;a++){var o,n,l,r,c,d,p,j,u;const e=s.data[a].ID;s.data[a].id=s.data[a].ID,s.data[a].DATA2=Object(_.f)(s.data[a].DATA);let x=new Date(s.data[a].DATA);x&&!t.includes(x.getFullYear())&&t.push(x.getFullYear()),s.data[a].PESSOA=s.data[a].sgigjrelinterveniente.map(e=>e.sgigjpessoa.NOME).join(", "),s.data[a].ORIGEM=null===(o=s.data[a].sgigjprorigemtp)||void 0===o?void 0:o.DESIG,s.data[a].PESSOAREGISTO=null===(n=s.data[a].sgigjrelpessoaentidade)||void 0===n||null===(l=n.sgigjpessoa)||void 0===l?void 0:l.NOME,s.data[a].ENTIDADEREGISTO=null===(r=s.data[a])||void 0===r||null===(c=r.sgigjentidade)||void 0===c?void 0:c.DESIG;const T=s.data[a];let oe="",ie="grey",ne=!1;if(s.data[a].ENCERRAMENTO)ie="black";else if((null===(d=s.data[a])||void 0===d?void 0:d.sgigjdespachofinal.length)>0)oe="Despacho Final";else if((null===(p=s.data[a])||void 0===p?void 0:p.sgigjprocessodespacho.length)>0){var m,b,h,f,v,y,C,D,I,S,N,A,R;if("I"==(null===(m=s.data[a])||void 0===m||null===(b=m.sgigjprocessodespacho[0])||void 0===b?void 0:b.TIPO_PROCESSO_EXCLUSAO)&&(oe="Inqu\xe9rito"),"C"==(null===(h=s.data[a])||void 0===h||null===(f=h.sgigjprocessodespacho[0])||void 0===f?void 0:f.TIPO_PROCESSO_EXCLUSAO)&&(oe="Contraordena\xe7\xe3o"),"A"==(null===(v=s.data[a])||void 0===v||null===(y=v.sgigjprocessodespacho[0])||void 0===y?void 0:y.TIPO_PROCESSO_EXCLUSAO)&&(oe="Averigua\xe7\xe3o Sum\xe1ria"),null!=(null===(C=s.data[a])||void 0===C||null===(D=C.sgigjprocessodespacho[0])||void 0===D?void 0:D.URL_DOC_GERADO)&&(ie="green"),(null===(I=s.data[a])||void 0===I||null===(S=I.sgigjprocessodespacho[0])||void 0===S?void 0:S.sgigjrelprocessoinstrutor.length)>0)if((null===(N=s.data[a])||void 0===N||null===(A=N.sgigjprocessodespacho[0])||void 0===A||null===(R=A.sgigjrelprocessoinstrutor[0])||void 0===R?void 0:R.sgigjrelprocessoinstrucao.length)>0){var w,P,q,F,k,L,U,M,z,G,B,H,V,J,Z,K,W,Q,Y,$,ee,se,te,ae;if(null!=(null===(w=s.data[a])||void 0===w||null===(P=w.sgigjprocessodespacho[0])||void 0===P||null===(q=P.sgigjrelprocessoinstrutor[0])||void 0===q||null===(F=q.sgigjrelprocessoinstrucao[0])||void 0===F?void 0:F.RELATORIO_FINAL)&&(ie="orange"),(null===(k=s.data[a])||void 0===k||null===(L=k.sgigjprocessodespacho[0])||void 0===L||null===(U=L.sgigjrelprocessoinstrutor[0])||void 0===U||null===(M=U.sgigjrelprocessoinstrucao[0])||void 0===M?void 0:M.sgigjprocessodespacho.length)>0)null!=(null===(V=s.data[a])||void 0===V||null===(J=V.sgigjprocessodespacho[0])||void 0===J||null===(Z=J.sgigjrelprocessoinstrutor[0])||void 0===Z||null===(K=Z.sgigjrelprocessoinstrucao[0])||void 0===K?void 0:K.sgigjprocessodespacho[0].URL_DOC_GERADO)&&(ie="blue");if((null===(z=s.data[a])||void 0===z||null===(G=z.sgigjprocessodespacho[0])||void 0===G||null===(B=G.sgigjrelprocessoinstrutor[0])||void 0===B||null===(H=B.sgigjrelprocessoinstrucao[0])||void 0===H?void 0:H.sgigjdespachointerrompido.length)>0)ne=!0,"A"!=(null===(W=s.data[a])||void 0===W||null===(Q=W.sgigjprocessodespacho[0])||void 0===Q||null===(Y=Q.sgigjrelprocessoinstrutor[0])||void 0===Y||null===($=Y.sgigjrelprocessoinstrucao[0])||void 0===$?void 0:$.sgigjdespachointerrompido[0].TIPO)&&"P"!=(null===(ee=s.data[a])||void 0===ee||null===(se=ee.sgigjprocessodespacho[0])||void 0===se||null===(te=se.sgigjrelprocessoinstrutor[0])||void 0===te||null===(ae=te.sgigjrelprocessoinstrucao[0])||void 0===ae?void 0:ae.sgigjdespachointerrompido[0].TIPO)||(ie="blue")}}s.data[a].TIPO_DESPACHO=oe,s.data[a].action=Object(O.jsxs)(i.a.Fragment,{children:[0==Object(_.s)(X,E,"Ler")?null:Object(O.jsx)(g.b,{to:"#",title:Object(_.u)(X,E,"Ler"),onClick:()=>as(T),className:"text-primary mx-1",children:Object(O.jsx)("i",{className:"text-primary "+Object(_.t)(X,E,"Ler")})}),0==Object(_.s)(X,E,"Editar")?null:"CONCLUIR"!=s.data[a].ESTADO_DEPACHO_INICIAL&&Object(O.jsx)(g.b,{to:"#",title:Object(_.u)(X,E,"Editar"),onClick:()=>os(T),className:"text-primary mx-1",children:Object(O.jsx)("i",{className:"text-primary "+Object(_.t)(X,E,"Editar")})}),null!=(null===(j=T.sgigjprocessodespacho[0])||void 0===j?void 0:j.URL_DOC_GERADO)&&""!=(null===(u=T.sgigjprocessodespacho[0])||void 0===u?void 0:u.URL_DOC_GERADO)&&0==Object(_.s)(X,E,"DespachoFinal")?null:"grey"!=ie&&Object(O.jsx)(g.b,{to:"#",title:Object(_.u)(X,E,"Despacho"),onClick:()=>{var e;return window.open((null===(e=T.sgigjprocessodespacho[0])||void 0===e?void 0:e.URL_DOC_GERADO)+"?alt=media&token=0")},className:"text-primary mx-1",children:Object(O.jsx)("i",{className:"text-primary  feather icon-file-text"})}),0==Object(_.s)(X,E,"DespachoFinal")?null:"orange"==ie&&Object(O.jsx)(g.b,{to:"#",title:"Despacho Decisao",onClick:()=>Es(T),className:"text-primary mx-1",children:Object(O.jsx)("i",{style:{cursor:"pointer"},className:"text-primary "+Object(_.t)(X,E,"DespachoFinal")})}),0==Object(_.s)(X,E,"DespachoFinal")?null:"orange"==ie&&Object(O.jsx)(g.b,{to:"#",title:"Encerrar",onClick:()=>{var e,s,t;_s(null===T||void 0===T?void 0:T.ID),Ds(null===T||void 0===T||null===(e=T.sgigjprocessodespacho[0])||void 0===e||null===(s=e.sgigjrelprocessoinstrutor[0])||void 0===s||null===(t=s.sgigjrelprocessoinstrucao[0])||void 0===t?void 0:t.ID),ms(!0)},className:"text-primary mx-1",children:Object(O.jsx)("i",{style:{cursor:"pointer"},className:"text-primary feather icon-paperclip"})}),0==Object(_.s)(X,E,"DespachoInicial")?null:"grey"==ie&&"CONCLUIR"==s.data[a].ESTADO_DEPACHO_INICIAL&&Object(O.jsx)(g.b,{to:"#",title:Object(_.u)(X,E,"DespachoInicial"),onClick:()=>Be(e),className:"text-primary mx-1",children:Object(O.jsx)("i",{className:"text-primary "+Object(_.t)(X,E,"DespachoInicial")})}),ne?0==Object(_.s)(X,E,"Interromper")?null:"green"==ie&&Object(O.jsx)(g.b,{to:"#",title:Object(_.u)(X,E,"Interromper"),onClick:()=>Rs(T),className:"text-primary mx-1",children:Object(O.jsx)("i",{className:"text-primary "+Object(_.t)(X,E,"Interromper")})}):0==Object(_.s)(X,E,"Instrucao")?null:"green"==ie&&Object(O.jsx)(g.b,{to:"#",title:Object(_.u)(X,E,"Instrucao"),onClick:()=>cs(T),className:"text-primary mx-1",children:Object(O.jsx)("i",{className:"text-primary "+Object(_.t)(X,E,"Instrucao")})}),0==Object(_.s)(X,E,"Eliminar")?null:Object(O.jsx)(g.b,{to:"#",title:Object(_.u)(X,E,"Eliminar"),onClick:()=>rs(e),className:"text-danger",children:Object(O.jsx)("i",{className:""+Object(_.t)(X,E,"Eliminar")})})]}),s.data[a].colorx=ie,"grey"==ie&&(s.data[a].COLOR_STATUS=Object(O.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(O.jsx)("div",{style:{backgroundColor:"red",width:"20px",height:"20px",borderRadius:"50%"}}),Object(O.jsx)("div",{style:{backgroundColor:"#fff",width:"20px",height:"20px",borderRadius:"50%",border:"2px solid orange"}}),Object(O.jsx)("div",{style:{backgroundColor:"#fff",width:"20px",height:"20px",borderRadius:"50%",border:"2px solid yellow"}}),Object(O.jsx)("div",{style:{backgroundColor:"#fff",width:"20px",height:"20px",borderRadius:"50%",border:"2px solid green"}})]})),"green"==ie&&(s.data[a].COLOR_STATUS=Object(O.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(O.jsx)("div",{style:{backgroundColor:"red",width:"20px",height:"20px",borderRadius:"50%"}}),Object(O.jsx)("div",{style:{backgroundColor:"orange",width:"20px",height:"20px",borderRadius:"50%"}}),Object(O.jsx)("div",{style:{backgroundColor:"#fff",width:"20px",height:"20px",borderRadius:"50%",border:"2px solid yellow"}}),Object(O.jsx)("div",{style:{backgroundColor:"#fff",width:"20px",height:"20px",borderRadius:"50%",border:"2px solid green"}})]})),"orange"==ie&&(s.data[a].COLOR_STATUS=Object(O.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(O.jsx)("div",{style:{backgroundColor:"red",width:"20px",height:"20px",borderRadius:"50%"}}),Object(O.jsx)("div",{style:{backgroundColor:"orange",width:"20px",height:"20px",borderRadius:"50%"}}),Object(O.jsx)("div",{style:{backgroundColor:"yellow",width:"20px",height:"20px",borderRadius:"50%"}}),Object(O.jsx)("div",{style:{backgroundColor:"#fff",width:"20px",height:"20px",borderRadius:"50%",border:"2px solid green"}})]}))}var oe=s.data.filter(e=>"blue"!=e.colorx&&"black"!=e.colorx);Ve(oe)}0==ue.length&&ge(t)}catch(ie){console.error(ie.response)}}const[Je,Ze]=Object(o.useState)(null),[Ke,We]=Object(o.useState)({}),[Qe,Ye]=Object(o.useState)("Despacho"),[$e,es]=Object(o.useState)(""),[ss,ts]=Object(o.useState)(!1),as=async e=>{try{const r=await x.a.get("/sgigjprocessoexclusao/"+e.id);if("200"==r.status&&r.data.length>0){var s,t,a,o,i;r.data[0].id=r.data[0].ID,r.data[0].DATA2=Object(_.f)(r.data[0].DATA),r.data[0].PESSOA=r.data[0].sgigjrelinterveniente.map(e=>e.sgigjpessoa.NOME).join(", "),r.data[0].ORIGEM=null===(s=r.data[0].sgigjprorigemtp)||void 0===s?void 0:s.DESIG,r.data[0].PESSOAREGISTO=null===(t=r.data[0].sgigjrelpessoaentidade)||void 0===t||null===(a=t.sgigjpessoa)||void 0===a?void 0:a.NOME,r.data[0].ENTIDADEREGISTO=null===(o=r.data[0])||void 0===o||null===(i=o.sgigjentidade)||void 0===i?void 0:i.DESIG;let e=null,c=null,d=null;var n,l;if(r.data[0].sgigjprocessodespacho.length>0)if(null!=r.data[0].sgigjprocessodespacho[0].URL_DOC_GERADO&&(e={DATA:Object(_.f)(r.data[0].sgigjprocessodespacho[0].DATA),REFERENCIA:r.data[0].sgigjprocessodespacho[0].REFERENCIA,PRAZO:r.data[0].sgigjprocessodespacho[0].PRAZO,OBS:r.data[0].sgigjprocessodespacho[0].OBS,DOC:r.data[0].sgigjprocessodespacho[0].URL_DOC_GERADO,INSTRUTOR:""}),r.data[0].sgigjprocessodespacho[0].sgigjrelprocessoinstrutor.length>0)e.INSTRUTOR=null===(n=r.data[0].sgigjprocessodespacho[0].sgigjrelprocessoinstrutor[0].sgigjrelpessoaentidade)||void 0===n||null===(l=n.sgigjpessoa)||void 0===l?void 0:l.NOME,r.data[0].sgigjprocessodespacho[0].sgigjrelprocessoinstrutor[0].sgigjrelprocessoinstrucao.length>0&&(c={list:r.data[0].sgigjprocessodespacho[0].sgigjrelprocessoinstrutor[0].sgigjrelprocessoinstrucao[0].sgigjrelinstrutorpeca},r.data[0].sgigjprocessodespacho[0].sgigjrelprocessoinstrutor[0].sgigjrelprocessoinstrucao[0].sgigjprocessodespacho.length>0&&null!=r.data[0].sgigjprocessodespacho[0].sgigjrelprocessoinstrutor[0].sgigjrelprocessoinstrucao[0].sgigjprocessodespacho[0].URL_DOC_GERADO&&(d={DOC:r.data[0].sgigjprocessodespacho[0].sgigjrelprocessoinstrutor[0].sgigjrelprocessoinstrucao[0].sgigjprocessodespacho[0].URL_DOC_GERADO,DATA:Object(_.f)(r.data[0].sgigjprocessodespacho[0].sgigjrelprocessoinstrutor[0].sgigjrelprocessoinstrucao[0].sgigjprocessodespacho[0].DATA),DESICAO:r.data[0].sgigjprocessodespacho[0].sgigjrelprocessoinstrutor[0].sgigjrelprocessoinstrucao[0].sgigjprocessodespacho[0].sgigjprdecisaotp.TIPO}));r.data[0].despacho=e,r.data[0].instrucao=c,r.data[0].despachofinal=d,console.log(c),Ze(r.data[0]),ts(!0),console.log(r.data[0])}}catch(r){console.error(r)}},os=e=>{fs(!0),ps(!1),ts(!1),ye(e),ne(e.PESSOA_ID),re(e.ENTIDADE_ID),de(e.DESCR),Oe(Object(_.e)(e.DATA)),K(e.OBS),he(e.OBS)};async function is(e){var s;let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.preventDefault(),Ce(!0);const a={PESSOAS:fe.map(e=>e.ID),DESCR:ce,ENTIDADE_ID:T.id,DATA:me,OBS:null===te||void 0===te||null===(s=te.current)||void 0===s?void 0:s.value,ESTADO_DEPACHO_INICIAL:t?"CONCLUIR":"GUARDAR"};t?(Q(!1),$(!0)):(Q(!0),$(!1)),console.log(a);try{"200"==(await x.a.put("/sgigjprocessoexclusao/"+ve.ID,a)).status&&(u.a.success("Documento Guardado!",{duration:4e3}),Xe(),Ce(!1),fs(!1))}catch(o){Ce(!1),console.error(o.response)}}async function ns(e){var s;let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e&&e.preventDefault(),t?(Q(!1),$(!0)):(Q(!0),$(!1)),Ce(!0);const a={PESSOAS:fe.map(e=>e.ID),DESCR:ce,DATA:me,ENTIDADE_ID:T.id,OBS:null===se||void 0===se||null===(s=se.current)||void 0===s?void 0:s.value,TIPO:z,ESTADO_DEPACHO_INICIAL:t?"CONCLUIR":"GUARDAR"};console.log(a);try{"200"==(await x.a.post("/sgigjprocessoexclusao",a)).status&&(u.a.success("Documento Guardado!",{duration:4e3}),Xe(),Ce(!1),ps(!1))}catch(o){Ce(!1),console.error(o.response)}}const ls=async e=>{let s=!0;try{await x.a.delete("/sgigjprocessoexclusao/"+e)}catch(t){s=!1,console.error(t.response),k("Falha. Tente mais tarde")}return Xe(),s},rs=async e=>{F({delete:ls,id:e})},cs=async e=>{q(e)};Object(o.useEffect)(()=>{ee='\n        <p class="MsoNormal" align="center" style="margin: 0cm 0cm 8pt; line-height: 16.866667px; font-size: 11pt; font-family: Calibri, sans-serif; caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0); font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none; text-align: center;"><strong><span lang="PT" style="font-size: 20pt; line-height: 18.4px; font-family: Cambria, serif;">'.concat("C"==z?"Comunicado":"Auto de Noticia",'<o:p></o:p></span></strong></p>\n        \n        <p class="MsoNormal" style="margin: 0in; line-height: 107%; text-align: justify; font-size: 15px;"><span style="line-height: 107%; font-size: 24px;">Aos _______ dias do m\xeas de ___ do ano de dois mil e _____ no _____ (identifica\xe7\xe3o do servi\xe7o ou entidade), sito em ______ (localidade), no seguimento de _______ (dilig\xeancia, circunst\xe2ncia ocasional ou den\xfancia), tomei conhecimento e por esta via dou not\xedcia do seguinte:<br>\n        __________________(descri\xe7\xe3o detalhada dos factos com men\xe7\xe3o dos fatores tempo, modo e lugar das ocorr\xeancias).<br>\n        Com os ditos procedimentos os ___________ (autores) incorrem em infra\xe7\xe3o por viola\xe7\xe3o do ____________ (enquadramento legal).<br>\n        \xc9 quanto me cumpre dar not\xed cia e para os devidos e legais efeitos se lavrou o presente auto.<br>\n        A Testemunha: (nome leg\xedvel/n.\xb0 do documento de identifica\xe7\xe3o) ______________________<br>\n        A Testemunha: (nome leg\xedvel/n.\xb0 do documento de identifica\xe7\xe3o) ______________________<br>\n        O (denunciante): ______________________</span></p>'),K(ee)},[z]),Object(o.useEffect)(()=>{Xe(),Se(),async function(){try{const e=await x.a.get("/sgigjprgenero");"200"==e.status&&Ae(e.data)}catch(e){console.error(e.response)}}(),async function(){try{const e=await x.a.get("/sgigjprdecisaotp");"200"==e.status&&Ue(e.data)}catch(e){console.error(e.response)}}(),async function(){try{const e=await x.a.get("/sgigjprestadocivil");"200"==e.status&&Re(e.data)}catch(e){console.error(e.response)}}(),async function(){try{const e=await x.a.get("/glbgeografia");"200"==e.status&&Te(e.data)}catch(e){console.error(e.response)}}(),async function(){try{const e=await x.a.get("/sgigjprdocumentotp");"200"==e.status&&qe(e.data)}catch(e){console.error(e.response)}}(),async function(){try{const e=await x.a.get("/sgigjentidade");"200"==e.status&&ze(e.data)}catch(e){console.error(e.response)}}(),async function(){try{const e=await x.a.get("/sgigjprcontactotp");"200"==e.status&&ke(e.data)}catch(e){console.error(e.response)}}()},[]);const[ds,ps]=Object(o.useState)(!1),[js,us]=Object(o.useState)(!1),[gs,ms]=Object(o.useState)(""),[Os,bs]=Object(o.useState)(null),[hs,fs]=Object(o.useState)(!1),[xs,vs]=Object(o.useState)(!1),[ys,_s]=Object(o.useState)(null),[Cs,Ds]=Object(o.useState)(null),[Is,Ss]=Object(o.useState)({code:0,value:!1}),[Ns,As]=Object(o.useState)(!1);function Es(e){ye(e),As(!0),console.log("SCV")}function Rs(e){ye(e),us(!0),console.log("SCV")}const[ws,Ts]=Object(o.useState)(!1),[Ps,qs]=Object(o.useState)([]);const[Fs,ks]=Object(o.useState)(),[Ls,Us]=Object(o.useState)(!1);return Object(O.jsx)(i.a.Fragment,{children:Object(O.jsx)(n.a,{children:Object(O.jsxs)(l.a,{sm:12,children:[Object(O.jsx)(c.a,{children:Object(O.jsx)(c.a.Body,{children:null==P?Object(O.jsx)(J,{listAno:ue,uploadList:Xe,columns:oe,data:He,modalOpen:()=>{var e,s,t,a,o;(re(""),"Casino"==(null===R||void 0===R||null===(e=R.sgigjrelpessoaentidade)||void 0===e||null===(s=e.sgigjentidade)||void 0===s||null===(t=s.sgigjprentidadetp)||void 0===t?void 0:t.DESIG))&&re(null===R||void 0===R||null===(a=R.sgigjrelpessoaentidade)||void 0===a||null===(o=a.sgigjentidade)||void 0===o?void 0:o.ID);ps(!0),fs(!1),ts(!1),ne(""),ne([]),de(""),Oe(""),he(""),0==Object(_.s)(X,E,"Criar_C")?G("N"):G("C"),ee='\n        <p class="MsoNormal" align="center" style="margin: 0cm 0cm 8pt; line-height: 16.866667px; font-size: 11pt; font-family: Calibri, sans-serif; caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0); font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none; text-align: center;"><strong><span lang="PT" style="font-size: 12pt; line-height: 18.4px; font-family: Cambria, serif;">'.concat("C"==z?"Comunicado":"Auto de Noticia",'<o:p></o:p></span></strong></p>\n        \n        <p class="MsoNormal" style="margin: 0in; line-height: 107%; text-align: justify; font-size: 15px;"><span style="line-height: 107%; font-size: 24px;">Aos _______ dias do m\xeas de ___ do ano de dois mil e _____ no _____ (identifica\xe7\xe3o do servi\xe7o ou entidade), sito em ______ (localidade), no seguimento de _______ (dilig\xeancia, circunst\xe2ncia ocasional ou den\xfancia), tomei conhecimento e por esta via dou not\xedcia do seguinte:<br>\n        __________________(descri\xe7\xe3o detalhada dos factos com men\xe7\xe3o dos fatores tempo, modo e lugar das ocorr\xeancias).<br>\n        Com os ditos procedimentos os ___________ (autores) incorrem em infra\xe7\xe3o por viola\xe7\xe3o do ____________ (enquadramento legal).<br>\n        \xc9 quanto me cumpre dar not\xedcia e para os devidos e legais efeitos se lavrou o presente auto.<br>\n        A Testemunha: (nome leg\xedvel/n.\xb0 do documento de identifica\xe7\xe3o) ______________________<br>\n        A Testemunha: (nome leg\xedvel/n.\xb0 do documento de identifica\xe7\xe3o) ______________________<br>\n        O (denunciante): ______________________</span></p>'),K(ee)},pageAcess:X,permissoes:E}):Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(L,{decisaolist:Le,uploadlist:Xe,setinstrucaoitem:q,pageAcess:X,permissoes:E,item:P})})})}),Object(O.jsxs)(d.a,{size:"xl",show:ds,onHide:()=>ps(!1),children:[Object(O.jsx)(d.a.Header,{closeButton:!0,children:Object(O.jsx)(d.a.Title,{as:"h5",children:"Criar"})}),Object(O.jsx)(d.a.Body,{className:"newuserbox",children:Object(O.jsx)("form",{id:"criarItem",onSubmit:ns,children:Object(O.jsxs)(n.a,{children:[Object(O.jsx)(l.a,{sm:12,children:Object(O.jsxs)(p.a.Group,{style:{display:"flex",justifyContent:"center"},children:[Object(O.jsx)(p.a.Check,{inline:!0,custom:!0,required:!0,type:"radio",label:"Comunicado",name:"supportedRadio",id:"group",defaultChecked:"C"==z,disabled:!Object(_.s)(X,E,"Criar_C"),onChange:()=>G("C")}),Object(O.jsx)(p.a.Check,{inline:!0,custom:!0,required:!0,disabled:!Object(_.s)(X,E,"Criar_N"),type:"radio",label:"Auto de Not\xedcia",name:"supportedRadio",id:"collapse",defaultChecked:"N"==z,onChange:()=>G("N")})]})}),Object(O.jsx)(l.a,{sm:4,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Refer\xeancia ",Object(O.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(O.jsx)("input",{disabled:!0,type:"text",className:"form-control",id:"Name",value:"*",required:!0})]})}),Object(O.jsx)(l.a,{sm:6,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Data ",Object(O.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(O.jsx)("input",{max:B,type:"date",onChange:e=>{Oe(e.target.value)},defaultValue:me,className:"form-control",placeholder:"Data...",required:!0})]})}),Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{className:"col-sm-12",children:Object(O.jsx)(S.a,{editorRef:ae,value:Z,config:{readonly:!1},ref:se,onChange:e=>(ee=e,void console.log(ee))})})})]})})}),Object(O.jsxs)(d.a.Footer,{children:[Object(O.jsx)(r.a,{variant:"danger",onClick:()=>ps(!1),children:"Fechar"}),_e?Object(O.jsx)(r.a,{variant:"primary",children:W?"Guardando":"Guardar"}):Object(O.jsx)(r.a,{type:"button",form:"criarItem",variant:"primary",onClick:e=>ns(e,!1),children:"Guardar"}),_e?Object(O.jsx)(r.a,{variant:"primary",children:Y?"Concluindo":"Concluir"}):Object(O.jsx)(r.a,{type:"submit",form:"criarItem",variant:"primary",children:"Concluir"})]})]}),Object(O.jsxs)(d.a,{size:"lg",show:hs,onHide:()=>fs(!1),children:[Object(O.jsx)(d.a.Header,{closeButton:!0,children:Object(O.jsx)(d.a.Title,{as:"h5",children:"Editar"})}),Object(O.jsx)(d.a.Body,{className:"newuserbox",children:Object(O.jsx)("form",{id:"editarItem",onSubmit:is,children:Object(O.jsxs)(n.a,{children:[Object(O.jsx)(l.a,{sm:4,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Refer\xeancia ",Object(O.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(O.jsx)("input",{disabled:!0,type:"text",className:"form-control",id:"Name",value:ve.REF,required:!0})]})}),Object(O.jsx)(l.a,{sm:6,children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Data ",Object(O.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(O.jsx)("input",{max:B,type:"date",onChange:e=>{Oe(e.target.value)},defaultValue:me,className:"form-control",placeholder:"Data...",required:!0})]})}),Object(O.jsx)("div",{className:"col-sm-12",children:Object(O.jsx)("div",{className:"form-group fill",children:Object(O.jsx)(S.a,{editorRef:ae,value:Z,config:{readonly:!1},ref:te})})})]})})}),Object(O.jsxs)(d.a.Footer,{children:[Object(O.jsx)(r.a,{variant:"danger",onClick:()=>fs(!1),children:"Fechar"}),_e?Object(O.jsx)(r.a,{variant:"primary",children:Y?"Concluindo":"Concluir"}):Object(O.jsx)(r.a,{form:"editarItem",variant:"primary",onClick:e=>is(e,!0),children:"Concluir"}),_e?Object(O.jsx)(r.a,{variant:"primary",children:W?"Guardando":"Guardar"}):Object(O.jsx)(r.a,{type:"submit",form:"editarItem",variant:"primary",children:"Guardar"})]})]}),Object(O.jsxs)(d.a,{size:"lg",show:ss,onHide:()=>ts(!1),children:[Object(O.jsxs)(d.a.Header,{style:{border:"0"},closeButton:!0,children:[Object(O.jsx)(d.a.Title,{as:"h5"}),Object(O.jsx)(d.a.Title,{as:"h5",children:"Processo"})]}),null!=Je&&Object(O.jsx)(d.a.Body,{children:Object(O.jsxs)(n.a,{children:[Object(O.jsxs)(l.a,{xl:4,className:"task-detail-right",children:[Object(O.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:Object(O.jsxs)("span",{children:[Object(O.jsx)("i",{className:"feather icon-shield m-r-5"}),"Pedido"]})}),Object(O.jsx)("div",{style:{borderBottom:"1px solid #d2b32a",borderTop:"1px solid #d2b32a",marginBottom:"20px",marginTop:"6px",paddingTop:"20px"},children:Object(O.jsxs)("div",{style:{width:"100%",flexDirection:"column ",display:"flex",justifyContent:"space-between",marginBottom:"15px"},children:[Object(O.jsxs)("span",{children:[Object(O.jsx)("i",{className:"feather icon-map-pin m-r-5"}),"Visado"]}),Object(O.jsx)("span",{style:{color:"#6c757d"},children:Je.PESSOA})]})}),Object(O.jsxs)("div",{style:{borderBottom:"1px solid #d2b32a",marginBottom:"20px"},children:[Object(O.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",marginBottom:"15px"},children:[Object(O.jsxs)("span",{children:[Object(O.jsx)("i",{className:"feather icon-map-pin m-r-5"}),"Entidade Decisora"]}),Object(O.jsx)("span",{style:{color:"#6c757d"},children:"IGJ"})]}),Object(O.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",marginBottom:"15px"},children:[Object(O.jsxs)("span",{children:[Object(O.jsx)("i",{className:"feather icon-map-pin m-r-5"}),"Pedido por"]}),Object(O.jsx)("span",{style:{color:"#6c757d"},children:Je.PESSOAREGISTO})]}),Object(O.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",marginBottom:"15px"},children:[Object(O.jsxs)("span",{children:[Object(O.jsx)("i",{className:"feather icon-map-pin m-r-5"}),"Pedido Pedido"]}),Object(O.jsx)("span",{style:{color:"#6c757d"},children:Je.DATA2})]})]}),Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",marginBottom:"15px"},children:[Object(O.jsxs)("span",{children:[Object(O.jsx)("i",{className:"feather icon-phone m-r-5"}),"Descri\xe7\xe3o"]}),Object(O.jsx)("span",{style:{color:"#6c757d"},children:Je.DESCR})]}),null!=Je.URL_DOC_GERADO&&Object(O.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",marginBottom:"15px"},children:Object(O.jsx)("a",{target:"_blank",href:(null===Je||void 0===Je?void 0:Je.URL_DOC_GERADO)+"?alt=media&token=0",children:Object(O.jsx)("span",{style:{display:"flex",fontWeight:"bold"},children:"Abrir Pedido"})})})]})]}),Object(O.jsxs)(l.a,{xl:8,className:"task-detail-right",children:[Object(O.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"spaceAround"},children:[Object(O.jsxs)("span",{onClick:()=>Ye("Despacho"),style:"Despacho"==Qe?{paddingBottom:"4px",cursor:"pointer",borderBottom:"2px solid #d2b32a",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}:{paddingBottom:"4px",cursor:"pointer",borderBottom:"1px solid #E5E5E5",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(O.jsx)("i",{className:"feather icon-film m-r-5"}),"Despacho"]}),Object(O.jsxs)("span",{onClick:()=>Ye("Instrucao"),style:"Instrucao"==Qe?{paddingBottom:"4px",cursor:"pointer",borderBottom:"2px solid #d2b32a",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}:{paddingBottom:"4px",cursor:"pointer",borderBottom:"1px solid #E5E5E5",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(O.jsx)("i",{className:"feather icon-voicemail m-r-5"}),"Instru\xe7\xe3o"]}),Object(O.jsxs)("span",{onClick:()=>Ye("Despachofinal"),style:"Despachofinal"==Qe?{paddingBottom:"4px",cursor:"pointer",borderBottom:"2px solid #d2b32a",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}:{paddingBottom:"4px",cursor:"pointer",borderBottom:"1px solid #E5E5E5",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(O.jsx)("i",{className:"feather icon-file-text m-r-5"}),"Despacho Decis\xe3o"]})]}),Object(O.jsx)("div",{style:"Despacho"==Qe?{width:"100%",height:"450px",overflow:"auto"}:{display:"none"},children:null!=(null===Je||void 0===Je?void 0:Je.despacho)&&Object(O.jsxs)("div",{style:{width:"100%",paddingTop:"20px",marginTop:"20px"},children:[Object(O.jsxs)("div",{style:{padding:"5px",borderBottom:"1px solid #d2b32a",width:"100%",display:"flex",marginBottom:"10px"},children:[Object(O.jsx)("span",{style:{color:"#6c757d",width:"37%"},children:"Refer\xeancia"}),Object(O.jsx)("span",{style:{color:"#6c757d",width:"37%"},children:null===Je||void 0===Je||null===(e=Je.despacho)||void 0===e?void 0:e.REFERENCIA})]}),Object(O.jsxs)("div",{style:{padding:"5px",borderBottom:"1px solid #d2b32a",width:"100%",display:"flex",marginBottom:"10px"},children:[Object(O.jsx)("span",{style:{color:"#6c757d",width:"37%"},children:"Data"}),Object(O.jsx)("span",{style:{color:"#6c757d",width:"37%"},children:null===Je||void 0===Je||null===(s=Je.despacho)||void 0===s?void 0:s.DATA})]}),Object(O.jsxs)("div",{style:{padding:"5px",borderBottom:"1px solid #d2b32a",width:"100%",display:"flex",marginBottom:"10px"},children:[Object(O.jsx)("span",{style:{color:"#6c757d",width:"37%"},children:"Prazo"}),Object(O.jsx)("span",{style:{color:"#6c757d",width:"37%"},children:null===Je||void 0===Je||null===(t=Je.despacho)||void 0===t?void 0:t.PRAZO})]}),Object(O.jsxs)("div",{style:{padding:"5px",borderBottom:"1px solid #d2b32a",width:"100%",display:"flex",marginBottom:"10px"},children:[Object(O.jsx)("span",{style:{color:"#6c757d",width:"37%"},children:"Instrutor"}),Object(O.jsx)("span",{style:{color:"#6c757d",width:"37%"},children:null===Je||void 0===Je||null===(a=Je.despacho)||void 0===a?void 0:a.INSTRUTOR})]}),Object(O.jsxs)("div",{style:{padding:"5px",borderBottom:"1px solid #d2b32a",width:"100%",display:"flex",marginBottom:"10px"},children:[Object(O.jsx)("span",{style:{color:"#6c757d",width:"37%"},children:"Observa\xe7\xe3o"}),Object(O.jsx)("span",{style:{color:"#6c757d",width:"37%"},children:null===Je||void 0===Je||null===(j=Je.despacho)||void 0===j?void 0:j.OBS})]}),null!=(null===Je||void 0===Je||null===(m=Je.despacho)||void 0===m?void 0:m.DOC)&&Object(O.jsx)("div",{style:{width:"100%",display:"flex",marginBottom:"15px",display:"flex",justifyContent:"center"},children:Object(O.jsx)("a",{target:"_blank",href:(null===Je||void 0===Je||null===(b=Je.despacho)||void 0===b?void 0:b.DOC)+"?alt=media&token=0",children:Object(O.jsx)("span",{style:{display:"flex",fontWeight:"bold"},children:"Abrir Documento"})})})]})}),Object(O.jsx)("div",{style:"Instrucao"==Qe?{width:"100%",height:"450px",overflow:"auto"}:{display:"none"},children:null!=(null===Je||void 0===Je?void 0:Je.instrucao)&&Object(O.jsxs)("div",{style:{width:"100%",paddingTop:"20px",marginTop:"20px"},children:[null===Je||void 0===Je||null===(h=Je.instrucao)||void 0===h?void 0:h.list.map(e=>Object(O.jsxs)("div",{style:{padding:"5px",borderBottom:"1px solid #d2b32a",width:"100%",display:"flex",marginBottom:"10px"},children:[Object(O.jsx)("span",{style:{color:"#6c757d"},children:null===e||void 0===e?void 0:e.sgigjprpecasprocessual.DESIG}),Object(O.jsx)("span",{style:{color:"#6c757d"},children:Object(O.jsx)(g.b,{to:"#",onClick:()=>function(e){var s=[];s=null===e||void 0===e?void 0:e.sgigjreldocumento,null!=e.URL_DOC&&s.push({DOC_URL:e.URL_DOC,sgigjprdocumentotp:{DESIG:"Documento gerado"}}),Ts(!0),qs(null===e||void 0===e?void 0:e.sgigjreldocumento)}(e),children:Object(O.jsx)("i",{className:"feather icon-file"})})})]})),Object(O.jsx)("div",{style:{width:"100%",display:"flex",marginBottom:"15px",display:"flex",justifyContent:"center"},children:Object(O.jsx)("a",{href:"#",children:Object(O.jsx)("span",{onClick:()=>async function(e){console.log("sdsdsds");let s=[];try{const o=await x.a.get("/sgigjprocessoexclusao/"+e);"200"==o.status&&o.data.length>0&&(o.data[0].id=o.data[0].ID,o.data[0].sgigjprocessodespacho.length>0&&o.data[0].sgigjprocessodespacho[0].sgigjrelprocessoinstrutor.length>0&&o.data[0].sgigjprocessodespacho[0].sgigjrelprocessoinstrutor[0].sgigjrelprocessoinstrucao.length>0&&(s=o.data[0].sgigjprocessodespacho[0].sgigjrelprocessoinstrutor[0].sgigjrelprocessoinstrucao[0].sgigjrelinstrutorpeca));var t=[];if(s.length>0)for(let e=0;e<s.length;e++){const a=s[e];for(let e=0;e<a.sgigjreldocumento.length;e++){const s=a.sgigjreldocumento[e];t.push(s.DOC_URL)}null!=a.URL_DOC&&t.push(a.URL_DOC)}console.log("GO_ER");const i=await x.a.get("/juntada/"+e);if("200"==i.status){const e=i.data.buffer.data,s=new Uint8Array(e).buffer;var a=new Blob([s],{type:"application/pdf"});const t=URL.createObjectURL(a);console.log(a),ks(t),Us(!0)}}catch(o){console.error(o)}}(Je.ID),style:{display:"flex",fontWeight:"bold"},children:"Juntada"})})})]})}),Object(O.jsx)("div",{style:"Despachofinal"==Qe?{width:"100%",height:"450px",overflow:"auto"}:{display:"none"},children:null!=(null===Je||void 0===Je?void 0:Je.despachofinal)&&Object(O.jsxs)("div",{style:{width:"100%",paddingTop:"20px",marginTop:"20px"},children:[Object(O.jsxs)("div",{style:{padding:"5px",borderBottom:"1px solid #d2b32a",width:"100%",display:"flex",marginBottom:"10px"},children:[Object(O.jsx)("span",{style:{color:"#6c757d",width:"37%"},children:"Decis\xe3o"}),Object(O.jsx)("span",{style:{color:"#6c757d",width:"37%"},children:null===Je||void 0===Je||null===(f=Je.despachofinal)||void 0===f?void 0:f.DESICAO})]}),Object(O.jsxs)("div",{style:{padding:"5px",borderBottom:"1px solid #d2b32a",width:"100%",display:"flex",marginBottom:"10px"},children:[Object(O.jsx)("span",{style:{color:"#6c757d",width:"37%"},children:"Data"}),Object(O.jsx)("span",{style:{color:"#6c757d",width:"37%"},children:null===Je||void 0===Je||null===(D=Je.despachofinal)||void 0===D?void 0:D.DATA})]}),null!=(null===Je||void 0===Je||null===(I=Je.despachofinal)||void 0===I?void 0:I.DOC)&&Object(O.jsx)("div",{style:{width:"100%",display:"flex",marginBottom:"15px",display:"flex",justifyContent:"center"},children:Object(O.jsx)("a",{target:"_blank",href:(null===Je||void 0===Je||null===(N=Je.despachofinal)||void 0===N?void 0:N.DOC)+"?alt=media&token=0",children:Object(O.jsx)("span",{style:{display:"flex",fontWeight:"bold"},children:"Abrir Documento"})})})]})})]})]})}),Object(O.jsx)(d.a.Footer,{children:Object(O.jsx)(r.a,{variant:"danger",onClick:()=>ts(!1),children:"Fechar"})})]}),Object(O.jsxs)(d.a,{size:"lg",show:js,onHide:()=>us(!1),children:[Object(O.jsx)(d.a.Header,{closeButton:!0,children:Object(O.jsx)(d.a.Title,{as:"h5",children:"Interropido Final"})}),Object(O.jsx)(d.a.Body,{className:"newuserbox w-100",children:Object(O.jsx)("form",{className:"w-100",id:"criarItem",onSubmit:function(e){var s,t,a,o,i,n,l;async function r(e){const s=null===ve||void 0===ve?void 0:ve.sgigjprocessodespacho[0].sgigjrelprocessoinstrutor[0].sgigjrelprocessoinstrucao[0].ID,t={OBS_IG:pe,APLICAR:e};let a=!1;try{"200"==(await x.a.put("/sgigjrelprocessoinstrucao/".concat(s,"/interrompidofinal"),t)).status&&(u.a.success("Documento Guardado!",{duration:4e3}),Xe(),us(!1),a=!0)}catch(o){console.error(o.response)}return a}if(e.preventDefault(),(null===ve||void 0===ve||null===(s=ve.sgigjprocessodespacho)||void 0===s?void 0:s.length)>0&&(null===ve||void 0===ve||null===(t=ve.sgigjprocessodespacho[0])||void 0===t?void 0:t.sgigjrelprocessoinstrutor.length)>0&&(null===ve||void 0===ve||null===(a=ve.sgigjprocessodespacho[0])||void 0===a||null===(o=a.sgigjrelprocessoinstrutor[0])||void 0===o?void 0:o.sgigjrelprocessoinstrucao.length)>0&&(null===ve||void 0===ve||null===(i=ve.sgigjprocessodespacho[0])||void 0===i||null===(n=i.sgigjrelprocessoinstrutor[0])||void 0===n||null===(l=n.sgigjrelprocessoinstrucao[0])||void 0===l?void 0:l.sgigjdespachointerrompido.length)>0){const e=ve.sgigjprocessodespacho[0].sgigjrelprocessoinstrutor[0].sgigjrelprocessoinstrucao[0].sgigjdespachointerrompido[0].TIPO;console.log(e),"P0"==e&&w("Deseja confirmar a prescri\xe7\xe3o?",{sim:()=>r("S"),nao:()=>r("N"),id:null===R||void 0===R?void 0:R.ID}),"A0"==e&&w("Deseja confirmar o arquivamento?",{sim:()=>r("S"),nao:()=>r("N"),id:null===R||void 0===R?void 0:R.ID})}},children:Object(O.jsx)(n.a,{children:Object(O.jsx)("div",{className:"col-sm-12",children:Object(O.jsxs)("div",{className:"form-group fill",children:[Object(O.jsxs)("label",{className:"floating-label",htmlFor:"Address",children:["Descri\xe7\xe3o ",Object(O.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(O.jsx)("textarea",{maxLength:"64000",className:"form-control",onChange:e=>{je(e.target.value)},defaultValue:pe,rows:"3",placeholder:"Descri\xe7\xe3o...",required:!0})]})})})})}),Object(O.jsxs)(d.a.Footer,{children:[Object(O.jsx)(r.a,{variant:"danger",onClick:()=>us(!1),children:"Fechar"}),_e?Object(O.jsx)(r.a,{variant:"primary",children:"Guardando"}):Object(O.jsx)(r.a,{type:"submit",form:"criarItem",variant:"primary",children:"Guardar"})]})]}),Object(O.jsx)(C.a,{generolist:Ne,estadocivillist:Ee,glbgeografialist:we,documentolist:Pe,contactolist:Fe,pessoaopenDO:Is,uploadpessoa:Se}),Object(O.jsx)(A.a,{Open:ws,setOpen:Ts,list:Ps}),Object(O.jsx)(d.a,{size:"xl",show:Ls,onHide:()=>Us(!1),children:Object(O.jsx)("iframe",{height:1e3,src:"".concat(Fs),title:"pdf-viewer",width:"100%s"})}),Object(O.jsx)(M,{uploadlist:Xe,decisaolist:Le,isdepachofinal:Ns,setisdepachofinal:As,processo:ve}),Object(O.jsx)(H,{}),Object(O.jsx)(U,{decisaolist:Le,pessoalist:De,uploadlist:Xe,processo_ID:Ge,setprocesso_ID:Be}),Object(O.jsx)(V,{decisaolist:Le,pessoalist:De,uploadlist:Xe,processo_ID:ys,isOpenEncerrar:gs,setIsOpenEncerrar:ms,instrucao_ID:Cs})]})})})}}}]);
//# sourceMappingURL=7.3fb50f18.chunk.js.map