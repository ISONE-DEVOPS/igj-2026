(this["webpackJsonpigj-frontend"]=this["webpackJsonpigj-frontend"]||[]).push([[61],{1006:function(e,a,t){"use strict";t.r(a);var s=t(8),c=t(0),r=t.n(c),l=t(812),i=t(404),n=t(403),o=t(818),d=t(840),j=t(814),b=t(817),m=t(7),O=t(816),h=t(1);const x=e=>{let{filter:a,setFilter:t}=e;const[s,r]=Object(c.useState)(a),l=Object(O.useAsyncDebounce)(e=>{t(e||void 0)},1e3);return Object(h.jsxs)("span",{className:"d-flex align-items-center justify-content-end",children:["Procurar:"," ",Object(h.jsx)("input",{className:"form-control ml-2 w-auto",value:s||"",onChange:e=>{r(e.target.value),l(e.target.value)}})]})};var u=t(32),p=t(24),g=t(22),f=t(83);const v="/configuracao/tipodecisao";function N(e){let{columns:a,data:t,modalOpen:c}=e;const{permissoes:r}=Object(p.a)(),{getTableProps:d,getTableBodyProps:j,headerGroups:m,prepareRow:u,globalFilter:g,setGlobalFilter:N,page:y,canPreviousPage:P,canNextPage:S,pageOptions:w,pageCount:C,gotoPage:D,nextPage:F,previousPage:I,setPageSize:E,state:{pageIndex:A,pageSize:H}}=Object(O.useTable)({columns:a,data:t,initialState:{pageIndex:0,pageSize:10}},O.useGlobalFilter,O.useSortBy,O.usePagination);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(l.a,{className:"mb-3",children:[Object(h.jsxs)(i.a,{className:"d-flex align-items-center",children:["Mostrar",Object(h.jsx)("select",{className:"form-control w-auto mx-2",value:H,onChange:e=>{E(Number(e.target.value))},children:[5,10,20,30,40,50].map(e=>Object(h.jsx)("option",{value:e,children:e},e))}),"entradas"]}),Object(h.jsxs)(i.a,{className:"d-flex justify-content-end",children:[Object(h.jsx)(x,{filter:g,setFilter:N}),0==Object(f.s)(v,r,"Criar")?null:Object(h.jsxs)(n.a,{variant:"primary",className:"btn-sm btn-round has-ripple ml-2",onClick:c,children:[Object(h.jsx)("i",{className:"feather icon-plus"})," Adicionar"]})]})]}),Object(h.jsxs)(b.a,Object(s.a)(Object(s.a)({striped:!0,bordered:!0,hover:!0,responsive:!0},d()),{},{children:[Object(h.jsx)("thead",{children:m.map(e=>Object(h.jsx)("tr",Object(s.a)(Object(s.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map(e=>Object(h.jsxs)("th",Object(s.a)(Object(s.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),Object(h.jsx)("span",{children:e.isSorted?e.isSortedDesc?Object(h.jsx)("span",{className:"feather icon-arrow-down text-muted float-right"}):Object(h.jsx)("span",{className:"feather icon-arrow-up text-muted float-right"}):""})]})))})))}),Object(h.jsx)("tbody",Object(s.a)(Object(s.a)({},j()),{},{children:y.map((e,a)=>(u(e),Object(h.jsx)("tr",Object(s.a)(Object(s.a)({},e.getRowProps()),{},{children:e.cells.map(e=>{const a=e.column.centered;return Object(h.jsx)("td",Object(s.a)(Object(s.a)({},e.getCellProps()),{},{className:a?"text-center":"text-right",children:e.render("Cell")}))})}))))}))]})),Object(h.jsxs)(l.a,{className:"justify-content-between",children:[Object(h.jsx)(i.a,{children:Object(h.jsxs)("span",{className:"d-flex align-items-center",children:["P\xe1gina"," "," ",Object(h.jsxs)("strong",{children:[" ",A+1," de ",w.length," "]})," ","| Ir para a p\xe1gina:"," ",Object(h.jsx)("input",{type:"number",className:"form-control ml-2",defaultValue:A+1,onChange:e=>{const a=e.target.value?Number(e.target.value)-1:0;D(a)},style:{width:"100px"}})]})}),Object(h.jsx)(i.a,{children:Object(h.jsxs)(o.a,{className:"justify-content-end",children:[Object(h.jsx)(o.a.First,{onClick:()=>D(0),disabled:!P}),Object(h.jsx)(o.a.Prev,{onClick:()=>I(),disabled:!P}),Object(h.jsx)(o.a.Next,{onClick:()=>F(),disabled:!S}),Object(h.jsx)(o.a.Last,{onClick:()=>D(C-1),disabled:!S})]})})]})]})}a.default=()=>{const{permissoes:e}=Object(p.a)(),a=Object(g.g)(),{popUp_removerItem:t,popUp_alertaOK:s}=Object(p.a)(),o=r.a.useMemo(()=>[{Header:"C\xf3digo",accessor:"CODIGO",centered:!1},{Header:"Designa\xe7\xe3o",accessor:"DESIG",centered:!0},{Header:"Descri\xe7\xe3o",accessor:"OBS",centered:!0},{Header:"A\xe7\xf5es",accessor:"action",centered:!0}],[]),[b,O]=Object(c.useState)(""),[x,y]=Object(c.useState)(""),[P,S]=Object(c.useState)(""),[w,C]=Object(c.useState)(""),[D,F]=Object(c.useState)(""),[I,E]=Object(c.useState)({}),[A,H]=Object(c.useState)([]);async function T(){try{const t=await u.a.get("/sgigjprdecisaotp");if("200"==t.status){for(var a=0;a<t.data.length;a++){const s=t.data[a].ID;t.data[a].id=t.data[a].ID;const c=t.data[a];t.data[a].action=Object(h.jsxs)(r.a.Fragment,{children:[0==Object(f.s)(v,e,"Ler")?null:Object(h.jsx)(m.b,{to:"#",title:Object(f.u)(v,e,"Ler"),onClick:()=>B(c),className:"text-primary mx-1",children:Object(h.jsx)("i",{className:"text-primary "+Object(f.t)(v,e,"Ler")})}),0==Object(f.s)(v,e,"Editar")?null:Object(h.jsx)(m.b,{to:"#",title:Object(f.u)(v,e,"Editar"),onClick:()=>G(c),className:"text-primary mx-1",children:Object(h.jsx)("i",{className:"text-primary "+Object(f.t)(v,e,"Editar")})}),0==Object(f.s)(v,e,"Eliminar")?null:Object(h.jsx)(m.b,{to:"#",title:Object(f.u)(v,e,"Eliminar"),onClick:()=>L(s),className:"text-danger",children:Object(h.jsx)("i",{className:""+Object(f.t)(v,e,"Eliminar")})})]})}H(t.data)}}catch(t){console.error(t.response)}}const B=e=>{M(!0),q(!1),V(!1),E(e)},G=e=>{q(!0),V(!1),M(!1),E(e),O(e.ID),y(e.DESIG),S(e.OBS),F(e.TIPO)};const k=async e=>{let a=!0;try{await u.a.delete("/sgigjprdecisaotp/"+e)}catch(t){a=!1,console.error(t.response),s("Falha. Tente mais tarde")}return T(),a},L=async e=>{t({delete:k,id:e})};Object(c.useEffect)(()=>{0==Object(f.l)(v,e)?a.push("/"):T()},[]);const[z,V]=Object(c.useState)(!1),[R,q]=Object(c.useState)(!1),[_,M]=Object(c.useState)(!1),[U,J]=Object(c.useState)(!1);return Object(h.jsx)(r.a.Fragment,{children:Object(h.jsx)(l.a,{children:Object(h.jsxs)(i.a,{sm:12,children:[Object(h.jsx)(d.a,{children:Object(h.jsx)(d.a.Body,{children:Object(h.jsx)(N,{columns:o,data:A,modalOpen:()=>{V(!0),q(!1),M(!1),O(""),y(""),S(""),F(""),C("")}})})}),Object(h.jsxs)(j.a,{size:"x",show:z,onHide:()=>V(!1),children:[Object(h.jsx)(j.a.Header,{closeButton:!0,children:Object(h.jsx)(j.a.Title,{as:"h5",children:"Criar"})}),Object(h.jsx)(j.a.Body,{className:"newuserbox",children:Object(h.jsx)("form",{id:"criarItem",onSubmit:async function(e){e.preventDefault();const a={DESIG:x,OBS:P,TIPO:D};console.log(a);try{"200"==(await u.a.post("/sgigjprdecisaotp",a)).status&&(T(),V(!1))}catch(t){console.error(t.response)}},children:Object(h.jsxs)(l.a,{children:[Object(h.jsx)(i.a,{sm:4,children:Object(h.jsxs)("div",{className:"form-group fill",children:[Object(h.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["C\xf3digo ",Object(h.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(h.jsx)("input",{disabled:!0,type:"text",className:"form-control",id:"Name",value:"*",required:!0})]})}),Object(h.jsx)(i.a,{sm:8,children:Object(h.jsxs)("div",{className:"form-group fill",children:[Object(h.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Tipo ",Object(h.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(h.jsxs)("select",{onChange:e=>{F(e.target.value)},className:"form-control",id:"perfil",required:!0,"aria-required":"true",children:[Object(h.jsx)("option",{hidden:!0,value:"",children:"Selecione"}),Object(h.jsx)("option",{value:"APROVADO",children:"Aprovado"}),Object(h.jsx)("option",{value:"NAO_APROVADO",children:"N\xe3o aprovado"})]})]})}),Object(h.jsx)("div",{className:"col-sm-12",children:Object(h.jsxs)("div",{className:"form-group fill",children:[Object(h.jsxs)("label",{className:"floating-label",htmlFor:"Address",children:["Descri\xe7\xe3o ",Object(h.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(h.jsx)("input",{maxLength:"128",type:"text",onChange:e=>{y(e.target.value)},defaultValue:"",className:"form-control",placeholder:"Designa\xe7\xe3o...",required:!0})]})}),Object(h.jsx)("div",{className:"col-sm-12",children:Object(h.jsxs)("div",{className:"form-group fill",children:[Object(h.jsx)("label",{className:"floating-label",htmlFor:"Address",children:"Observa\xe7\xe3o"}),Object(h.jsx)("textarea",{maxLength:"64000",className:"form-control",onChange:e=>{S(e.target.value)},defaultValue:"",rows:"3",placeholder:"Descri\xe7\xe3o..."})]})})]})})}),Object(h.jsxs)(j.a.Footer,{children:[Object(h.jsx)(n.a,{variant:"danger",onClick:()=>V(!1),children:"Fechar"}),Object(h.jsx)(n.a,{type:"submit",form:"criarItem",variant:"primary",children:"Guardar"})]})]}),Object(h.jsxs)(j.a,{size:"x",show:R,onHide:()=>q(!1),children:[Object(h.jsx)(j.a.Header,{closeButton:!0,children:Object(h.jsx)(j.a.Title,{as:"h5",children:"Editar"})}),Object(h.jsx)(j.a.Body,{className:"newuserbox",children:Object(h.jsx)("form",{id:"editarItem",onSubmit:async function(e){e.preventDefault();const a={DESIG:x,OBS:P,TIPO:D};console.log(a);try{"200"==(await u.a.put("/sgigjprdecisaotp/"+I.ID,a)).status&&(T(),q(!1))}catch(t){console.error(t.response)}},children:Object(h.jsxs)(l.a,{children:[Object(h.jsx)(i.a,{sm:4,children:Object(h.jsxs)("div",{className:"form-group fill",children:[Object(h.jsxs)("label",{disabled:!0,className:"floating-label",htmlFor:"Name",children:["C\xf3digo ",Object(h.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(h.jsx)("input",{type:"text",disabled:!0,onChange:()=>{},value:I.CODIGO,className:"form-control",id:"Name",placeholder:"code",required:!0})]})}),Object(h.jsx)(i.a,{sm:8,children:Object(h.jsxs)("div",{className:"form-group fill",children:[Object(h.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Tipo ",Object(h.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(h.jsxs)("select",{onChange:e=>{F(e.target.value)},defaultValue:I.TIPO,className:"form-control",id:"perfil",required:!0,"aria-required":"true",children:[Object(h.jsx)("option",{hidden:!0,value:"",children:"Selecione"}),Object(h.jsx)("option",{value:"APROVADO",children:"Aprovado"}),Object(h.jsx)("option",{value:"NAO_APROVADO",children:"N\xe3o aprovado"})]})]})}),Object(h.jsx)("div",{className:"col-sm-12",children:Object(h.jsxs)("div",{className:"form-group fill",children:[Object(h.jsxs)("label",{className:"floating-label",htmlFor:"Address",children:["Designa\xe7\xe3o ",Object(h.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(h.jsx)("input",{maxLength:"128",type:"text",onChange:e=>{y(e.target.value)},defaultValue:I.DESIG,className:"form-control",id:"Utilizador",placeholder:"Designa\xe7\xe3o...",required:!0})]})}),Object(h.jsx)("div",{className:"col-sm-12",children:Object(h.jsxs)("div",{className:"form-group fill",children:[Object(h.jsx)("label",{className:"floating-label",htmlFor:"Address",children:"Observa\xe7\xe3o"}),Object(h.jsx)("textarea",{maxLength:"64000",className:"form-control",onChange:e=>{S(e.target.value)},defaultValue:I.OBS,id:"Address",rows:"3",placeholder:"Descri\xe7\xe3o..."})]})})]})})}),Object(h.jsxs)(j.a.Footer,{children:[Object(h.jsx)(n.a,{variant:"danger",onClick:()=>q(!1),children:"Fechar"}),Object(h.jsx)(n.a,{type:"submit",form:"editarItem",variant:"primary",children:"Guardar"})]})]}),Object(h.jsxs)(j.a,{size:"x",show:_,onHide:()=>M(!1),children:[Object(h.jsx)(j.a.Header,{closeButton:!0,children:Object(h.jsx)(j.a.Title,{as:"h5",children:"Tipo de Evento"})}),Object(h.jsx)(j.a.Body,{className:"newuserbox",children:Object(h.jsxs)(l.a,{style:{width:"100%",overflow:"auto"},children:[Object(h.jsx)(i.a,{sm:5,children:Object(h.jsxs)("div",{className:"form-group fill",children:[Object(h.jsx)("label",{className:"floating-label",htmlFor:"Name",children:"C\xf3digo"}),Object(h.jsx)("span",{style:{overflow:"auto",height:"auto",minHeight:"33px"},className:"form-control",children:I.CODIGO})]})}),Object(h.jsx)(i.a,{sm:7,children:Object(h.jsxs)("div",{className:"form-group fill",children:[Object(h.jsx)("label",{className:"floating-label",htmlFor:"Name",children:"Tipo"}),Object(h.jsx)("span",{style:{overflow:"auto",height:"auto",minHeight:"33px"},className:"form-control",children:I.TIPO})]})}),Object(h.jsx)("div",{className:"col-sm-12",style:{overflow:"hidden"},children:Object(h.jsxs)("div",{className:"form-group fill",children:[Object(h.jsx)("label",{className:"floating-label",htmlFor:"Address",children:"Designa\xe7\xe3o"}),Object(h.jsx)("label",{style:{overflow:"auto",height:"auto",minHeight:"33px"},className:"form-control",children:I.DESIG})]})}),Object(h.jsx)("div",{className:"col-sm-12",children:Object(h.jsxs)("div",{className:"form-group fill",children:[Object(h.jsx)("label",{className:"floating-label",htmlFor:"Address",children:"Observa\xe7\xe3o"}),Object(h.jsx)("label",{style:{overflow:"auto",height:"auto",minHeight:"33px"},className:"form-control",children:I.OBS})]})})]})})]}),Object(h.jsx)(j.a,{size:"lg",show:U,onHide:()=>J(!1),children:Object(h.jsxs)(j.a.Footer,{children:[Object(h.jsx)(n.a,{variant:"danger",onClick:()=>J(!1),children:"Fechar"}),Object(h.jsx)(n.a,{variant:"primary",children:"Guardar"})]})})]})})})}},817:function(e,a,t){"use strict";var s=t(2),c=t(3),r=t(6),l=t.n(r),i=t(0),n=t.n(i),o=t(9),d=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],j=n.a.forwardRef(function(e,a){var t=e.bsPrefix,r=e.className,i=e.striped,j=e.bordered,b=e.borderless,m=e.hover,O=e.size,h=e.variant,x=e.responsive,u=Object(c.a)(e,d),p=Object(o.a)(t,"table"),g=l()(r,p,h&&p+"-"+h,O&&p+"-"+O,i&&p+"-striped",j&&p+"-bordered",b&&p+"-borderless",m&&p+"-hover"),f=n.a.createElement("table",Object(s.a)({},u,{className:g,ref:a}));if(x){var v=p+"-responsive";return"string"===typeof x&&(v=v+"-"+x),n.a.createElement("div",{className:v},f)}return f});a.a=j},818:function(e,a,t){"use strict";var s=t(2),c=t(3),r=t(6),l=t.n(r),i=t(0),n=t.n(i),o=t(9),d=t(131),j=["active","disabled","className","style","activeLabel","children"],b=["children"],m=n.a.forwardRef(function(e,a){var t=e.active,r=e.disabled,i=e.className,o=e.style,b=e.activeLabel,m=e.children,O=Object(c.a)(e,j),h=t||r?"span":d.a;return n.a.createElement("li",{ref:a,style:o,className:l()(i,"page-item",{active:t,disabled:r})},n.a.createElement(h,Object(s.a)({className:"page-link",disabled:r},O),m,t&&b&&n.a.createElement("span",{className:"sr-only"},b)))});m.defaultProps={active:!1,disabled:!1,activeLabel:"(current)"},m.displayName="PageItem";var O=m;function h(e,a,t){function s(e){var s=e.children,r=Object(c.a)(e,b);return n.a.createElement(m,r,n.a.createElement("span",{"aria-hidden":"true"},s||a),n.a.createElement("span",{className:"sr-only"},t))}return void 0===t&&(t=e),s.displayName=e,s}var x=h("First","\xab"),u=h("Prev","\u2039","Previous"),p=h("Ellipsis","\u2026","More"),g=h("Next","\u203a"),f=h("Last","\xbb"),v=["bsPrefix","className","children","size"],N=n.a.forwardRef(function(e,a){var t=e.bsPrefix,r=e.className,i=e.children,d=e.size,j=Object(c.a)(e,v),b=Object(o.a)(t,"pagination");return n.a.createElement("ul",Object(s.a)({ref:a},j,{className:l()(r,b,d&&b+"-"+d)}),i)});N.First=x,N.Prev=u,N.Ellipsis=p,N.Item=O,N.Next=g,N.Last=f;a.a=N}}]);
//# sourceMappingURL=61.16877dcb.chunk.js.map