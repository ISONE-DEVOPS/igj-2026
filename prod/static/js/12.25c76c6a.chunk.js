(this["webpackJsonpigj-frontend"]=this["webpackJsonpigj-frontend"]||[]).push([[12,55],{817:function(e,t,a){"use strict";var s=a(2),l=a(3),c=a(6),r=a.n(c),n=a(0),o=a.n(n),i=a(9),d=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],j=o.a.forwardRef(function(e,t){var a=e.bsPrefix,c=e.className,n=e.striped,j=e.bordered,b=e.borderless,O=e.hover,m=e.size,u=e.variant,h=e.responsive,x=Object(l.a)(e,d),p=Object(i.a)(a,"table"),f=r()(c,p,u&&p+"-"+u,m&&p+"-"+m,n&&p+"-striped",j&&p+"-bordered",b&&p+"-borderless",O&&p+"-hover"),g=o.a.createElement("table",Object(s.a)({},x,{className:f,ref:t}));if(h){var N=p+"-responsive";return"string"===typeof h&&(N=N+"-"+h),o.a.createElement("div",{className:N},g)}return g});t.a=j},818:function(e,t,a){"use strict";var s=a(2),l=a(3),c=a(6),r=a.n(c),n=a(0),o=a.n(n),i=a(9),d=a(131),j=["active","disabled","className","style","activeLabel","children"],b=["children"],O=o.a.forwardRef(function(e,t){var a=e.active,c=e.disabled,n=e.className,i=e.style,b=e.activeLabel,O=e.children,m=Object(l.a)(e,j),u=a||c?"span":d.a;return o.a.createElement("li",{ref:t,style:i,className:r()(n,"page-item",{active:a,disabled:c})},o.a.createElement(u,Object(s.a)({className:"page-link",disabled:c},m),O,a&&b&&o.a.createElement("span",{className:"sr-only"},b)))});O.defaultProps={active:!1,disabled:!1,activeLabel:"(current)"},O.displayName="PageItem";var m=O;function u(e,t,a){function s(e){var s=e.children,c=Object(l.a)(e,b);return o.a.createElement(O,c,o.a.createElement("span",{"aria-hidden":"true"},s||t),o.a.createElement("span",{className:"sr-only"},a))}return void 0===a&&(a=e),s.displayName=e,s}var h=u("First","\xab"),x=u("Prev","\u2039","Previous"),p=u("Ellipsis","\u2026","More"),f=u("Next","\u203a"),g=u("Last","\xbb"),N=["bsPrefix","className","children","size"],v=o.a.forwardRef(function(e,t){var a=e.bsPrefix,c=e.className,n=e.children,d=e.size,j=Object(l.a)(e,N),b=Object(i.a)(a,"pagination");return o.a.createElement("ul",Object(s.a)({ref:t},j,{className:r()(c,b,d&&b+"-"+d)}),n)});v.First=h,v.Prev=x,v.Ellipsis=p,v.Item=m,v.Next=f,v.Last=g;t.a=v},819:function(e,t,a){(function(a){var s,l,c;l=[],void 0===(c="function"===typeof(s=function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function s(e,t,a){var s=new XMLHttpRequest;s.open("GET",e),s.responseType="blob",s.onload=function(){o(s.response,t,a)},s.onerror=function(){console.error("could not download file")},s.send()}function l(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function c(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(s){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var r="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof a&&a.global===a?a:void 0,n=r.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),o=r.saveAs||("object"!=typeof window||window!==r?function(){}:"download"in HTMLAnchorElement.prototype&&!n?function(e,t,a){var n=r.URL||r.webkitURL,o=document.createElement("a");t=t||e.name||"download",o.download=t,o.rel="noopener","string"==typeof e?(o.href=e,o.origin===location.origin?c(o):l(o.href)?s(e,t,a):c(o,o.target="_blank")):(o.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(o.href)},4e4),setTimeout(function(){c(o)},0))}:"msSaveOrOpenBlob"in navigator?function(e,a,r){if(a=a||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,r),a);else if(l(e))s(e,a,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){c(n)})}}:function(e,t,a,l){if((l=l||open("","_blank"))&&(l.document.title=l.document.body.innerText="downloading..."),"string"==typeof e)return s(e,t,a);var c="application/octet-stream"===e.type,o=/constructor/i.test(r.HTMLElement)||r.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent);if((i||c&&o||n)&&"undefined"!=typeof FileReader){var d=new FileReader;d.onloadend=function(){var e=d.result;e=i?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),l?l.location.href=e:location=e,l=null},d.readAsDataURL(e)}else{var j=r.URL||r.webkitURL,b=j.createObjectURL(e);l?l.location=b:location.href=b,l=null,setTimeout(function(){j.revokeObjectURL(b)},4e4)}});r.saveAs=o.saveAs=o,e.exports=o})?s.apply(t,l):s)||(e.exports=c)}).call(this,a(19))},829:function(e,t,a){"use strict";a.d(t,"a",function(){return r});var s=a(0),l=a(816),c=a(1);const r=e=>{let{filter:t,setFilter:a}=e;const[r,n]=Object(s.useState)(t),o=Object(l.useAsyncDebounce)(e=>{a(e||void 0)},1e3);return Object(c.jsxs)("span",{className:"d-flex align-items-center justify-content-end",children:["Procurar:"," ",Object(c.jsx)("input",{className:"form-control ml-2 w-auto",value:r||"",onChange:e=>{n(e.target.value),o(e.target.value)}})]})}},835:function(e,t,a){"use strict";var s=a(0),l=a.n(s),c=a(84),r=a(243),n=a(36);t.a=function(e){var t=Object(c.a)(e,{activeKey:"onSelect"}),a=t.id,o=t.generateChildId,i=t.onSelect,d=t.activeKey,j=t.transition,b=t.mountOnEnter,O=t.unmountOnExit,m=t.children,u=Object(s.useMemo)(function(){return o||function(e,t){return a?a+"-"+t+"-"+e:null}},[a,o]),h=Object(s.useMemo)(function(){return{onSelect:i,activeKey:d,transition:j,mountOnEnter:b||!1,unmountOnExit:O||!1,getControlledId:function(e){return u(e,"tabpane")},getControllerId:function(e){return u(e,"tab")}}},[i,d,j,b,O,u]);return l.a.createElement(r.a.Provider,{value:h},l.a.createElement(n.a.Provider,{value:i||null},m))}},836:function(e,t,a){"use strict";var s=a(2),l=a(3),c=a(6),r=a.n(c),n=a(0),o=a.n(n),i=a(9),d=["bsPrefix","as","className"],j=o.a.forwardRef(function(e,t){var a=e.bsPrefix,c=e.as,n=void 0===c?"div":c,j=e.className,b=Object(l.a)(e,d),O=Object(i.a)(a,"tab-content");return o.a.createElement(n,Object(s.a)({ref:t},b,{className:r()(j,O)}))});t.a=j},837:function(e,t,a){"use strict";var s=a(2),l=a(3),c=a(6),r=a.n(c),n=a(0),o=a.n(n),i=a(9),d=a(243),j=a(36),b=a(177),O=["activeKey","getControlledId","getControllerId"],m=["bsPrefix","className","active","onEnter","onEntering","onEntered","onExit","onExiting","onExited","mountOnEnter","unmountOnExit","transition","as","eventKey"];var u=o.a.forwardRef(function(e,t){var a=function(e){var t=Object(n.useContext)(d.a);if(!t)return e;var a=t.activeKey,c=t.getControlledId,r=t.getControllerId,o=Object(l.a)(t,O),i=!1!==e.transition&&!1!==o.transition,m=Object(j.b)(e.eventKey);return Object(s.a)({},e,{active:null==e.active&&null!=m?Object(j.b)(a)===m:e.active,id:c(e.eventKey),"aria-labelledby":r(e.eventKey),transition:i&&(e.transition||o.transition||b.a),mountOnEnter:null!=e.mountOnEnter?e.mountOnEnter:o.mountOnEnter,unmountOnExit:null!=e.unmountOnExit?e.unmountOnExit:o.unmountOnExit})}(e),c=a.bsPrefix,u=a.className,h=a.active,x=a.onEnter,p=a.onEntering,f=a.onEntered,g=a.onExit,N=a.onExiting,v=a.onExited,y=a.mountOnEnter,C=a.unmountOnExit,E=a.transition,I=a.as,A=void 0===I?"div":I,R=(a.eventKey,Object(l.a)(a,m)),T=Object(i.a)(c,"tab-pane");if(!h&&!E&&C)return null;var P=o.a.createElement(A,Object(s.a)({},R,{ref:t,role:"tabpanel","aria-hidden":!h,className:r()(u,T,{active:h})}));return E&&(P=o.a.createElement(E,{in:h,onEnter:x,onEntering:p,onEntered:f,onExit:g,onExiting:N,onExited:v,mountOnEnter:y,unmountOnExit:C},P)),o.a.createElement(d.a.Provider,{value:null},o.a.createElement(j.a.Provider,{value:null},P))});u.displayName="TabPane",t.a=u},871:function(e,t,a){"use strict";a.r(t);var s=a(8),l=a(0),c=a.n(l),r=a(812),n=a(404),o=a(403),i=a(818),d=a(840),j=a(814),b=a(817),O=a(7),m=a(816),u=a(24),h=a(32),x=a(22),p=a(83),f=a(1);const g="/configuracao/projetos";function N(e){let{columns:t,data:a,modalOpen:c,uploadlist:d}=e;const[j,O]=Object(l.useState)(""),[h,x]=Object(l.useState)(null),{permissoes:N}=Object(u.a)();const{getTableProps:v,getTableBodyProps:y,headerGroups:C,prepareRow:E,globalFilter:I,setGlobalFilter:A,page:R,canPreviousPage:T,canNextPage:P,pageOptions:S,pageCount:D,gotoPage:_,nextPage:w,previousPage:F,setPageSize:M,state:{pageIndex:L,pageSize:B}}=Object(m.useTable)({columns:t,data:a,initialState:{pageIndex:0,pageSize:10}},m.useGlobalFilter,m.useSortBy,m.usePagination);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(r.a,{className:"mb-3",children:[Object(f.jsx)(n.a,{md:4,children:Object(f.jsx)("input",{type:"number",className:"form-control ",placeholder:"Pesquise por ano...",onChange:e=>{!function(e){O(e),h&&clearTimeout(h);const t=setTimeout(()=>{d(e)},1500);x(t)}(e.target.value)}})}),Object(f.jsx)(n.a,{className:"d-flex justify-content-end",children:0==Object(p.s)(g,N,"Criar")?null:Object(f.jsxs)(o.a,{variant:"primary",className:"btn-sm btn-round has-ripple ml-2",onClick:c,children:[Object(f.jsx)("i",{className:"feather icon-plus"})," Adicionar"]})})]}),Object(f.jsxs)(b.a,Object(s.a)(Object(s.a)({striped:!0,bordered:!0,hover:!0,responsive:!0},v()),{},{children:[Object(f.jsx)("thead",{children:C.map(e=>Object(f.jsx)("tr",Object(s.a)(Object(s.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map(e=>Object(f.jsxs)("th",Object(s.a)(Object(s.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),Object(f.jsx)("span",{children:e.isSorted?e.isSortedDesc?Object(f.jsx)("span",{className:"feather icon-arrow-down text-muted float-right"}):Object(f.jsx)("span",{className:"feather icon-arrow-up text-muted float-right"}):""})]})))})))}),Object(f.jsx)("tbody",Object(s.a)(Object(s.a)({},y()),{},{children:R.map((e,t)=>(E(e),Object(f.jsx)("tr",Object(s.a)(Object(s.a)({},e.getRowProps()),{},{children:e.cells.map(e=>{const t=e.column.centered;return Object(f.jsx)("td",Object(s.a)(Object(s.a)({},e.getCellProps()),{},{className:t?"text-center":"text-right",children:e.render("Cell")}))})}))))}))]})),Object(f.jsxs)(r.a,{className:"justify-content-between",children:[Object(f.jsx)(n.a,{children:Object(f.jsxs)("span",{className:"d-flex align-items-center",children:["P\xe1gina"," "," ",Object(f.jsxs)("strong",{children:[" ",L+1," de ",S.length," "]})," ","| Ir para a p\xe1gina:"," ",Object(f.jsx)("input",{type:"number",className:"form-control ml-2",defaultValue:L+1,onChange:e=>{const t=e.target.value?Number(e.target.value)-1:0;_(t)},style:{width:"100px"}})]})}),Object(f.jsx)(n.a,{children:Object(f.jsxs)(i.a,{className:"justify-content-end",children:[Object(f.jsx)(i.a.First,{onClick:()=>_(0),disabled:!T}),Object(f.jsx)(i.a.Prev,{onClick:()=>F(),disabled:!T}),Object(f.jsx)(i.a.Next,{onClick:()=>w(),disabled:!P}),Object(f.jsx)(i.a.Last,{onClick:()=>_(D-1),disabled:!P})]})})]})]})}t.default=()=>{const{permissoes:e}=Object(u.a)(),t=Object(x.g)(),{popUp_removerItem:a,popUp_alertaOK:s}=Object(u.a)(),i=c.a.useMemo(()=>[{Header:"Ano",accessor:"ANO",centered:!0},{Header:"Designa\xe7\xe3o",accessor:"NOME",centered:!0},{Header:"Or\xe7amento Inical",accessor:"ORCAMENTO_INICIAL_FORMATTED",centered:!1},{Header:"Or\xe7amento Corrigido",accessor:"ORCAMENTO_CORRIGIDO_FORMATTED",centered:!1},{Header:"Or\xe7amento Dispon\xedvel",accessor:"ORCAMENTO_DISPONIVEL_FORMATTED",centered:!1},{Header:"Pago",accessor:"PAGO_FORMATTED",centered:!1},{Header:"Pago %",accessor:"PAGO_PERCENT",centered:!1},{Header:"Saldo Dispon\xedvel",accessor:"SALDO_DISPONIVEL_FORMATTED",centered:!1},{Header:"A\xe7\xf5es",accessor:"action",centered:!0}],[]),[b,m]=Object(l.useState)(""),[v,y]=Object(l.useState)(0),[C,E]=Object(l.useState)(""),[I,A]=Object(l.useState)(0),[R,T]=Object(l.useState)(0),[P,S]=Object(l.useState)(""),[D,_]=Object(l.useState)({}),[w,F]=Object(l.useState)([]);async function M(t){t=""===t?void 0:t;try{const s=await h.a.get("/projetos?"+Object(p.q)([["ANO",t]]));if("200"==s.status){for(var a=0;a<s.data.length;a++){const t=s.data[a].ID;s.data[a].id=s.data[a].ID,s.data[a].DT_REGISTO=Object(p.i)(s.data[a].DT_REGISTO),s.data[a].ORCAMENTO_CORRIGIDO_FORMATTED=Object(p.g)(s.data[a].ORCAMENTO_CORRIGIDO),s.data[a].ORCAMENTO_INICIAL_FORMATTED=Object(p.g)(s.data[a].ORCAMENTO_INICIAL),s.data[a].ORCAMENTO_DISPONIVEL_FORMATTED=Object(p.g)(s.data[a].ORCAMENTO_DISPONIVEL),s.data[a].SALDO_DISPONIVEL_FORMATTED=Object(p.g)(s.data[a].SALDO_DISPONIVEL),s.data[a].PAGO_FORMATTED=null==s.data[a].PAGO?0:Object(p.g)(s.data[a].PAGO);const l=s.data[a];s.data[a].action=Object(f.jsxs)(c.a.Fragment,{children:[0==Object(p.s)(g,e,"Editar")?null:Object(f.jsx)(O.b,{to:"#",title:Object(p.u)(g,e,"Editar"),onClick:()=>L(l),className:"text-primary mx-1",children:Object(f.jsx)("i",{className:"text-primary "+Object(p.t)(g,e,"Editar")})}),0==Object(p.s)(g,e,"Eliminar")?null:Object(f.jsx)(O.b,{to:"#",title:Object(p.u)(g,e,"Eliminar"),onClick:()=>k(t),className:"text-danger",children:Object(f.jsx)("i",{className:""+Object(p.t)(g,e,"Eliminar")})})]})}F(s.data)}}catch(s){console.error(s.response)}}const L=e=>{S(e.ID),m(e.NOME),E(e.OBS),T(e.ORCAMENTO_CORRIGIDO),A(e.ORCAMENTO_INICIAL),y(e.ANO),U(!0),G(!1),K(!1)};const B=async e=>{let t=!0;try{await h.a.delete("/projetos/"+e)}catch(a){t=!1,console.error(a.response),s("Falha. Tente mais tarde")}return M(),t},k=async e=>{a({delete:B,id:e})};Object(l.useEffect)(()=>{0==Object(p.l)(g,e)?t.push("/"):M()},[]);const[V,G]=Object(l.useState)(!1),[H,U]=Object(l.useState)(!1),[q,K]=Object(l.useState)(!1),[z,J]=Object(l.useState)(!1);return Object(f.jsx)(c.a.Fragment,{children:Object(f.jsx)(r.a,{children:Object(f.jsxs)(n.a,{sm:12,children:[Object(f.jsx)(d.a,{children:Object(f.jsx)(d.a.Body,{children:Object(f.jsx)(N,{columns:i,data:w,modalOpen:()=>{S(""),m(""),E(""),T(0),A(0),G(!0),U(!1),K(!1)},uploadlist:M})})}),Object(f.jsxs)(j.a,{size:"x",show:V,onHide:()=>G(!1),children:[Object(f.jsx)(j.a.Header,{closeButton:!0,children:Object(f.jsx)(j.a.Title,{as:"h5",children:"Criar"})}),Object(f.jsx)(j.a.Body,{className:"newuserbox",children:Object(f.jsx)("form",{id:"criarItem",onSubmit:async function(e){e.preventDefault();const t={NOME:b,OBS:C,ANO:v,ORCAMENTO_INICIAL:I,ORCAMENTO_CORRIGIDO:R};console.log(t);try{"200"==(await h.a.post("/projetos",t)).status&&(M(),G(!1))}catch(a){console.error(a.response)}},children:Object(f.jsxs)(r.a,{children:[Object(f.jsx)(n.a,{sm:12,children:Object(f.jsxs)("div",{className:"form-group fill",children:[Object(f.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["C\xf3digo ",Object(f.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(f.jsx)("input",{disabled:!0,type:"text",className:"form-control",id:"Name",value:"*",required:!0})]})}),Object(f.jsx)(n.a,{sm:8,children:Object(f.jsxs)("div",{className:"form-group fill",children:[Object(f.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Nome ",Object(f.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(f.jsx)("input",{type:"text",maxLength:"128",onChange:e=>{m(e.target.value)},defaultValue:"",className:"form-control",placeholder:"Designa\xe7\xe3o...",required:!0})]})}),Object(f.jsx)(n.a,{sm:4,children:Object(f.jsxs)("div",{className:"form-group fill",children:[Object(f.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Ano ",Object(f.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(f.jsx)("input",{type:"number",className:"form-control ",placeholder:"Ano...",onChange:e=>{y(e.target.value)}})]})}),Object(f.jsx)(n.a,{sm:6,children:Object(f.jsxs)("div",{className:"form-group fill",children:[Object(f.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Or\xe7amento Inicial ",Object(f.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(f.jsx)("input",{type:"number",onChange:e=>{A(e.target.value)},className:"form-control",required:!0,placeholder:"Or\xe7amento Inicial..."})]})}),Object(f.jsx)(n.a,{sm:6,children:Object(f.jsxs)("div",{className:"form-group fill",children:[Object(f.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Or\xe7amento Corrigido ",Object(f.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(f.jsx)("input",{type:"number",onChange:e=>{T(e.target.value)},required:!0,className:"form-control",placeholder:"Or\xe7amento Corrigido..."})]})}),Object(f.jsx)(n.a,{sm:12,children:Object(f.jsxs)("div",{className:"form-group fill",children:[Object(f.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Observa\xe7\xe3o ",Object(f.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(f.jsx)("textarea",{className:"form-control",maxLength:"64000",onChange:e=>{E(e.target.value)},id:"obs",required:!0,rows:"3",placeholder:"Observa\xe7\xe3o..."})]})})]})})}),Object(f.jsxs)(j.a.Footer,{children:[Object(f.jsx)(o.a,{variant:"danger",onClick:()=>G(!1),children:"Fechar"}),Object(f.jsx)(o.a,{type:"submit",form:"criarItem",variant:"primary",children:"Guardar"})]})]}),Object(f.jsxs)(j.a,{size:"x",show:H,onHide:()=>U(!1),children:[Object(f.jsx)(j.a.Header,{closeButton:!0,children:Object(f.jsx)(j.a.Title,{as:"h5",children:"Editar"})}),Object(f.jsx)(j.a.Body,{className:"newuserbox",children:Object(f.jsx)("form",{id:"editarItem",onSubmit:async function(e){e.preventDefault();const t={NOME:b,OBS:C,ANO:v,ORCAMENTO_INICIAL:I,ORCAMENTO_CORRIGIDO:R};console.log(t);try{"200"==(await h.a.put("/projetos/"+P,t)).status&&(M(),U(!1))}catch(a){console.error(a.response)}},children:Object(f.jsxs)(r.a,{children:[Object(f.jsx)(n.a,{sm:8,children:Object(f.jsxs)("div",{className:"form-group fill",children:[Object(f.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Nome ",Object(f.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(f.jsx)("input",{type:"text",maxLength:"128",onChange:e=>{m(e.target.value)},defaultValue:b,className:"form-control",id:"Utilizador",placeholder:"Designa\xe7\xe3o...",required:!0})]})}),Object(f.jsx)(n.a,{sm:4,children:Object(f.jsxs)("div",{className:"form-group fill",children:[Object(f.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Ano ",Object(f.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(f.jsx)("input",{type:"number",defaultValue:v,className:"form-control ",placeholder:"Ano...",onChange:e=>{y(e.target.value)}})]})}),Object(f.jsx)(n.a,{sm:6,children:Object(f.jsxs)("div",{className:"form-group fill",children:[Object(f.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Or\xe7amento Inicial ",Object(f.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(f.jsx)("input",{type:"number",onChange:e=>{A(e.target.value)},defaultValue:I,className:"form-control",placeholder:"Or\xe7amento Inicial..."})]})}),Object(f.jsx)(n.a,{sm:6,children:Object(f.jsxs)("div",{className:"form-group fill",children:[Object(f.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Or\xe7amento Corrigido ",Object(f.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(f.jsx)("input",{type:"number",onChange:e=>{T(e.target.value)},defaultValue:R,className:"form-control",placeholder:"Or\xe7amento Corrigido..."})]})}),Object(f.jsx)(n.a,{sm:12,children:Object(f.jsxs)("div",{className:"form-group fill",children:[Object(f.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Observa\xe7\xe3o ",Object(f.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(f.jsx)("textarea",{className:"form-control",defaultValue:C,maxLength:"64000",onChange:e=>{E(e.target.value)},id:"obs",rows:"3",placeholder:"Observa\xe7\xe3o..."})]})})]})})}),Object(f.jsxs)(j.a.Footer,{children:[Object(f.jsx)(o.a,{variant:"danger",onClick:()=>U(!1),children:"Fechar"}),Object(f.jsx)(o.a,{type:"submit",form:"editarItem",variant:"primary",children:"Guardar"})]})]})]})})})}},872:function(e,t,a){"use strict";var s=a(29),l=a(0),c=a.n(l),r=a(835),n=a(836),o=a(837),i=function(e){function t(){return e.apply(this,arguments)||this}return Object(s.a)(t,e),t.prototype.render=function(){throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")},t}(c.a.Component);i.Container=r.a,i.Content=n.a,i.Pane=o.a,t.a=i},876:function(e,t,a){"use strict";var s=a(2),l=a(3),c=a(0),r=a.n(c),n=(a(412),a(84)),o=a(6),i=a.n(o),d=(a(174),a(9)),j=a(252),b=a(824),O=a(249),m=["bsPrefix","className","children","as"],u=r.a.forwardRef(function(e,t){var a=e.bsPrefix,c=e.className,n=e.children,o=e.as,j=void 0===o?"div":o,b=Object(l.a)(e,m);return a=Object(d.a)(a,"nav-item"),r.a.createElement(j,Object(s.a)({},b,{ref:t,className:i()(c,a)}),n)});u.displayName="NavItem";var h=u,x=a(131),p=a(250),f=["bsPrefix","disabled","className","href","eventKey","onSelect","as"],g={disabled:!1,as:x.a},N=r.a.forwardRef(function(e,t){var a=e.bsPrefix,c=e.disabled,n=e.className,o=e.href,j=e.eventKey,b=e.onSelect,O=e.as,m=Object(l.a)(e,f);return a=Object(d.a)(a,"nav-link"),r.a.createElement(p.a,Object(s.a)({},m,{href:o,ref:t,eventKey:j,as:O,disabled:c,onSelect:b,className:i()(n,a,c&&"disabled")}))});N.displayName="NavLink",N.defaultProps=g;var v=N,y=["as","bsPrefix","variant","fill","justify","navbar","navbarScroll","className","children","activeKey"],C=r.a.forwardRef(function(e,t){var a,o,m,u=Object(n.a)(e,{activeKey:"onSelect"}),h=u.as,x=void 0===h?"div":h,p=u.bsPrefix,f=u.variant,g=u.fill,N=u.justify,v=u.navbar,C=u.navbarScroll,E=u.className,I=u.children,A=u.activeKey,R=Object(l.a)(u,y),T=Object(d.a)(p,"nav"),P=!1,S=Object(c.useContext)(j.a),D=Object(c.useContext)(b.a);return S?(o=S.bsPrefix,P=null==v||v):D&&(m=D.cardHeaderBsPrefix),r.a.createElement(O.a,Object(s.a)({as:x,ref:t,activeKey:A,className:i()(E,(a={},a[T]=!P,a[o+"-nav"]=P,a[o+"-nav-scroll"]=P&&C,a[m+"-"+f]=!!m,a[T+"-"+f]=!!f,a[T+"-fill"]=g,a[T+"-justified"]=N,a))},R),I)});C.displayName="Nav",C.defaultProps={justify:!1,fill:!1},C.Item=h,C.Link=v;var E=C,I=a(835),A=a(836),R=a(837);function T(e,t){var a=0;return r.a.Children.map(e,function(e){return r.a.isValidElement(e)?t(e,a++):e})}var P=["id","onSelect","transition","mountOnEnter","unmountOnExit","children","activeKey"];function S(e){var t;return function(e,t){var a=0;r.a.Children.forEach(e,function(e){r.a.isValidElement(e)&&t(e,a++)})}(e,function(e){null==t&&(t=e.props.eventKey)}),t}function D(e){var t=e.props,a=t.title,s=t.eventKey,l=t.disabled,c=t.tabClassName,n=t.id;return null==a?null:r.a.createElement(h,{as:v,eventKey:s,disabled:l,id:n,className:c},a)}var _=function(e){var t=Object(n.a)(e,{activeKey:"onSelect"}),a=t.id,c=t.onSelect,o=t.transition,i=t.mountOnEnter,d=t.unmountOnExit,j=t.children,b=t.activeKey,O=void 0===b?S(j):b,m=Object(l.a)(t,P);return r.a.createElement(I.a,{id:a,activeKey:O,onSelect:c,transition:o,mountOnEnter:i,unmountOnExit:d},r.a.createElement(E,Object(s.a)({},m,{role:"tablist",as:"nav"}),T(j,D)),r.a.createElement(A.a,null,T(j,function(e){var t=Object(s.a)({},e.props);return delete t.title,delete t.disabled,delete t.tabClassName,r.a.createElement(R.a,t)})))};_.defaultProps={variant:"tabs",mountOnEnter:!1,unmountOnExit:!1},_.displayName="Tabs";t.a=_},980:function(e,t,a){"use strict";a.r(t);var s=a(8),l=a(0),c=a.n(l),r=a(812),n=a(404),o=a(403),i=a(818),d=a(876),j=a(872),b=a(840),O=a(814),m=a(817),u=a(22),h=a(7),x=a(829),p=a(816),f=a(821),g=a(819),N=a(32),v=a(24),y=a(240),C=a.n(y),E=a(83),I=a(871),A=a(1);const R="/entidade/orcamento";function T(e){let{columns:t,data:a,modalOpen:c,listProjetos:d,listAno:j,uploadlist:b,years:O,uploadmeiospagamento:u}=e;var h,f,y,C,I,T;console.log(d);const[P,S]=Object(l.useState)(""),[D,_]=Object(l.useState)(""),[w,F]=Object(l.useState)();if(a.length>0){console.log(a);let e=a.map(e=>e.PAGO);C=Object(E.r)(e);let t=a.map(e=>Object(E.o)(e.CABIMENTADO_FORMATTED));T=Object(E.r)(t);let s=a.map(e=>e.CABIMENTADO_PERCENT);Object(E.r)(s);let l=a.map(e=>e.ORCAMENTO_INICIAL);y=Object(E.r)(l);let c=a.map(e=>e.ORCAMENTO_DISPONIVEL);h=Object(E.r)(c);let r=a.map(e=>e.ORCAMENTO_CORRIGIDO);f=Object(E.r)(r);let n=a.map(e=>e.PAGO_PERCENT);Object(E.r)(n);let o=a.map(e=>e.SALDO_DISPONIVEL);I=Object(E.r)(o)}const{permissoes:M,popUp_simcancelar:L}=Object(v.a)();function B(e){"1"===e?async function(){let e=""===P?void 0:P,t=[];try{e&&t.push(["PROJETO_ID",e]),D&&t.push(["ANO",D]);const a=await N.a.get("/export-pdf/orcamento?"+Object(E.q)(t),{responseType:"blob"});if("200"==a.status){const e=new Blob([a.data],{type:"application/pdf"}),t=URL.createObjectURL(e);window.open().location.href=t}console.log(a)}catch(a){console.error(a.response)}}():"2"===e&&async function(){let e=""===P?void 0:P,t=[];e&&t.push(["PROJETO_ID",e]);D&&t.push(["ANO",D]);try{const e=await N.a.get("/export-csv/orcamento?"+Object(E.q)(t),{responseType:"blob"});if("200"==e.status){new Blob([e.data],{type:"api/csv"});const t=new Blob([e.data],{type:"text/csv"});Object(g.saveAs)(t,"data.csv")}}catch(a){console.error(a.response)}}()}const[k,V]=Object(l.useState)(null);const{getTableProps:G,getTableBodyProps:H,headerGroups:U,prepareRow:q,globalFilter:K,setGlobalFilter:z,page:J,canPreviousPage:X,canNextPage:W,pageOptions:Q,pageCount:Y,gotoPage:Z,nextPage:$,previousPage:ee,setPageSize:te,state:{pageIndex:ae,pageSize:se}}=Object(p.useTable)({columns:t,data:a,initialState:{pageIndex:0,pageSize:10}},p.useGlobalFilter,p.useSortBy,p.usePagination);return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)(r.a,{className:"mb-3",children:[Object(A.jsx)(n.a,{md:2,className:"d-flex align-items-center",children:Object(A.jsxs)("select",{onChange:e=>{!function(e){_(e),k&&clearTimeout(k);const t=setTimeout(()=>{b(P,e),u()},1500);V(t)}(e.target.value)},className:"form-control",id:"perfil",required:!0,"aria-required":"true",children:[Object(A.jsx)("option",{value:"",children:" Selecione um Ano "}),j.map(e=>Object(A.jsx)("option",{value:e,children:e},e))]})}),Object(A.jsx)(n.a,{md:2,children:Object(A.jsxs)("select",{onChange:e=>{var t;t=e.target.value,S(t),b(t,D)},className:"form-control",id:"perfil",required:!0,"aria-required":"true",children:[Object(A.jsx)("option",{value:"",children:" Selecione um Projeto "}),d.map(e=>Object(A.jsx)("option",{value:e.value,children:e.label},e.value))]})}),Object(A.jsxs)(n.a,{className:"d-flex justify-content-end",children:[Object(A.jsx)(x.a,{filter:K,setFilter:z}),0==Object(E.s)(R,M,"Criar")?null:Object(A.jsxs)(o.a,{variant:"primary",className:"btn-sm btn-round has-ripple ml-2",onClick:c,children:[Object(A.jsx)("i",{className:"feather icon-plus"})," Adicionar"]}),Object(A.jsxs)("select",{style:{marginLeft:"10px"},value:w,onChange:e=>{B(e.target.value)},children:[Object(A.jsx)("option",{value:"",children:" Download "}),Object(A.jsx)("option",{value:"1",children:" PDF "}),Object(A.jsx)("option",{value:"2",children:" EXCEL "})]})]})]}),Object(A.jsxs)(m.a,Object(s.a)(Object(s.a)({striped:!0,bordered:!0,hover:!0,responsive:!0},G()),{},{children:[Object(A.jsx)("thead",{children:U.map(e=>Object(A.jsx)("tr",Object(s.a)(Object(s.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map(e=>Object(A.jsxs)("th",Object(s.a)(Object(s.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),Object(A.jsx)("span",{children:e.isSorted?e.isSortedDesc?Object(A.jsx)("span",{className:"feather icon-arrow-down text-muted float-right"}):Object(A.jsx)("span",{className:"feather icon-arrow-up text-muted float-right"}):""})]})))})))}),Object(A.jsxs)("tbody",Object(s.a)(Object(s.a)({},H()),{},{children:[J.map((e,t)=>(q(e),Object(A.jsx)("tr",Object(s.a)(Object(s.a)({},e.getRowProps()),{},{children:e.cells.map(e=>{const t=e.column.centered;return Object(A.jsx)("td",Object(s.a)(Object(s.a)({},e.getCellProps()),{},{className:t?"text-center":"text-right",children:e.render("Cell")}))})})))),Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{className:"merged-cell text-left font-weight-bold",colSpan:"2",children:"Total"}),Object(A.jsx)("td",{className:"font-weight-bold text-right",children:Object(E.g)(y)}),Object(A.jsx)("td",{className:"font-weight-bold text-right",children:Object(E.g)(f)}),Object(A.jsx)("td",{className:"font-weight-bold text-right",children:Object(E.g)(h)}),Object(A.jsx)("td",{className:"font-weight-bold text-right text-right",children:Object(E.g)(T)}),Object(A.jsx)("td",{className:"font-weight-bold text-right text-right"}),Object(A.jsx)("td",{className:"font-weight-bold text-right text-right",children:Object(E.g)(C)}),Object(A.jsx)("td",{className:"font-weight-bold text-right text-right"}),Object(A.jsx)("td",{className:"font-weight-bold text-right",children:Object(E.g)(I)}),Object(A.jsx)("td",{className:"font-weight-bold"})]})]}))]})),Object(A.jsxs)(r.a,{className:"justify-content-between",children:[Object(A.jsx)(n.a,{children:Object(A.jsxs)("span",{className:"d-flex align-items-center",children:["P\xe1gina"," "," ",Object(A.jsxs)("strong",{children:[" ",ae+1," de ",Q.length," "]})," ","| Ir para a p\xe1gina:"," ",Object(A.jsx)("input",{type:"number",className:"form-control ml-2",defaultValue:ae+1,onChange:e=>{const t=e.target.value?Number(e.target.value)-1:0;Z(t)},style:{width:"100px"}})]})}),Object(A.jsx)(n.a,{children:Object(A.jsxs)(i.a,{className:"justify-content-end",children:[Object(A.jsx)(i.a.First,{onClick:()=>Z(0),disabled:!X}),Object(A.jsx)(i.a.Prev,{onClick:()=>ee(),disabled:!X}),Object(A.jsx)(i.a.Next,{onClick:()=>$(),disabled:!W}),Object(A.jsx)(i.a.Last,{onClick:()=>Z(Y-1),disabled:!W})]})})]})]})}t.default=()=>{var e,t,a,s,i,m,x,p,g,y,P,S,D,_;const{id:w}=Object(u.i)(),[F,M]=Object(l.useState)("0"),{popUp_removerItem:L,popUp_alertaOK:B,popUp_simcancelar:k}=Object(v.a)(),[V,G]=Object(l.useState)("dados"),[H,U]=Object(l.useState)(""),{permissoes:q}=Object(v.a)(),K=Object(u.g)();(new Date).toJSON().slice(0,10);const z=c.a.useMemo(()=>[{Header:"Estado",accessor:"COLOR_STATUS",centered:!0},{Header:"R\xfabrica",accessor:"rubrica.DESIGNACAO",centered:!0},{Header:"Or\xe7. Inicial",accessor:"ORCAMENTO_INICIAL_FORMATTED",centered:!1},{Header:"Or\xe7. Corrigido",accessor:"ORCAMENTO_CORRIGIDO_FORMATTED",centered:!1},{Header:"Or\xe7. Dispon\xedvel",accessor:"ORCAMENTO_DISPONIVEL_FORMATTED",centered:!1},{Header:"Cabimentado",accessor:"CABIMENTADO_FORMATTED",centered:!1},{Header:" % Cabimentado",accessor:"CABIMENTADO_PERCENT",centered:!1},{Header:"Pago",accessor:"PAGO_FORMATTED",centered:!1},{Header:" % Pago",accessor:"PAGO_PERCENT",centered:!1},{Header:" Saldo Disponivel",accessor:"SALDO_DISPONIVEL_FORMATTED",centered:!1},{Header:"A\xe7\xf5es",accessor:"action",centered:!0}],[]),[J,X]=Object(l.useState)(0),[W,Q]=Object(l.useState)(0),[Y,Z]=Object(l.useState)(0),[$,ee]=Object(l.useState)(0),[te,ae]=Object(l.useState)(0),[se,le]=Object(l.useState)(""),[ce,re]=Object(l.useState)(""),[ne,oe]=Object(l.useState)(""),[ie,de]=Object(l.useState)(""),[je,be]=Object(l.useState)(""),[Oe,me]=Object(l.useState)(0),[ue,he]=Object(l.useState)(""),[xe,pe]=Object(l.useState)([]),[fe,ge]=Object(l.useState)(""),[Ne,ve]=Object(l.useState)(0),[ye,Ce]=Object(l.useState)(0),[Ee,Ie]=Object(l.useState)(0),[Ae,Re]=Object(l.useState)(""),[Te,Pe]=Object(l.useState)(""),[Se,De]=Object(l.useState)(""),[_e,we]=Object(l.useState)(""),[Fe,Me]=Object(l.useState)(""),[Le,Be]=Object(l.useState)(""),[ke,Ve]=Object(l.useState)(0),[Ge,He]=Object(l.useState)(""),[Ue,qe]=Object(l.useState)(""),[Ke,ze]=Object(l.useState)(""),[Je,Xe]=Object(l.useState)(""),[We,Qe]=Object(l.useState)(""),[Ye,Ze]=Object(l.useState)(""),[$e,et]=Object(l.useState)(""),[tt,at]=Object(l.useState)(0),[st,lt]=Object(l.useState)(!1),[ct,rt]=Object(l.useState)(!1),[nt,ot]=Object(l.useState)(),[it,dt]=Object(l.useState)(null),[jt,bt]=Object(l.useState)({}),[Ot,mt]=Object(l.useState)("dados"),ut="nav-link text-reset",ht="nav-link text-reset active",[xt]=Object(l.useState)(2e3),[pt]=Object(l.useState)(2023),ft=[];for(let l=xt;l<=pt;l++)ft.push(l);const[gt,Nt]=Object(l.useState)([]),[vt,yt]=Object(l.useState)(!1);async function Ct(e,t){e=""===e?void 0:e,t=""===t?void 0:t;let a=[];M(w);try{const j=await N.a.get("/orcamento?"+Object(E.q)([["PROJETO_ID",e],["ANO",t]]));if(200===j.status){if(0===j.data.length)return Nt(j.data);for(var s=0;s<j.data.length;s++){var l,r,n,o;const e=j.data[s];if(j.data[s].SALDO_DISPONIVEL_FORMATTED=Object(E.g)(j.data[s].SALDO_DISPONIVEL),j.data[s].ORCAMENTO_INICIAL_FORMATTED=Object(E.g)(j.data[s].ORCAMENTO_INICIAL),j.data[s].ORCAMENTO_CORRIGIDO_FORMATTED=Object(E.g)(j.data[s].ORCAMENTO_CORRIGIDO),j.data[s].ORCAMENTO_DISPONIVEL_FORMATTED=Object(E.g)(j.data[s].ORCAMENTO_DISPONIVEL),j.data[s].ANO&&""!=j.data[s].ANO&&!a.includes(j.data[s].ANO)&&a.push(j.data[s].ANO),j.data[s].PAGO_FORMATTED=null==j.data[s].PAGO?0:Object(E.g)(j.data[s].PAGO),j.data[s].PAGO_PERC=null==j.data[s].PAGO_PERC?0:j.data[s].PAGO_PERC,(null===j||void 0===j||null===(l=j.data[s])||void 0===l||null===(r=l.cabimentacao)||void 0===r?void 0:r.length)>0){var i,d;let e=null===j||void 0===j||null===(i=j.data[s])||void 0===i?void 0:i.cabimentacao.map(e=>e.CABIMENTADO);j.data[s].CABIMENTADO_FORMATTED=Object(E.g)(Object(E.r)(e));let t=null===j||void 0===j||null===(d=j.data[s])||void 0===d?void 0:d.cabimentacao.map(e=>e.CABIMENTADO_PERCENT),a=Object(E.r)(t);j.data[s].CABIMENTADO_PERCENT=Object(E.p)(a)}else j.data[s].CABIMENTADO_FORMATTED="0",j.data[s].CABIMENTADO_PERCENT=0;j.data[s].SALDO_DISPONIVEL<=0&&(j.data[s].COLOR_STATUS=Object(A.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(A.jsx)("div",{style:{backgroundColor:"red",width:"20px",height:"20px",borderRadius:"50%",border:"2px solid red"}})})),(null===(n=j.data[s].cabimentacao)||void 0===n?void 0:n.length)>0&&(j.data[s].COLOR_STATUS=Object(A.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(A.jsx)("div",{style:{backgroundColor:"gray",width:"20px",height:"20px",borderRadius:"50%",border:"2px solid gray"}})})),(null===(o=j.data[s].cabimentacao)||void 0===o?void 0:o.length)>0&&j.data[s].SALDO_DISPONIVEL<=0&&(j.data[s].COLOR_STATUS=Object(A.jsx)(A.Fragment,{children:Object(A.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(A.jsx)("div",{style:{backgroundColor:"gray",width:"20px",height:"20px",borderRadius:"50%",border:"2px solid gray",marginRight:"4px"}}),Object(A.jsx)("div",{style:{backgroundColor:"red",width:"20px",height:"20px",borderRadius:"50%",border:"2px solid red"}})]})}));j.data[s].action=Object(A.jsxs)(c.a.Fragment,{children:[0==Object(E.s)(R,q,"Ler")?null:Object(A.jsx)(h.b,{to:"#",title:Object(E.u)(R,q,"Ler"),onClick:()=>qt(e),className:"text-primary mx-1",children:Object(A.jsx)("i",{className:"text-primary "+Object(E.t)(R,q,"Ler")})}),0==Object(E.s)(R,q,"Editar")?null:Object(A.jsx)(h.b,{to:"#",title:Object(E.u)(R,q,"Editar"),onClick:()=>Kt(e),className:"text-primary mx-1",children:Object(A.jsx)("i",{className:"text-primary "+Object(E.t)(R,q,"Editar")})}),j.data[s].SALDO_DISPONIVEL>0?Object(A.jsx)(h.b,{to:"#",title:Object(E.u)(R,q,"Cabimentacao"),onClick:()=>Jt(e),className:"text-primary mx-1",children:Object(A.jsx)("i",{className:"text-primary "+Object(E.t)(R,q,"Cabimentacao")})}):null,0==Object(E.s)(R,q,"Eliminar")?null:Object(A.jsx)(h.b,{to:"#",title:Object(E.u)(R,q,"Eliminar"),onClick:()=>Wt(e),className:"text-danger",children:Object(A.jsx)("i",{className:""+Object(E.t)(R,q,"Eliminar")})})]})}Nt(j.data)}0==St.length&&Dt(a)}catch(j){console.error(j.response)}}const[Et,It]=Object(l.useState)([]);const[At,Rt]=Object(l.useState)([]);const[Tt,Pt]=Object(l.useState)([]),[St,Dt]=Object(l.useState)([]),[_t,wt]=Object(l.useState)([]);async function Ft(){try{const e=await N.a.get("/projetos");if("200"==e.status){wt(e.data);const t=e.data.map(e=>({value:e.ID,label:e.NOME}));Pt(t)}}catch(e){console.error(e.response)}}const[Mt,Lt]=Object(l.useState)([]);async function Bt(){try{const e=await N.a.get("/rubricas");if("200"==e.status){const t=e.data.map(e=>({value:e.ID,label:e.DESIGNACAO}));Lt(t)}}catch(e){console.error(e.response)}}const[kt,Vt]=Object(l.useState)([]);async function Gt(){try{const e=await N.a.get("/meiospagamento");"200"==e.status&&(e.data,Vt(e.data))}catch(e){console.error(e.response)}}const[Ht,Ut]=Object(l.useState)([]),qt=(e,t)=>{re(e.PROJETO_ID),Z(e.ORCAMENTO_INICIAL),ae(e.ORCAMENTO_DISPONIVEL),ee(e.ORCAMENTO_CORRIGIDO),X(e.ANO),oe(e.rubrica.ID),le(e.COMENTARIO);bt({orcamento:e,cabimento:t}),ta(!0),$t(!1),ia(!1),Yt(!1)};const Kt=e=>{re(e.PROJETO_ID),oe(e.RUBRICA_ID),Z(e.ORCAMENTO_INICIAL),ae(e.ORCAMENTO_DISPONIVEL),ee(e.ORCAMENTO_CORRIGIDO),X(e.ANO),le(e.OBS),bt(e),Re(e.ENTIDADE_ID),$t(!0)};const zt=async e=>{let t=!1;try{const a=await N.a.get("/payment/cabimentos/"+e.ID);if("fail"==a.data.status)return B(a.data.status.message);"200"==a.status&&(ta(!1),C.a.success("Pagamento efectuado com sucesso!",{duration:4e3}),Ct(),t=!0)}catch(a){console.error(a.response)}return t},Jt=(e,t)=>{na(!0),bt(e)};const Xt=async e=>{let t=!0;try{await N.a.delete("/orcamento/"+e)}catch(a){t=!1,console.error(a.response),B("Falha. Tente mais tarde")}return Ct(),t},Wt=async e=>{L({delete:Xt,id:e.ID})};Object(l.useEffect)(()=>{0==Object(E.l)(R,q)?K.push("/"):(Ct(),Bt(),Ft())},[]);const[Qt,Yt]=Object(l.useState)(!1),[Zt,$t]=Object(l.useState)(!1),[ea,ta]=Object(l.useState)(!1),[aa,sa]=Object(l.useState)(!1),[la,ca]=Object(l.useState)(!1),[ra,na]=Object(l.useState)(!1),[oa,ia]=Object(l.useState)(!1),[da,ja]=Object(l.useState)(!1);var[ba,Oa]=Object(l.useState)([{id:""+Math.random(),PR_DOCUMENTO_TP_ID:"f426156ba83c4b91c8f1c0de7025f582f16a",DOC_URL:null}]);function ma(e,t){const a=ba.findIndex(e=>e.id===t);""!=ba[a].tipodocumento&&""!=ba[a].numero||B("Preencha o campos obrigat\xf3rios"),ba[a]={id:t,numero:ba[a].numero,anexo:{type:2,file:e}},ja(!0),Oa(ba.concat([]))}function ua(e,t){const a=ba.findIndex(e=>e.id===t);ba[a]={id:t,numero:e,anexo:ba[a].anexo},ja(!0),Oa(ba.concat([]))}function ha(){Oa(ba.concat([{id:""+Math.random(),tipodocumento:"",numero:"",anexo:{type:0,file:null}}]))}function xa(e){if(ba.length>1){const a=ba.findIndex(t=>t.id===e);if(a>-1){var t=ba;t.splice(a,1),Oa(t.concat([])),ja(!0)}}}const pa=e=>{const t=e.target.value;if(""===t)return rt(!1);if(""===ce)return rt(!1),B("Escolhe um projeto");let a=_t.find(e=>e.ID===ce.value).SALDO_DISPONIVEL;parseInt(t)>a?(Z(t),rt(!0)):(Z(t),rt(!1))};return Object(A.jsx)(A.Fragment,{children:Object(A.jsx)(c.a.Fragment,{children:Object(A.jsxs)(r.a,{children:[Object(A.jsx)(n.a,{sm:12,children:Object(A.jsxs)(d.a,{onSelect:e=>{G(e)},defaultActiveKey:"dados",id:"justify-tab-example",className:"mb-3 tabs-casino",justify:!0,children:[" ",Object(A.jsx)(j.a,{eventKey:"dados",title:Object(A.jsxs)("span",{children:[" ",Object(A.jsx)("i",{className:"icon-tab-casino fas fa-database "})," Or\xe7amento"]}),children:"dados"==V&&Object(A.jsx)(b.a,{children:Object(A.jsx)(b.a.Body,{children:Object(A.jsx)(T,{listAno:St,listProjetos:Tt,columns:z,data:gt,modalOpen:()=>{Yt(!0),$t(!1),ta(!1),na(!1),Pe(""),De(""),Me(""),Be("")},uploadlist:Ct,years:ft,uploadmeiospagamento:Gt})})})}),Object(A.jsx)(j.a,{eventKey:"projetos",title:Object(A.jsxs)("span",{children:[" ",Object(A.jsx)("i",{className:"icon-tab-casino fas fa-database "})," Projetos"]}),children:"projetos"==V&&Object(A.jsx)(I.default,{})})]})}),Object(A.jsxs)(n.a,{sm:12,children:[Object(A.jsxs)(O.a,{size:"x",show:Qt,onHide:()=>Yt(!1),children:[Object(A.jsx)(O.a.Header,{closeButton:!0,children:Object(A.jsx)(O.a.Title,{as:"h5",children:"Criar"})}),Object(A.jsx)(O.a.Body,{className:"newuserbox",children:Object(A.jsx)("form",{id:"criarItem",onSubmit:async function(e){e.preventDefault();const t={ORCAMENTO_INICIAL:Y,ORCAMENTO_CORRIGIDO:$,COMENTARIO:se,PROJETO_ID:ce.value,RUBRICA_ID:ne.value,ENTIDADE_ID:0==F?Ae:F,OBS:se,ANO:J};if(console.log(t),ct)return B("Or\xe7amento Inicial n\xe3o pode ser superior ao Saldo Dispon\xedvel do Projeto");yt(!0);try{const e=await N.a.post("/orcamento",t);if(200===e.status){if("fail"===e.data.status)return B(e.data.message),void yt(!1);Ct(),yt(!1),Yt(!1)}}catch(a){yt(!1),console.error(a.response)}},children:Object(A.jsxs)(r.a,{children:[Object(A.jsx)(n.a,{sm:12,children:Object(A.jsxs)("div",{className:"form-group fill",children:[Object(A.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Projeto ",Object(A.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(A.jsx)(f.a,{className:"basic-single",classNamePrefix:"select",onChange:e=>re(e),name:"projeto",options:Tt,value:ce,required:!0,menuPlacement:"auto",menuPosition:"fixed",placeholder:"Projeto..."})]})}),Object(A.jsx)(n.a,{sm:6,children:Object(A.jsxs)("div",{className:"form-group fill",children:[Object(A.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Rubricas ",Object(A.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(A.jsx)(f.a,{className:"basic-single",classNamePrefix:"select",onChange:e=>oe(e),name:"rubricas",options:Mt,value:ne,required:!0,menuPlacement:"auto",menuPosition:"fixed",placeholder:"Rubricas..."})]})}),Object(A.jsx)(n.a,{sm:6,children:Object(A.jsxs)("div",{className:"form-group fill",children:[Object(A.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Ano ",Object(A.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(A.jsx)("input",{type:"number",defaultValue:"",onChange:e=>{X(e.target.value)},className:"form-control",placeholder:"Ano...",required:!0})]})}),Object(A.jsx)(n.a,{sm:6,children:Object(A.jsxs)("div",{className:"form-group fill",children:[Object(A.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Or\xe7amento Inicial ",Object(A.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(A.jsx)("input",{type:"number",defaultValue:"",onChange:pa,className:"form-control",placeholder:"Or\xe7amento Inicial...",required:!0})]})}),Object(A.jsx)(n.a,{sm:6,children:Object(A.jsxs)("div",{className:"form-group fill",children:[Object(A.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Or\xe7amento Corrigido ",Object(A.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(A.jsx)("input",{type:"number",onChange:e=>{ee(e.target.value)},defaultValue:"",className:"form-control",placeholder:"Or\xe7amento Corrigido...",required:!0})]})}),Object(A.jsx)(n.a,{sm:12,children:Object(A.jsxs)("div",{className:"form-group fill",children:[Object(A.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Coment\xe1rios ",Object(A.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(A.jsx)("textarea",{className:"form-control",maxLength:"64000",onChange:e=>{le(e.target.value)},id:"comentarios",rows:"3",placeholder:"Coment\xe1rios..."})]})})]})})}),Object(A.jsxs)(O.a.Footer,{children:[Object(A.jsx)(o.a,{variant:"danger",onClick:()=>Yt(!1),children:"Fechar"}),vt?Object(A.jsx)(o.a,{variant:"primary",children:"Guardando"}):Object(A.jsx)(o.a,{type:"submit",form:"criarItem",variant:"primary",children:"Guardar"})]})]}),Object(A.jsxs)(O.a,{size:"x",show:Zt,onHide:()=>$t(!1),children:[Object(A.jsx)(O.a.Header,{closeButton:!0,children:Object(A.jsx)(O.a.Title,{as:"h5",children:"Editar"})}),Object(A.jsx)(O.a.Body,{className:"newuserbox",children:Object(A.jsx)("form",{id:"editarItem",onSubmit:async function(e){e.preventDefault();const t={ORCAMENTO_INICIAL:Y,ORCAMENTO_CORRIGIDO:$,OBS:se,PROJETO_ID:ce.value,RUBRICA_ID:ne.value,ANO:J};if(ct)return B("Orcamento Inicial n\xe3o pode ser superior ao Saldo Disponivel do Projeto");yt(!0);try{"200"==(await N.a.put("/orcamento/"+jt.ID,t)).status&&(Ct(),Bt(),Ft(),yt(!1),$t(!1))}catch(a){yt(!1),console.error(a.response)}},children:Object(A.jsxs)(r.a,{children:[Object(A.jsx)(n.a,{sm:12,children:Object(A.jsxs)("div",{className:"form-group fill",children:[Object(A.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Projeto ",Object(A.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(A.jsx)(f.a,{className:"basic-single",classNamePrefix:"select",onChange:e=>re(e),name:"projeto",options:Tt,defaultValue:Tt.map(e=>e.value==ce?e:null),required:!0,menuPlacement:"auto",menuPosition:"fixed",placeholder:"Projeto..."})]})}),Object(A.jsx)(n.a,{sm:6,children:Object(A.jsxs)("div",{className:"form-group fill",children:[Object(A.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Rubricas ",Object(A.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(A.jsx)(f.a,{className:"basic-single",classNamePrefix:"select",onChange:e=>oe(e),name:"rubricas",options:Mt,defaultValue:Mt.map(e=>e.value==ne?e:null),required:!0,menuPlacement:"auto",menuPosition:"fixed",placeholder:"Rubricas..."})]})}),Object(A.jsx)(n.a,{sm:6,children:Object(A.jsxs)("div",{className:"form-group fill",children:[Object(A.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Ano ",Object(A.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(A.jsx)("input",{type:"number",onChange:e=>{X(e.target.value)},defaultValue:jt.ANO,className:"form-control",placeholder:"Ano...",required:!0})]})}),Object(A.jsx)(n.a,{sm:6,children:Object(A.jsxs)("div",{className:"form-group fill",children:[Object(A.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Or\xe7amento Inicial ",Object(A.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(A.jsx)("input",{type:"number",onChange:pa,defaultValue:jt.ORCAMENTO_INICIAL,className:"form-control",placeholder:"Or\xe7amento Inicial...",required:!0})]})}),Object(A.jsx)(n.a,{sm:6,children:Object(A.jsxs)("div",{className:"form-group fill",children:[Object(A.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Or\xe7amento Corrigido ",Object(A.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(A.jsx)("input",{type:"number",onChange:e=>{ee(e.target.value)},defaultValue:jt.ORCAMENTO_CORRIGIDO,className:"form-control",placeholder:"Or\xe7amento Corrigido...",required:!0})]})}),Object(A.jsx)(n.a,{sm:12,children:Object(A.jsxs)("div",{className:"form-group fill",children:[Object(A.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Coment\xe1rios ",Object(A.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(A.jsx)("textarea",{defaultValue:jt.OBS,className:"form-control",maxLength:"64000",onChange:e=>{le(e.target.value)},id:"comentarios",rows:"3",placeholder:"Coment\xe1rios..."})]})})]})})}),Object(A.jsxs)(O.a.Footer,{children:[Object(A.jsx)(o.a,{variant:"danger",onClick:()=>$t(!1),children:"Fechar"}),vt?Object(A.jsx)(o.a,{variant:"primary",children:"Guardando"}):Object(A.jsx)(o.a,{type:"submit",form:"editarItem",variant:"primary",children:"Guardar"})]})]}),Object(A.jsxs)(O.a,{size:"x",show:ea,onHide:()=>ta(!1),children:[Object(A.jsx)(O.a.Header,{closeButton:!0,children:Object(A.jsx)(O.a.Title,{as:"h5",children:"Detalhes"})}),Object(A.jsxs)("ul",{className:"nav nav-tabs profile-tabs nav-fill",id:"myTab",role:"tablist",children:[Object(A.jsx)("li",{className:"nav-item",children:Object(A.jsxs)(h.b,{to:"#",className:"dados"===Ot?ht:ut,onClick:()=>{mt("dados")},id:"profile-tab",children:[Object(A.jsx)("i",{className:"fas fa-database mr-2"}),"Dados"]})}),Object(A.jsx)("li",{className:"nav-item",children:Object(A.jsxs)(h.b,{to:"#",className:"despesa"===Ot?ht:ut,onClick:()=>{mt("despesa")},id:"contact-tab",children:[Object(A.jsx)("i",{className:"feather icon-file-text mr-2"}),"Cabimenta\xe7\xe3o"]})})]}),Object(A.jsx)(O.a.Body,{className:"newuserbox",style:"dados"===Ot?{}:{display:"none"},children:Object(A.jsx)("form",{id:"editarItem",children:Object(A.jsxs)(r.a,{children:[Object(A.jsx)(n.a,{sm:12,children:Object(A.jsxs)("div",{className:"form-group fill",children:[Object(A.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Projeto ",Object(A.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(A.jsx)(f.a,{isDisabled:!0,className:"basic-single",classNamePrefix:"select",onChange:e=>re(e),name:"projeto",options:Tt,defaultValue:Tt.map(e=>e.value==ce?e:null),required:!0,menuPlacement:"auto",menuPosition:"fixed",placeholder:"Projeto..."})]})}),Object(A.jsx)(n.a,{sm:6,children:Object(A.jsxs)("div",{className:"form-group fill",children:[Object(A.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Rubricas ",Object(A.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(A.jsx)(f.a,{isDisabled:!0,className:"basic-single",classNamePrefix:"select",onChange:e=>oe(e),name:"rubricas",options:Mt,defaultValue:Mt.map(e=>e.value==ne?e:null),required:!0,menuPlacement:"auto",menuPosition:"fixed",placeholder:"Rubricas..."})]})}),Object(A.jsx)(n.a,{sm:6,children:Object(A.jsxs)("div",{className:"form-group fill",children:[Object(A.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Ano ",Object(A.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(A.jsx)("input",{readOnly:"readOnly",type:"number",onChange:e=>{X(e.target.value)},defaultValue:null===jt||void 0===jt||null===(e=jt.orcamento)||void 0===e?void 0:e.ANO,className:"form-control"})]})}),Object(A.jsx)(n.a,{sm:6,children:Object(A.jsxs)("div",{className:"form-group fill",children:[Object(A.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Or\xe7amento Inicial ",Object(A.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(A.jsx)("input",{readOnly:"readOnly",type:"text",onChange:e=>{Z(e.target.value)},defaultValue:null===jt||void 0===jt||null===(t=jt.orcamento)||void 0===t?void 0:t.ORCAMENTO_INICIAL_FORMATTED,className:"form-control"})]})}),Object(A.jsx)(n.a,{sm:6,children:Object(A.jsxs)("div",{className:"form-group fill",children:[Object(A.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Or\xe7amento Corrigido ",Object(A.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(A.jsx)("input",{readOnly:"readOnly",type:"text",onChange:e=>{ee(e.target.value)},defaultValue:null===jt||void 0===jt||null===(a=jt.orcamento)||void 0===a?void 0:a.ORCAMENTO_CORRIGIDO_FORMATTED,className:"form-control"})]})}),null!=(null===jt||void 0===jt||null===(s=jt.orcamento)||void 0===s?void 0:s.PAGO)?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(n.a,{sm:6,children:Object(A.jsxs)("div",{className:"form-group fill",children:[Object(A.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Pago ",Object(A.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(A.jsx)("input",{readOnly:"readOnly",type:"text",defaultValue:null===jt||void 0===jt||null===(i=jt.orcamento)||void 0===i?void 0:i.PAGO_FORMATTED,className:"form-control"})]})}),Object(A.jsx)(n.a,{sm:6,children:Object(A.jsxs)("div",{className:"form-group fill",children:[Object(A.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Pago %",Object(A.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(A.jsx)("input",{readOnly:"readOnly",type:"text",defaultValue:null===jt||void 0===jt||null===(m=jt.orcamento)||void 0===m?void 0:m.PAGO_PERCENT,className:"form-control"})]})})]}):null,Object(A.jsx)(n.a,{sm:12,children:Object(A.jsxs)("div",{className:"form-group fill",children:[Object(A.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Coment\xe1rios ",Object(A.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(A.jsx)("textarea",{readOnly:"readOnly",defaultValue:null===jt||void 0===jt||null===(x=jt.orcamento)||void 0===x?void 0:x.OBS,className:"form-control",maxLength:"64000",onChange:e=>{le(e.target.value)},id:"comentarios",rows:"3",placeholder:"Coment\xe1rios..."})]})})]})})}),(null===jt||void 0===jt||null===(p=jt.orcamento)||void 0===p||null===(g=p.cabimentacao)||void 0===g?void 0:g.length)>0?Object(A.jsx)(O.a.Body,{className:"newuserbox",style:"despesa"===Ot?{}:{display:"none"},children:Object(A.jsx)("form",{id:"criarItem",children:Object(A.jsx)(A.Fragment,{children:null===jt||void 0===jt||null===(y=jt.orcamento)||void 0===y||null===(P=y.cabimentacao)||void 0===P?void 0:P.map((e,t)=>Object(A.jsxs)(r.a,{className:"mb-3 border-bottom",children:[Object(A.jsx)(n.a,{sm:4,children:Object(A.jsxs)("div",{className:"form-group fill",children:[Object(A.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Cabimentado ",Object(A.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(A.jsx)("input",{readOnly:"readOnly",defaultValue:null===e||void 0===e?void 0:e.CABIMENTADO,type:"text",className:"form-control",placeholder:"Valor..."})]})}),Object(A.jsx)(n.a,{sm:4,children:Object(A.jsxs)("div",{className:"form-group fill",children:[Object(A.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Cabimentado % ",Object(A.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(A.jsx)("input",{readOnly:"readOnly",defaultValue:(null===e||void 0===e?void 0:e.CABIMENTADO_PERCENT)+"%",type:"text",className:"form-control",placeholder:"Valor..."})]})}),Object(A.jsx)(n.a,{sm:4,children:Object(A.jsxs)("div",{className:"form-group fill",children:[Object(A.jsx)("label",{className:"floating-label",htmlFor:"Name",children:"Data Pagamento"}),Object(A.jsx)("input",{readOnly:"readOnly",defaultValue:Object(E.i)(null===e||void 0===e?void 0:e.DT_PAGAMENTO),type:"text",className:"form-control"})]})}),Object(A.jsx)(n.a,{sm:12,children:Object(A.jsxs)("div",{className:"form-group fill",children:[Object(A.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Coment\xe1rios ",Object(A.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(A.jsx)("textarea",{readOnly:"readOnly",defaultValue:null===e||void 0===e?void 0:e.COMENTARIO,className:"form-control",maxLength:"64000",rows:"3",placeholder:"Coment\xe1rios..."})]})}),Object(A.jsx)(n.a,{sm:12,children:Object(A.jsx)("div",{className:"row align-items-center key={index}",children:Object(A.jsx)(n.a,{sm:12,children:Object(A.jsxs)("div",{className:"form-group fill",children:[Object(A.jsx)("label",{className:"floating-label",htmlFor:"Name",children:"R\xfabrica"}),Object(A.jsx)(f.a,{isDisabled:!0,className:"basic-single",classNamePrefix:"select",name:"rubricas",options:Mt,defaultValue:Mt.map(e=>{var t;return e.value==(null===jt||void 0===jt||null===(t=jt.rubrica)||void 0===t?void 0:t.ID)?e:null}),required:!0,menuPlacement:"auto",menuPosition:"fixed",placeholder:"R\xfabrica..."})]})})})}),Object(A.jsx)(n.a,{sm:12,children:(null===e||void 0===e?void 0:e.sgigjreldocumento.length)>0?null===e||void 0===e?void 0:e.sgigjreldocumento.map((e,t)=>Object(A.jsx)("div",{className:"d-flex flex-column ",children:Object(A.jsxs)("div",{className:"row align-items-center",children:[Object(A.jsx)(n.a,{sm:6,children:Object(A.jsxs)("div",{className:"form-group fill",children:[Object(A.jsx)("label",{className:"floating-label",htmlFor:"Name",children:"N\xfamero Documento                                                                           "}),Object(A.jsx)("input",{readOnly:"readOnly",defaultValue:e.NUMERO,type:"text",className:"form-control",placeholder:"N\xfamero Documento ..."})]})}),Object(A.jsx)(n.a,{sm:6,children:Object(A.jsx)("a",{href:"".concat(e.DOC_URL,"?alt=media&token=0"),target:"_blank",children:Object(A.jsxs)(o.a,{variant:"primary",children:["Abrir documento ",t+1]})})})]})},t)):null}),Object(A.jsx)(n.a,{className:"mt-3 mb-3",sm:6,children:Object(A.jsx)(A.Fragment,{children:null==(null===e||void 0===e?void 0:e.DT_PAGAMENTO)?Object(A.jsx)(o.a,{onClick:()=>{return t=null===jt||void 0===jt?void 0:jt.orcamento,a=e,void k(" Confirma o pagamento da R\xfabrica  ".concat(t.rubrica.DESIGNACAO," ?"),{doit:zt,id:a});var t,a},variant:"primary",children:"Efetuar Pagamento"}):Object(A.jsx)(o.a,{variant:"secondary",children:" Pagamento Efetuado"})})})]}))})})}):null,Object(A.jsxs)(O.a.Footer,{className:"d-flex justify-content-between",children:[Object(A.jsxs)("span",{children:["Registado por: ",null===jt||void 0===jt||null===(S=jt.criadoPor)||void 0===S||null===(D=S.sgigjrelpessoaentidade)||void 0===D||null===(_=D.sgigjpessoa)||void 0===_?void 0:_.NOME]}),Object(A.jsx)(o.a,{variant:"danger",onClick:()=>ta(!1),children:"Fechar"})]})]}),Object(A.jsxs)(O.a,{size:"x",show:ra,onHide:()=>na(!1),children:[Object(A.jsx)(O.a.Header,{closeButton:!0,children:Object(A.jsx)(O.a.Title,{as:"h5",children:"Criar Cabimento"})}),Object(A.jsxs)("ul",{className:"nav nav-tabs profile-tabs nav-fill",id:"myTab",role:"tablist",children:[Object(A.jsx)("li",{className:"nav-item",children:Object(A.jsxs)(h.b,{to:"#",className:"dados"===Ot?ht:ut,onClick:()=>{mt("dados")},id:"profile-tab",children:[Object(A.jsx)("i",{className:"fas fa-database mr-2"}),"Dados"]})}),Object(A.jsx)("li",{className:"nav-item",children:Object(A.jsxs)(h.b,{to:"#",className:"despesa"===Ot?ht:ut,onClick:()=>{mt("despesa")},id:"contact-tab",children:[Object(A.jsx)("i",{className:"fas fa-file-alt mr-2"}),"Documentos"]})})]}),Object(A.jsx)(O.a.Body,{className:"newuserbox",style:"dados"===Ot?{}:{display:"none"},children:Object(A.jsx)("form",{id:"criarCabimento",onSubmit:async function(e){e.preventDefault();var t=!1,a=!1,s=[];if(null===ba[0].DOC_URL)return B("Preenche os campos de documentos");if(ct)return B("Cabimentado n\xe3o pode ser superior ao Saldo Disponivel");for(let r=0;r<ba.length;r++)void 0!=ba[r].numero&&""!=ba[r].numero||(t=!0);for(let r=0;r<ba.length;r++)void 0!=ba[r].anexo&&null!=ba[r].anexo.file||(a=!0);if(a)return B("Falta inserir o anexo da Fatura");if(t)return B("Preenche os campos de documentos");yt(!0);for(let r=0;r<ba.length;r++){const e=await Object(E.k)(ba[r].anexo.file);s.push({PR_DOCUMENTO_TP_ID:"f426156ba83c4b91c8f1c0de7025f582f16a",DOC_URL:e.file.data,NUMERO:ba[r].numero})}const l={CABIMENTADO:parseInt(Oe),COMENTARIO:se,PROJETO_RUBRICA_ID:jt.ID,documentos:s};console.log(l);try{"200"==(await N.a.post("/cabimentos",l)).status&&(Ct(),yt(!1),le(""),oe(""),na(!1))}catch(c){yt(!1),console.error(c.response)}},children:Object(A.jsxs)(r.a,{children:[Object(A.jsx)(n.a,{md:12,children:Object(A.jsxs)("div",{className:"form-group fill",children:[Object(A.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Projeto ",Object(A.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(A.jsx)("input",{type:"text",readOnly:"readOnly",defaultValue:function(e){const t=Tt.find(t=>t.value==e);return null===t||void 0===t?void 0:t.label}(null===jt||void 0===jt?void 0:jt.PROJETO_ID),className:"form-control"})]})}),Object(A.jsx)(n.a,{md:12,children:Object(A.jsxs)("div",{className:"form-group fill",children:[Object(A.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["R\xfabrica ",Object(A.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(A.jsx)("input",{type:"text",readOnly:"readOnly",defaultValue:function(e){const t=Mt.find(t=>t.value==e);return null===t||void 0===t?void 0:t.label}(null===jt||void 0===jt?void 0:jt.RUBRICA_ID),className:"form-control"})]})}),Object(A.jsx)(n.a,{md:6,children:Object(A.jsxs)("div",{className:"form-group fill",children:[Object(A.jsxs)("label",{className:"floating-label",htmlFor:"Rubricas",children:["Saldo Dispon\xedvel ",Object(A.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(A.jsx)("input",{type:"text",readOnly:"readOnly",defaultValue:null===jt||void 0===jt?void 0:jt.SALDO_DISPONIVEL,className:"form-control"})]})}),Object(A.jsx)(n.a,{md:6,children:Object(A.jsxs)("div",{className:"form-group fill",children:[Object(A.jsxs)("label",{className:"floating-label",htmlFor:"Rubricas",children:["Cabimentado ",Object(A.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(A.jsx)("input",{max:null===jt||void 0===jt?void 0:jt.SALDO_DISPONIVEL,type:"number",onChange:e=>{const t=e.target.value;if(""===t)return rt(!1);console.log(jt),parseInt(t)>(null===jt||void 0===jt?void 0:jt.SALDO_DISPONIVEL)?(me(t),rt(!0)):(me(t),rt(!1))},className:"form-control",required:!0,placeholder:"Cabimentado"}),ct?Object(A.jsx)("small",{className:"text-danger",children:" Cabimentado n\xe3o pode ser superior ao Saldo Disponivel"}):""]})}),Object(A.jsx)(n.a,{sm:12,children:Object(A.jsxs)("div",{className:"form-group fill",children:[Object(A.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Coment\xe1rios ",Object(A.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(A.jsx)("textarea",{className:"form-control",maxLength:"64000",onChange:e=>{le(e.target.value)},id:"comentarios",rows:"3",placeholder:"Coment\xe1rios..."})]})})]})})}),Object(A.jsx)(O.a.Body,{className:"newuserbox",style:"despesa"===Ot?{}:{display:"none"},children:Object(A.jsxs)("form",{className:"w-100",children:[Object(A.jsx)(r.a,{children:Object(A.jsx)(n.a,{style:{display:"flex",justifyContent:"flex-end"},sm:12,children:Object(A.jsx)(o.a,{onClick:()=>ha(),variant:"primary",children:"+"})})}),ba.map((e,t)=>{var a;return Object(A.jsx)(r.a,{style:{marginBottom:"12px"},children:Object(A.jsx)(n.a,{sm:12,children:Object(A.jsxs)(r.a,{children:[Object(A.jsx)(n.a,{sm:6,children:Object(A.jsxs)("div",{className:"form-group fill",children:[Object(A.jsxs)("label",{className:"floating-label",htmlFor:"text",children:["N\xfamero ",Object(A.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(A.jsx)("input",{required:!0,onChange:t=>{ua(t.target.value,e.id)},type:"text",className:"form-control"})]})}),Object(A.jsx)("div",{className:"col-sm-6  paddinhtop28OnlyPC",children:Object(A.jsxs)("div",{className:"d-flex",children:[Object(A.jsxs)("label",{htmlFor:"anexarcriar"+e.id,className:"btn",style:{backgroundColor:"#d2b32a",color:"#fff"},children:[null==(null===e||void 0===e||null===(a=e.anexo)||void 0===a?void 0:a.file)?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("i",{className:"feather icon-download"}),Object(A.jsx)(A.Fragment,{children:" Anexar"})]}):"Anexado"," "]}),Object(A.jsx)("input",{id:"anexarcriar"+e.id,onChange:t=>ma(t.target.files[0],e.id),accept:"image/x-png,image/jpeg",style:{display:"none"},type:"file"}),ba.length>1?Object(A.jsx)("label",{onClick:()=>xa(e.id),class:"btn btn-danger ml-3",children:Object(A.jsx)("i",{className:"feather icon-trash-2"})}):null]})})]})})},e.id)})]})}),Object(A.jsxs)(O.a.Footer,{children:[Object(A.jsx)(o.a,{variant:"danger",onClick:()=>na(!1),children:"Fechar"}),vt?Object(A.jsx)(o.a,{variant:"primary",children:"Guardando"}):Object(A.jsx)(o.a,{type:"submit",form:"criarCabimento",variant:"primary",children:"Guardar"})]})]}),Object(A.jsxs)(O.a,{size:"x",show:aa,onHide:()=>sa(!1),children:[Object(A.jsx)(O.a.Header,{closeButton:!0,children:Object(A.jsxs)(O.a.Title,{as:"h5",children:[" Pagamento da R\xfabrica ",je]})}),Object(A.jsx)(O.a.Body,{className:"newuserbox",children:Object(A.jsxs)("form",{className:"w-100",id:"criarItem",onSubmit:async function(e){var t=!1,a=[];e.preventDefault();for(let c=0;c<ba.length;c++)null!=ba[c].anexo.file&&""!=ba[c].numero||(t=!0);if(t)return B("Preenche todos os campos");for(let c=0;c<ba.length;c++){const e=await Object(E.k)(ba[c].anexo.file);a.push({PR_DOCUMENTO_TP_ID:"f426156ba83c4b91c8f1c0de7025f582f16a",DOC_URL:e.file.data,NUMERO:ba[c].numero})}yt(!0);const s={documentos:a};console.log(s);try{"200"==(await N.a.post("/payment/cabimentos/"+ie,s)).status&&(C.a.success("Pagamento efetuado com sucesso!",{duration:4e3}),Ct(),yt(!1),sa(!1))}catch(l){yt(!1),console.error(l.response)}},children:[Object(A.jsx)(r.a,{children:Object(A.jsx)(n.a,{style:{display:"flex",justifyContent:"flex-end"},sm:12,children:Object(A.jsx)(o.a,{onClick:()=>ha(),variant:"primary",children:"+"})})}),ba.map((e,t)=>{var a;return Object(A.jsx)(r.a,{style:{marginBottom:"12px"},children:Object(A.jsx)(n.a,{sm:12,children:Object(A.jsxs)(r.a,{children:[Object(A.jsx)(n.a,{sm:6,children:Object(A.jsxs)("div",{className:"form-group fill",children:[Object(A.jsxs)("label",{className:"floating-label",htmlFor:"text",children:["N\xfamero ",Object(A.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(A.jsx)("input",{required:!0,onChange:t=>{ua(t.target.value,e.id)},type:"text",className:"form-control"})]})}),Object(A.jsx)("div",{className:"col-sm-6  paddinhtop28OnlyPC",children:Object(A.jsxs)("div",{className:"d-flex",children:[Object(A.jsxs)("label",{htmlFor:"anexarcriar"+e.id,className:"btn",style:{backgroundColor:"#d2b32a",color:"#fff"},children:[null==(null===e||void 0===e||null===(a=e.anexo)||void 0===a?void 0:a.file)?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("i",{className:"feather icon-download"}),Object(A.jsx)(A.Fragment,{children:" Anexar"})]}):"Anexado"," "]}),Object(A.jsx)("input",{id:"anexarcriar"+e.id,onChange:t=>ma(t.target.files[0],e.id),accept:"image/x-png,image/jpeg",style:{display:"none"},type:"file"}),ba.length>1?Object(A.jsx)("label",{onClick:()=>xa(e.id),class:"btn btn-danger ml-3",children:Object(A.jsx)("i",{className:"feather icon-trash-2"})}):null]})})]})})},e.id)})]})}),Object(A.jsxs)(O.a.Footer,{children:[Object(A.jsx)(o.a,{variant:"danger",onClick:()=>sa(!1),children:"Fechar"}),vt?Object(A.jsx)(o.a,{variant:"primary",children:"Guardando"}):Object(A.jsx)(o.a,{type:"submit",form:"criarItem",variant:"primary",children:"Guardar"})]})]}),Object(A.jsxs)(O.a,{size:"x",show:la,onHide:()=>ca(!1),children:[Object(A.jsx)(O.a.Header,{closeButton:!0,children:Object(A.jsx)(O.a.Title,{as:"h5",children:"Criar Despesa"})}),Object(A.jsx)(O.a.Body,{className:"newuserbox",children:Object(A.jsx)("form",{id:"criarDespesa",onSubmit:async function(e){if(e.preventDefault(),0===xe.length)return B("Selecione um comprovativo");yt(!0);var t="";let a=[];for(let c=0;c<xe.length;c++){const e=xe[c];t=(await Object(E.k)(e)).file.data,a.push({PR_DOCUMENTO_TP_ID:"f426156ba83c4b91c8f1c0de7025f582f16a",DOC_URL:t})}const s={VALOR:ke,RUBRICA_ID:ne.value,ORCALMENTO_ID:Ye,documentos:a};console.log(s);try{"200"==(await N.a.post("/despesa/orcamento",s)).status&&(Ct(),Gt(),yt(!1),ca(!1))}catch(l){yt(!1),console.error(l.response)}},children:Object(A.jsxs)(r.a,{children:[Object(A.jsx)(n.a,{sm:12,children:Object(A.jsxs)("div",{className:"form-group fill",children:[Object(A.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Valor ",Object(A.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(A.jsx)("input",{type:"number",onChange:e=>{Ve(e.target.value)},className:"form-control",placeholder:"Valor ...",required:!0})]})}),Object(A.jsx)(n.a,{sm:12,children:Object(A.jsxs)("div",{className:"form-group fill",children:[Object(A.jsxs)("label",{className:"floating-label",htmlFor:"Name",children:["Rubricas ",Object(A.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(A.jsx)(f.a,{className:"basic-single",classNamePrefix:"select",onChange:e=>oe(e),name:"rubricas",options:Mt,value:ne,required:!0,menuPlacement:"auto",menuPosition:"fixed",placeholder:"Rubricas..."})]})}),Object(A.jsxs)(n.a,{sm:12,children:[Object(A.jsxs)("div",{className:"form-group fill",children:[Object(A.jsxs)("label",{htmlFor:"anexareditarDespesa",className:"btn",style:{backgroundColor:"#d2b32a",color:"#fff"},children:[0===xe.length?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("i",{className:"feather icon-download"}),Object(A.jsx)(A.Fragment,{children:" Anexar"})]}):"Anexado"," "]}),Object(A.jsx)("input",{multiple:!0,id:"anexareditarDespesa",style:{display:"none"},onChange:e=>{return t=e.target.files,console.log(xe),pe([...xe,...t]),void dt(t);var t},accept:"image/*,.pdf",type:"file"})]}),xe.length>0?Object(A.jsx)("div",{children:Object(A.jsx)("div",{children:xe.map((e,t)=>Object(A.jsx)(A.Fragment,{children:Object(A.jsxs)("li",{className:"d-flex justify-content-between ",children:[e.name,Object(A.jsx)("span",{style:{cursor:"pointer"},onClick:()=>function(e){const t=[...xe];t.splice(e,1),pe(t)}(t),className:"text-danger",children:Object(A.jsx)("i",{class:"feather icon-trash-2"})})]},t)}))})}):null]})]})})}),Object(A.jsxs)(O.a.Footer,{children:[Object(A.jsx)(o.a,{variant:"danger",onClick:()=>ca(!1),children:"Fechar"}),vt?Object(A.jsx)(o.a,{variant:"primary",children:"Guardando"}):Object(A.jsx)(o.a,{type:"submit",form:"criarDespesa",variant:"primary",children:"Guardar"})]})]})]})]})})})}}}]);
//# sourceMappingURL=12.25c76c6a.chunk.js.map