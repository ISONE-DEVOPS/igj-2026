(this["webpackJsonpigj-frontend"]=this["webpackJsonpigj-frontend"]||[]).push([[18],{841:function(e,t,s){"use strict";t.a=s.p+"static/media/login.5e554ba8.svg"},842:function(e,t,s){"use strict";t.a=s.p+"static/media/circlelogin2.40b49a6a.svg"},843:function(e,t,s){"use strict";t.a=s.p+"static/media/dots.2ec0f293.svg"},846:function(e,t,s){"use strict";var a=s(0);t.a=()=>{const e=Object(a.useRef)(!0);return Object(a.useEffect)(()=>()=>{e.current=!1},[]),e}},990:function(e,t,s){"use strict";s.r(t);var a=s(0),c=s.n(a),r=s(840),i=(s(253),s(254)),o=s(841),l=s(842),n=s(843),d=s(8),b=s(828),j=s(404),u=s(965),m=s(812),p=s(403),x=s(874),h=s(873),O=s(24),g=s(846),f=s(22),y=s(32),v=s(1);const w=["className"];var N=e=>{let{className:t}=e,s=Object(b.a)(e,w);const c=Object(f.g)(),{login:r,lockdata:i,resetlockdata:o}=Object(O.a)(),l=Object(g.a)(),[n,N]=Object(a.useState)(!1);return Object(a.useEffect)(()=>{0==i.ative&&c.push("/")},[]),Object(v.jsx)(h.a,{initialValues:{email:i.username,password:"",submit:null},validationSchema:x.a().shape({email:x.b().max(64).required("O Utilizador \xe9 obrigat\xf3rio"),password:x.b().max(65).required("A palavra-passe \xe9 obrigat\xf3rio")}),onSubmit:async(e,t)=>{let{setErrors:s,setStatus:a,setSubmitting:n}=t;try{delete y.a.defaults.headers.common.Authorization;const t={USERNAME:i.username,PASSWORD:e.password},l=await y.a.post("/sessions",t);if("0"===l.data.status){a({success:!0}),n(!0),r(l.data);const e=i.link.substring(5,i.link.length);o(),c.push(e)}"242"===l.data.status&&(a({success:!1}),s({submit:"Credenciais incorretas"}),n(!1))}catch(d){l.current&&(a({success:!1}),s({submit:"Tente novamente mais tarde"}),n(!1))}},children:e=>{let{errors:a,handleBlur:c,handleChange:r,handleSubmit:i,isSubmitting:o,touched:l,values:b}=e;return Object(v.jsxs)("form",Object(d.a)(Object(d.a)({noValidate:!0,onSubmit:i,className:t},s),{},{children:[Object(v.jsxs)("div",{className:"form-group mb-4",children:[Object(v.jsxs)("span",{className:"form-control",style:{display:"flex",borderColor:"#DABF4A",alignItems:"center"},children:[Object(v.jsx)("i",{className:"feather icon-lock",style:{marginRight:"8px"}}),Object(v.jsx)("input",{style:{border:"0",width:"100%"},error:l.password&&a.password,label:"Palavra-passe",name:"password",onBlur:c,onChange:r,type:n?"text":"password",value:b.password,placeholder:"Palavra-passe"}),Object(v.jsx)("i",{className:n?"feather icon-eye":"feather icon-eye-off",style:{cursor:"pointer"},onClick:()=>N(!n)})]}),l.password&&a.password&&Object(v.jsx)("small",{style:{color:"red"},class:"text-danger form-text",children:a.password})]}),a.submit&&Object(v.jsx)(j.a,{sm:12,children:Object(v.jsx)(u.a,{children:a.submit})}),Object(v.jsx)(m.a,{children:Object(v.jsx)(j.a,{mt:2,children:Object(v.jsx)(p.a,{className:"btn-block mb-4",color:"primary",disabled:o,size:"large",type:"submit",variant:"primary",children:"Desbloquear"})})})]}))}})};t.default=()=>{const{lockdata:e}=Object(O.a)();return Object(v.jsxs)(c.a.Fragment,{children:[Object(v.jsx)(i.a,{}),Object(v.jsx)("div",{className:"auth-wrapper",children:Object(v.jsxs)("div",{className:"yellow-div",children:[Object(v.jsx)("h1",{children:"Sistema Integrado de Gest\xe3o"}),Object(v.jsx)("img",{src:o.a,alt:"pessoas em cartas"}),Object(v.jsx)("h1",{children:"Inspe\xe7\xe3o Geral de Jogos"}),Object(v.jsxs)("div",{className:"figures_box",children:[Object(v.jsx)("img",{src:l.a,style:{opacity:"0.2",top:"-450px",right:"0px",width:"800px",position:"absolute"},alt:"circulo"}),Object(v.jsx)("img",{src:l.a,style:{opacity:"0.2",bottom:"-450px",left:"-350px",width:"800px",position:"absolute"},alt:"circulo2"}),Object(v.jsx)("img",{src:n.a,style:{opacity:"0.3",top:"10px",left:"30px",width:"200px",position:"absolute"},alt:"pontos"}),Object(v.jsx)("img",{src:n.a,style:{opacity:"0.3",bottom:"10px",right:"30px",width:"200px",position:"absolute"},alt:"pontos2"})]}),Object(v.jsx)("div",{className:"auth-content text-center",children:Object(v.jsx)(r.a,{className:"borderless",style:{borderRadius:"20px"},children:Object(v.jsxs)(r.a.Body,{children:[Object(v.jsx)("img",{style:{backgroundColor:"#d2b32a",width:"130px",height:"130px",marginBottom:"10px",borderRadius:"50%"},src:e.foto+"?alt=media&token=0",alt:"logo"}),Object(v.jsx)("p",{className:"mb-2 text-muted",children:e.username}),Object(v.jsx)("div",{style:{marginBottom:"36px"}}),Object(v.jsx)(N,{})]})})})]})})]})}}}]);
//# sourceMappingURL=18.0b2cd230.chunk.js.map