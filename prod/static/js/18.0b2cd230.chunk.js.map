{"version":3,"sources":["assets/images/login.svg","assets/images/circlelogin2.svg","assets/images/dots.svg","hooks/useScriptRef.js","views/auth/signin/JWTLock.js","views/auth/signin/lock.js"],"names":["useScriptRef","scripted","useRef","useEffect","current","JWTLock","_ref","className","rest","_objectWithoutProperties","_excluded","history","useHistory","login","lockdata","resetlockdata","useAuth","scriptedRef","seepassword","setseepassword","useState","ative","push","_jsx","Formik","initialValues","email","username","password","submit","validationSchema","Yup","shape","max","required","onSubmit","async","values","_ref2","setErrors","setStatus","setSubmitting","api","defaults","headers","common","Authorization","uploaditem","response","post","data","status","success","link","substring","length","err","children","_ref3","errors","handleBlur","handleChange","handleSubmit","isSubmitting","touched","_jsxs","_objectSpread","noValidate","style","display","borderColor","alignItems","marginRight","border","width","error","label","name","onBlur","onChange","type","value","placeholder","cursor","onClick","color","class","Col","sm","Alert","Row","mt","Button","disabled","size","variant","Signin1","React","Fragment","Breadcrumb","src","loginimg","alt","circle","opacity","top","right","position","bottom","left","dots","Card","borderRadius","Body","backgroundColor","height","marginBottom","foto"],"mappings":"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","file":"static/js/18.0b2cd230.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/login.5e554ba8.svg\";","export default __webpack_public_path__ + \"static/media/circlelogin2.40b49a6a.svg\";","export default __webpack_public_path__ + \"static/media/dots.2ec0f293.svg\";","import {useRef, useEffect } from 'react';\n\nconst useScriptRef = () => {\n  const scripted = useRef(true);\n\n  useEffect(() => () => {\n    scripted.current = false;\n  }, []);\n\n  return scripted;\n};\n\nexport default useScriptRef;\n","import React, {useState,useEffect} from 'react';\nimport { Row, Col, Alert, Button } from 'react-bootstrap';\nimport * as Yup from 'yup';\nimport { Formik } from 'formik';\nimport useAuth from '../../../hooks/useAuth';\nimport useScriptRef from '../../../hooks/useScriptRef';\n\nimport { useHistory } from 'react-router-dom';\n\n\nimport api from '../../../services/api';\n\nconst JWTLock = ({ className, ...rest }) => {\n\n  const history = useHistory();\n\n  const { login, lockdata, resetlockdata } = useAuth();\n\n  const scriptedRef = useScriptRef();\n\n  const [seepassword,setseepassword] = useState(false);\n\n\n  useEffect(()=> {\n\n    if(lockdata.ative==false) history.push('/')\n        \n\n  },[])\n\n\n  return (\n      <Formik\n          initialValues={{\n            email: lockdata.username,\n            password: '',\n            submit: null\n          }}\n          validationSchema={Yup.object().shape({\n            \n            email: Yup.string().max(64).required('O Utilizador é obrigatório'),\n            password: Yup.string().max(65).required('A palavra-passe é obrigatório')\n          })}\n          onSubmit={async (values, {\n            setErrors,\n            setStatus,\n            setSubmitting\n          }) => {\n            try {\n\n              delete api.defaults.headers.common.Authorization;\n\n              const uploaditem = {\"USERNAME\": lockdata.username, \"PASSWORD\":values.password}\n\n              const response = await api.post('/sessions', uploaditem);\n              \n\n              if(response.data.status==='0'){ \n\n                setStatus({ success: true });\n                setSubmitting(true);\n                login(response.data)\n\n                const data = lockdata.link.substring(5,lockdata.link.length)\n\n                resetlockdata()\n            \n                history.push(data)\n\n\n              }\n\n              if(response.data.status==='242'){\n                setStatus({ success: false });\n                setErrors({ submit: \"Credenciais incorretas\"});\n                setSubmitting(false);\n              }\n\n\n            } catch (err) {\n              \n              if (scriptedRef.current) {\n                setStatus({ success: false });\n                setErrors({ submit: \"Tente novamente mais tarde\" });\n                setSubmitting(false);\n              }\n            }\n          }\n        \n        }\n      >\n        \n        {({\n            errors,\n            handleBlur,\n            handleChange,\n            handleSubmit,\n            isSubmitting,\n            touched,\n            values\n          }) => (\n            <form\n                noValidate\n                onSubmit={handleSubmit}\n                className={className}\n                {...rest}\n            >\n             \n            <div className=\"form-group mb-4\">\n              <span className=\"form-control\" style={{display:\"flex\",borderColor:\"#DABF4A\",alignItems:\"center\"}}>\n                <i className=\"feather icon-lock\" style={{marginRight:\"8px\"}}/> \n                <input\n                  style={{border:\"0\",width:\"100%\"}}\n                  error={touched.password && errors.password}\n                  label=\"Palavra-passe\"\n                  name=\"password\"\n                  onBlur={handleBlur}\n                  onChange={handleChange}\n                  type={seepassword?\"text\":\"password\"}\n                  value={values.password}\n                  placeholder='Palavra-passe'\n                />\n                <i className={seepassword?\"feather icon-eye\":\"feather icon-eye-off\"} style={{cursor:\"pointer\"}} onClick={()=>setseepassword(!seepassword)}/> \n              </span>\n              \n              {touched.password && errors.password && (                 \n                <small style={{color:\"red\"}} class=\"text-danger form-text\">{errors.password}</small>\n              )}\n            </div>\n\n            \n            {errors.submit && ( \n              <Col sm={12}>\n                  <Alert>{errors.submit}</Alert>\n              </Col>\n            )}\n\n\n            <Row>\n              <Col mt={2}>\n                <Button\n                  className=\"btn-block mb-4\"\n                  color=\"primary\"\n                  disabled={isSubmitting}\n                  size=\"large\"\n                  type=\"submit\"\n                  variant=\"primary\"\n                >\n                  Desbloquear\n                </Button>\n              </Col>\n            </Row>\n          </form>\n        )}\n      </Formik>\n  );\n};\n\nexport default JWTLock;","import React from \"react\";\nimport { Card} from \"react-bootstrap\";\n\nimport logo from '../../../assets/images/logo.png';\nimport Breadcrumb from '../../../layouts/AdminLayout/Breadcrumb';\n\nimport loginimg from '../../../assets/images/login.svg';\nimport circle from '../../../assets/images/circlelogin2.svg';\nimport dots from '../../../assets/images/dots.svg';\n\n\nimport JWTLock from './JWTLock';\n\n\nimport useAuth from '../../../hooks/useAuth'\n\n\nconst Signin1 = () => {\n\n    const { lockdata } = useAuth();\n\n\n    return (\n        <React.Fragment>\n            <Breadcrumb/>\n            <div className=\"auth-wrapper\">\n\n            \n                <div className=\"yellow-div\">\n                    \n                    <h1>Sistema Integrado de Gestão</h1>\n                    <img src={loginimg}  alt=\"pessoas em cartas\" />\n                    <h1>Inspeção Geral de Jogos</h1>\n                  \n                        <div className=\"figures_box\">\n                            <img src={circle} style={{ opacity: \"0.2\",top:\"-450px\",right:\"0px\",width:\"800px\",position:\"absolute\"}} alt=\"circulo\" />\n                            <img src={circle} style={{ opacity: \"0.2\",bottom:\"-450px\",left:\"-350px\",width:\"800px\",position:\"absolute\"}} alt=\"circulo2\" />\n\n                            <img src={dots} style={{ opacity: \"0.3\",top:\"10px\",left:\"30px\",width:\"200px\",position:\"absolute\"}} alt=\"pontos\" />\n                            <img src={dots} style={{ opacity: \"0.3\",bottom:\"10px\",right:\"30px\",width:\"200px\",position:\"absolute\"}} alt=\"pontos2\" />\n                            \n                        </div>\n\n                    <div className=\"auth-content text-center\">\n                        <Card className=\"borderless\" style={{borderRadius:\"20px\"}}>\n                            <Card.Body>\n                                <img style={{backgroundColor:\"#d2b32a\", width:\"130px\", height:\"130px\",marginBottom:\"10px\",borderRadius: \"50%\"}} src={lockdata.foto+\"?alt=media&token=0\"} alt=\"logo\"/>\n                                <p  className=\"mb-2 text-muted\" >{lockdata.username}</p>\n                                <div style={{marginBottom:\"36px\"}}></div>\n                                <JWTLock />\n\n                            \n                            </Card.Body>\n                        </Card>\n                    </div>\n                </div>\n            </div>\n        </React.Fragment>\n    );\n}\n\nexport default Signin1;"],"sourceRoot":""}